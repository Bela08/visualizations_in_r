<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Alex Slavenko and Maria Novosolov" />


<title>Visualizations in R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<script src="site_libs/plotly-binding-4.8.0/plotly.js"></script>
<script src="site_libs/typedarray-0.1/typedarray.min.js"></script>
<link href="site_libs/crosstalk-1.0.0/css/crosstalk.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.0.0/js/crosstalk.min.js"></script>
<link href="site_libs/plotly-htmlwidgets-css-1.39.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="site_libs/plotly-main-1.39.2/plotly-latest.min.js"></script>
<script src="site_libs/detect-resize-0.5.3/jquery.resize.js"></script>
<link href="site_libs/jquery-ui-1.11.4/jquery-ui.min.css" rel="stylesheet" />
<script src="site_libs/jquery-ui-1.11.4/jquery-ui.min.js"></script>
<script src="site_libs/d3-3.5.2/d3.min.js"></script>
<script src="site_libs/vega-1.4.3/vega.min.js"></script>
<script src="site_libs/lodash-2.2.1/lodash.min.js"></script>
<script>var lodash = _.noConflict();</script>
<link href="site_libs/ggvis-0.4.4/css/ggvis.css" rel="stylesheet" />
<script src="site_libs/ggvis-0.4.4/js/ggvis.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Visualizations in R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://example.com">EcoDataSci-TL</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Visualizations in R</h1>
<h4 class="author"><em>Alex Slavenko and Maria Novosolov</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In this workshop we will focus three topics:</p>
<ol style="list-style-type: decimal">
<li><p>How to prepare our plots for publication</p></li>
<li><p>How to create interactive visualizations</p></li>
<li><p>How to create geographic visualizations</p></li>
</ol>
<p>We will use data on per capita alcohol consumption in the countries of the world in 2010. At first, we will explore the data by generating typical plots. We will learn how to manipulate and design these plots to make them publication worthy, and how to turn them into interactive plots. We will then use the same data in ashapefile format to learn how to plot the data on a global map.</p>
<p>First thing is to make sure you have all the libraries uploaded for this session.</p>
<p>A bit more preperation before we start: add all the fonts in your computer to R</p>
<pre class="r"><code># font_import(prompt = F) #this imports fonts from your computer into R, and may take a lot of time
#load the fonts
loadfonts(quiet = T) #you may need to change the device, depending on whether you want to print the plot in R or export it</code></pre>
<p>Next, upload the data into your work environment. Make sure to change the path that you are using in the following code to fit the path for the file in your computer. We will upload the spatial data (the map) that we will use later, and save the metadata as a tibble to use it in the first part of the session. For your work, make sure to set the working directory with:</p>
<p>setwd(“your/path/to/data/file”)</p>
<p>or always add it when you read the file in.</p>
<pre class="r"><code>#upload the spatial file using geojson and specifying to R that it&#39;s a shapefile
data_vis.sp&lt;- geojsonio::geojson_read(&quot;country_alcohol.geojson&quot;,
  what = &quot;sp&quot;)
#save the data from the shapefile into a tibble
data_vis&lt;- as_tibble(data_vis.sp@data)
#manipulate the data a bit to make population numeric
data_vis&lt;- data_vis %&gt;% 
  mutate(POP_CNTRY=as.character(POP_CNTRY)) %&gt;% 
  filter(POP_CNTRY!=&quot;-99999&quot;) %&gt;% 
  mutate(POP_CNTRY=as.numeric(POP_CNTRY))
#remove all the lines with NA&#39;s. The function complete.cases removes all the lines that have NA&#39;s in them somewhere
data_vis&lt;- data_vis[complete.cases(data_vis),]</code></pre>
<p>Let’s view our data:</p>
<pre class="r"><code>data_vis</code></pre>
<pre><code>## # A tibble: 188 x 11
##    FIPS_CNTRY CNTRY_NAME POP_CNTRY SQKM_CNTRY LANDLOCKED ISLAND Continent
##    &lt;fct&gt;      &lt;fct&gt;          &lt;dbl&gt;      &lt;dbl&gt; &lt;fct&gt;      &lt;fct&gt;  &lt;fct&gt;    
##  1 AC         Antigua a…     65212       462. N          Y      North Am…
##  2 AF         Afghanist…  17250390    641869. Y          N      Asia     
##  3 AG         Algeria     27459230   2320972  N          N      Africa   
##  4 AJ         Azerbaijan   5487866     85808. Y          N      Asia     
##  5 AL         Albania      3416945     28754. N          N      Europe   
##  6 AM         Armenia      3377228     29872. Y          N      Europe   
##  7 AN         Andorra        55335       452. Y          N      Europe   
##  8 AO         Angola      11527260   1252421  N          N      Africa   
##  9 AR         Argentina   33796870   2781013  N          N      South Am…
## 10 AS         Australia   17827520   7706142  N          N      Oceania  
## # ... with 178 more rows, and 4 more variables: spirits &lt;dbl&gt;, beer &lt;dbl&gt;,
## #   wine &lt;dbl&gt;, total &lt;dbl&gt;</code></pre>
<pre class="r"><code>#look at the data. tibble equivalent to str
glimpse(data_vis)</code></pre>
<pre><code>## Observations: 188
## Variables: 11
## $ FIPS_CNTRY &lt;fct&gt; AC, AF, AG, AJ, AL, AM, AN, AO, AR, AS, AU, BA, BB,...
## $ CNTRY_NAME &lt;fct&gt; Antigua and Barbuda, Afghanistan, Algeria, Azerbaij...
## $ POP_CNTRY  &lt;dbl&gt; 65212, 17250390, 27459230, 5487866, 3416945, 337722...
## $ SQKM_CNTRY &lt;dbl&gt; 462.378, 641869.188, 2320972.000, 85808.203, 28754....
## $ LANDLOCKED &lt;fct&gt; N, Y, N, Y, N, Y, Y, N, N, N, Y, N, N, Y, N, N, N, ...
## $ ISLAND     &lt;fct&gt; Y, N, N, N, N, N, N, N, N, N, N, Y, Y, N, N, Y, N, ...
## $ Continent  &lt;fct&gt; North America, Asia, Africa, Asia, Europe, Europe, ...
## $ spirits    &lt;dbl&gt; 3.25, 0.00, 0.04, 1.46, 2.23, 3.52, 2.68, 0.64, 0.4...
## $ beer       &lt;dbl&gt; 2.89, 0.01, 0.17, 0.16, 1.61, 0.39, 3.54, 5.12, 3.3...
## $ wine       &lt;dbl&gt; 1.43, 0.00, 0.23, 0.22, 1.32, 0.30, 4.39, 1.95, 3.9...
## $ total      &lt;dbl&gt; 7.57, 0.01, 0.44, 1.84, 5.16, 4.21, 10.61, 7.71, 7....</code></pre>
<p>Each row in our data is a country. Our columns give data for each country on its population, size (in square km), if it’s landlocked or not, if it’s an island nation or not, which continent it is on, and the per capita alcohol consumption for 2010: in spirits, beer, wine, and the total consumption.</p>
<p>Now, let’s start plotting!</p>
</div>
<div id="publication-quality-plots" class="section level1">
<h1>Publication quality plots</h1>
<p>First, we’ll plot some data. We’ll plot the size of country (log-transformed) on the x axis, and the total alcohol consumption on the y axis. We’ll also colour our data based on continent.</p>
<pre class="r"><code>p &lt;- ggplot(aes(x = SQKM_CNTRY, y = total, colour = Continent), data = data_vis) + geom_point() + ggtitle(&quot;Per capita alcohol consumption&quot;)
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>This basic scatterplot is kind of ugly and uninformative. The good news is this can be improved quite easily, and we can actually make a decent looking plot out of this! We’ll do this step by step.</p>
<div id="colour-schemes" class="section level2">
<h2>Colour schemes</h2>
<p>Our first step will be colour schemes. The easiest thing to is to use the package ‘RColorBrewer’to generate a custom palette from a few nice looking options. With the function ’brewer.pal’ you define how many colours you want (6 in our case, for 6 continents), and which palette you want (in this case we use a palette called “Set3” - see the documentation of brewer.pal for all possible palette names).</p>
<pre class="r"><code>my.palette &lt;- brewer.pal(6, &quot;Set3&quot;)
p + scale_color_manual(values = my.palette)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>We can also generate custom color palettes using online tools. There are many different online tools to generate colour palettes, and in this tutorial we will try one nifty one, found on this website: <a href="https://palettegenerator.com/" class="uri">https://palettegenerator.com/</a> So we’ll use this one to make an epic Max Max colour palette!</p>
<pre class="r"><code>witness.me &lt;- c(&quot;#DE8136&quot;, &quot;#19191B&quot;, &quot;#F6CAB1&quot;, &quot;#533927&quot;, &quot;#986039&quot;, &quot;#166268&quot;)
p &lt;- p + scale_color_manual(values = witness.me)
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>We’ll stick with this palette for the rest of the tutorial.</p>
</div>
<div id="theme-layers" class="section level2">
<h2>Theme layers</h2>
<p>Now, let’s try and make the plot look a bit better. We can do this using the theme options - theme() has a LOT of different arguments that let you change the way your plot looks. You can change the background, the axes, the gridlines, the fonts, the titles, and the legend. Modifying elements in the theme is simple, but notice that different elements inherit different functions. For instance, modifying text elements is done using element_text(), whereas modifying line elements is done using element_line(). The one exception is element_blank() - use this for (almost) any type of element that you want to remove from the plot completely. Here are a few useful examples:</p>
<pre class="r"><code>p + theme(text = element_text(size = 16)) #change the font size</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>p + theme(text = element_text(family = &quot;Comic Sans MS&quot;)) #change the font family (this is horrible, never use comic sans)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="r"><code>p + theme(panel.grid = element_blank()) #remove gridlines</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre class="r"><code>p + theme(panel.background = element_rect(fill = &quot;black&quot;)) #change color of background</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
<pre class="r"><code>p + theme(axis.line = element_line(colour = &quot;black&quot;)) #add axis lines</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-5.png" width="672" /></p>
<pre class="r"><code>p &lt;- p + theme(panel.grid = element_blank(), axis.line = element_line(colour = &quot;black&quot;)) #make several changes together
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-6.png" width="672" /></p>
<div id="legend-manipulation" class="section level3">
<h3>Legend manipulation</h3>
<p>One of the most useful things you can do is to manipulate the legend. You can rename items in the legend, restyle it, move it around, or just delete it altogether.</p>
<pre class="r"><code>p + theme(legend.position = &quot;none&quot;) #remove the legend</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>p + theme(legend.position = c(.1,.75)) #move the legend to a different position</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<pre class="r"><code>p + theme(legend.title = element_blank()) #remove the title of the legend</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-9-3.png" width="672" /></p>
</div>
<div id="axes-manipulation" class="section level3">
<h3>Axes manipulation</h3>
<p>First of all, it’s about time we do something about our ugly data. One of our main issues is that the country areas (on the X axis) should be log-transformed. We can transform our data using a simple line of code, and some functions from the ‘scales’ package. Here are some examples, but make sure to check the trans() function documentation and pick the type of transformation that fits your data!</p>
<pre class="r"><code>p + scale_x_continuous(trans = log10_trans()) #log10 transformation</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>p + scale_x_continuous(trans = sqrt_trans()) #square-root transformation</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
<pre class="r"><code>p + scale_x_continuous(trans = reverse_trans()) #reverse transformation</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-10-3.png" width="672" /></p>
<p>And to make this look a bit better, let’s change the tick labels to have actual numbers. We’ll do this with the trans_format() function. We tell the function which transformation to apply to the numbers, and the format in which to write the labels.</p>
<pre class="r"><code>p &lt;- p + scale_x_continuous(trans = log10_trans(), labels = trans_format(&quot;log10&quot;, math_format(10^.x)))
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>You may also want to change the titles of your axes - this is always useful because usually your data will have column names that are short and easy to type, but less informative for a plot you want to publish. The expression() function (from base R) is useful for this, because it allows you to add special characters, as well as create super- and subscripts, italics, etc.</p>
<pre class="r"><code>p &lt;- p + labs(x = expression(&quot;Area (km&quot;^&quot;2&quot;~&quot;)&quot;), y = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;))
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
</div>
</div>
<div id="facets-rotations-etc." class="section level2">
<h2>Facets, rotations, etc.</h2>
<p>Now we can deal with another problem - this plot is a bit cluttered. It’s hard to tell the different continents from one another, which makes it difficult to identify trends. We can solve this via facetting - this is a cool tool that allows us to break up our one plot into several similar plots - they all have the same axes, but they are separated by the factor (continents in this case).</p>
<pre class="r"><code>p + facet_grid(Continent ~ .) #facet in the vertical direction</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
<pre class="r"><code>p + facet_grid(. ~ Continent) #facet in the horizontal direction</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-13-2.png" width="672" /></p>
<pre class="r"><code>p + facet_wrap( ~ Continent, ncol = 3) #facet in a grid, with a set number of columns (or rows)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-13-3.png" width="672" /></p>
<p>Your plot doesn’t have to be faceted by a factor that you’ve mapped. For instance, we can facet our plot by the factor ISLAND, even though it has no aesthetic mapped to it:</p>
<pre class="r"><code>p + facet_grid(. ~ ISLAND)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>We’ve now managed to generate a pretty nice looking plot. You’ll see that we all facets have the same range of values in their axes - this allows us to compare the scatterplots in the different levels of our factor (continent), but because they are each in a different “plot”, it’s a lot less messy and we can see where there is no trend (Europe) and where they might be something going on (Asia).</p>
<p>Now let’s try to do something a bit more interesting. Let’s try to generate a different plot that allows us to check for differences in alcohol consumption between continents, without taking into acount area. We’ll do this using a violin plot, which is a slightly fancier and more informative version of a boxplot. We’ll use the same colour palette as we did for the scatterplot.</p>
<pre class="r"><code>p2 &lt;- ggplot(aes(x = Continent, y = total, fill = Continent), data = data_vis) + 
  geom_violin(trim = F) +
  geom_boxplot(width = .1) +
  geom_jitter(height = 0, width = .1, alpha = .2) +
  scale_fill_manual(values = witness.me) +
  theme(panel.grid = element_blank(), axis.line = element_line(colour = &quot;black&quot;)) +
  labs(x = &quot;Continent&quot;, y = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;)) +
  ggtitle(&quot;Per capita alcohol consumption&quot;)
p2</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Now let’s try and combine these two plots - we want to put them both together, side by side. First thing we’ll do is rotate our violin plot. This is very easily done:</p>
<pre class="r"><code>p2 + coord_flip()</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>Now, we’ll use the plot_grid() function from the package ‘cowplot’ to draw the two plots side by side.</p>
<pre class="r"><code>p &lt;- p + facet_grid(Continent ~ .) + theme(legend.position = &quot;none&quot;, strip.background = element_blank(), strip.text = element_blank())
p2 &lt;- p2 + coord_flip() + theme(legend.position = &quot;none&quot;, axis.title.y = element_blank(), plot.title = element_text(colour = &quot;white&quot;)) + scale_x_discrete(limits = rev(levels(data_vis$Continent)))
p3 &lt;- plot_grid(p, p2)
p3</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="export" class="section level2">
<h2>Export</h2>
<p>Finally, it’s time to export our plot. There are several formats basic R can export to, the most useful of which are JPG, PNG and PDF. The code for them all follows the same basic format.</p>
<pre class="r"><code>jpeg(&quot;myplot.jpg&quot;)
p3
dev.off()</code></pre>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<pre class="r"><code>png(&quot;myplot.png&quot;)
p3
dev.off()</code></pre>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<pre class="r"><code>pdf(&quot;myplot.pdf&quot;)
p3
dev.off()</code></pre>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<div id="high-quality-files" class="section level3">
<h3>High quality files</h3>
<p>As you’ve probably noticed, while the PDF file looks ok, the JPG and PNG are really poor quality. However, we can fix this. For instance, we can create a TIFF file with a higher resolution and larger size. Also, we can change the size of the PDF, or export to other, different file formats.</p>
<pre class="r"><code>tiff(&quot;myplot.tiff&quot;, height = 20, width = 20, units = &quot;cm&quot;, res = 300)
p3
dev.off()</code></pre>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<pre class="r"><code>pdf(&quot;myplot.pdf&quot;, height = 20, width = 20)
p3
dev.off()</code></pre>
<pre><code>## quartz_off_screen 
##                 2</code></pre>
<p>##ggpubr</p>
<p>After we learned all this the hard way, let’s learn the easy way. The ‘ggpubr’ package is the simple way to create nice looking plots. For instance, we can recreate our violin plot using just one line of code, and even add some analysis to it.</p>
<pre class="r"><code>ggviolin(data_vis, x = &quot;Continent&quot;, y = &quot;total&quot;, fill = &quot;Continent&quot;, palette = witness.me, add = c(&quot;boxplot&quot;, &quot;jitter&quot;), ylab = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;), rotate = T, add.params = list(alpha = .2))</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>‘ggpubr’ has similar types of functions for different types of plots (scatterplots, boxplots, etc.). All look lovely, and require a lot less hassle to generate. It’s a package well worth exploring. Here a few examples of the types of plots you can generate with ‘ggpubr’:</p>
<pre class="r"><code>#density plots
ggdensity(data_vis, x = &quot;total&quot;, color = &quot;Continent&quot;, fill = &quot;Continent&quot;, palette = witness.me, facet.by = &quot;Continent&quot;, xlab = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;)) </code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<pre class="r"><code>#we can also mark the mean (or medians) and add tickmarks (rug = T) to show the actual values of the observations
ggdensity(data_vis, x = &quot;total&quot;, add = &quot;mean&quot;, rug = T, color = &quot;Continent&quot;, fill = &quot;Continent&quot;, palette = witness.me, facet.by = &quot;Continent&quot;, xlab = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;)) </code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-21-2.png" width="672" /></p>
<pre class="r"><code>#ordered bar plots
ggbarplot(data_vis, x = &quot;CNTRY_NAME&quot;, y = &quot;total&quot;, color = &quot;Continent&quot;, fill = &quot;Continent&quot;, palette = witness.me, sort.val = &quot;desc&quot;, sort.by.groups = F, x.text.angle = 90, ylab = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;), xlab = &quot;Country&quot;) + font(&quot;x.text&quot;, size = 4)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<pre class="r"><code>#Lollipop chart, as an alternative to barplot
ggdotchart(data_vis, x = &quot;CNTRY_NAME&quot;, y = &quot;total&quot;, color = &quot;Continent&quot;, palette = witness.me, sorting = &quot;descending&quot;, rotate = T, group = &quot;Continent&quot;, add = &quot;segments&quot;, ylab = expression(&quot;Consumption (l&quot;/&quot;y&quot;~&quot;)&quot;), xlab = &quot;Country&quot;) + font(&quot;y.text&quot;, size = 4)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>But really, the best way to learn is to just play around with the package and see what it’s capable of.</p>
</div>
</div>
<div id="excercise" class="section level2">
<h2>EXCERCISE</h2>
<p>Now it’s your turn to try! We want to know if landlocked countries are home to heavier drinkers - in all three different categories (beer, wine, spirits). So your task is to visualize differences between landlocked and non-landlocked countries in all three of these, in a single plot. Use whichever visualization method you are most comfortable with, and you think will display the data best for the question we want to ask. Don’t forget - visualization is as much design as it is coding! Try to make your figure clear and concise, but also visually appealing. Try to please your own sense of aesthetic first!</p>
</div>
</div>
<div id="interactive-visualization" class="section level1">
<h1>Interactive visualization</h1>
<p>In this part we will learn how to create interactive plots and how to use them online, in presentations, or Rmd files for reporting our results.</p>
<div id="introduction-to-plotly" class="section level2">
<h2>Introduction to plotly</h2>
<p>Plotly is a grate cross platform package, originating in JavaScript (JS) form, that allows a lot of variation for plotting interactive plots. We will use the R version of the package. It can be used in two ways, the simplest use of the package, is to use <code>ggplotly()</code> which transformes <code>ggplot</code> object to an interactive visualizations. This is done with the code</p>
<pre class="r"><code>#create a ggplot object
p &lt;- ggplot(aes(x = SQKM_CNTRY, y = total, colour = Continent), data = data_vis) + geom_point() + ggtitle(&quot;Per capita alcohol consumption&quot;) + scale_colour_manual(values = witness.me) + scale_x_continuous(trans = log10_trans())
p</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<pre class="r"><code>#transform in to an interactive object
ggplotly(p)</code></pre>
<div id="htmlwidget-68e2f00b87e48d74f474" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-68e2f00b87e48d74f474">{"x":{"data":[{"x":[6.36566990119748,6.09775034104936,5.76343637087294,5.06638108285023,4.43542816408337,6.06744358643068,5.53835942396721,6.36866372988614,5.66867164436435,3.22003587403836,5.79344069623722,3.59791425197255,4.33520991093879,5.99251391923857,4.43273366628145,5.08614902922593,6.05397224660192,4.02847364745965,5.41778497471989,5.38017668859194,5.39107014109965,5.5081465547805,5.76673152610946,4.98360838732888,4.48218217672853,6.20965305535408,5.77441212022522,5.07564876414434,6.09924785719034,5.60623063877285,6.01768846256236,5.89687267436488,6.07409237882873,5.9600132311674,4.52679648057406,4.40188678170274,2.68915518583345,6.08705110741591,5.29426932267702,4.86052623991848,5.80554511791888,6.39627067715859,4.75815227995418,3.02027217683396,5.19145520647634,5.97542118080262,5.3856954574464,5.43730524297252,4.23462126383944,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.44,7.71,4.78,1.08,1.59,0.37,3.53,0.88,2.62,0.15,0.34,4.74,0.43,0.22,9.93,0.4,0.42,0.2,8.82,0.69,0.19,0.99,1.39,3.64,2.11,0,1.03,0.34,0.11,0.56,0,0.9,0.11,0.81,1.67,0.84,6.5,6,0.29,0.23,0,0.46,0.93,5.57,1.28,0.92,0.84,0.7,1.76,1.06,2.11,7.29],"text":["SQKM_CNTRY:  2320972.000<br />total:  0.44<br />Continent: Africa","SQKM_CNTRY:  1252421.000<br />total:  7.71<br />Continent: Africa","SQKM_CNTRY:   580011.188<br />total:  4.78<br />Continent: Africa","SQKM_CNTRY:   116514.797<br />total:  1.08<br />Continent: Africa","SQKM_CNTRY:    27253.869<br />total:  1.59<br />Continent: Africa","SQKM_CNTRY:  1168002.000<br />total:  0.37<br />Continent: Africa","SQKM_CNTRY:   345429.500<br />total:  3.53<br />Continent: Africa","SQKM_CNTRY:  2337027.000<br />total:  0.88<br />Continent: Africa","SQKM_CNTRY:   466306.688<br />total:  2.62<br />Continent: Africa","SQKM_CNTRY:     1659.724<br />total:  0.15<br />Continent: Africa","SQKM_CNTRY:   621499.375<br />total:  0.34<br />Continent: Africa","SQKM_CNTRY:     3961.998<br />total:  4.74<br />Continent: Africa","SQKM_CNTRY:    21637.641<br />total:  0.43<br />Continent: Africa","SQKM_CNTRY:   982910.375<br />total:  0.22<br />Continent: Africa","SQKM_CNTRY:    27085.301<br />total:  9.93<br />Continent: Africa","SQKM_CNTRY:   121940.797<br />total:  0.40<br />Continent: Africa","SQKM_CNTRY:  1132328.000<br />total:  0.42<br />Continent: Africa","SQKM_CNTRY:    10677.600<br />total:  0.20<br />Continent: Africa","SQKM_CNTRY:   261688.703<br />total:  8.82<br />Continent: Africa","SQKM_CNTRY:   239980.906<br />total:  0.69<br />Continent: Africa","SQKM_CNTRY:   246076.500<br />total:  0.19<br />Continent: Africa","SQKM_CNTRY:   322215.594<br />total:  0.99<br />Continent: Africa","SQKM_CNTRY:   584428.688<br />total:  1.39<br />Continent: Africa","SQKM_CNTRY:    96296.031<br />total:  3.64<br />Continent: Africa","SQKM_CNTRY:    30351.641<br />total:  2.11<br />Continent: Africa","SQKM_CNTRY:  1620515.000<br />total:  0.00<br />Continent: Africa","SQKM_CNTRY:   594856.375<br />total:  1.03<br />Continent: Africa","SQKM_CNTRY:   119027.898<br />total:  0.34<br />Continent: Africa","SQKM_CNTRY:  1256747.000<br />total:  0.11<br />Continent: Africa","SQKM_CNTRY:   403859.812<br />total:  0.56<br />Continent: Africa","SQKM_CNTRY:  1041570.000<br />total:  0.00<br />Continent: Africa","SQKM_CNTRY:   788628.875<br />total:  0.90<br />Continent: Africa","SQKM_CNTRY:  1186021.000<br />total:  0.11<br />Continent: Africa","SQKM_CNTRY:   912038.625<br />total:  0.81<br />Continent: Africa","SQKM_CNTRY:    33635.391<br />total:  1.67<br />Continent: Africa","SQKM_CNTRY:    25228.230<br />total:  0.84<br />Continent: Africa","SQKM_CNTRY:      488.827<br />total:  6.50<br />Continent: Africa","SQKM_CNTRY:  1221943.449<br />total:  6.00<br />Continent: Africa","SQKM_CNTRY:   196910.703<br />total:  0.29<br />Continent: Africa","SQKM_CNTRY:    72531.430<br />total:  0.23<br />Continent: Africa","SQKM_CNTRY:   639065.125<br />total:  0.00<br />Continent: Africa","SQKM_CNTRY:  2490409.000<br />total:  0.46<br />Continent: Africa","SQKM_CNTRY:    57299.691<br />total:  0.93<br />Continent: Africa","SQKM_CNTRY:     1047.785<br />total:  5.57<br />Continent: Africa","SQKM_CNTRY:   155401.500<br />total:  1.28<br />Continent: Africa","SQKM_CNTRY:   944976.875<br />total:  0.92<br />Continent: Africa","SQKM_CNTRY:   243049.906<br />total:  0.84<br />Continent: Africa","SQKM_CNTRY:   273719.188<br />total:  0.70<br />Continent: Africa","SQKM_CNTRY:    17164.109<br />total:  1.76<br />Continent: Africa","SQKM_CNTRY:   754772.688<br />total:  1.06<br />Continent: Africa","SQKM_CNTRY:   390803.500<br />total:  2.11<br />Continent: Africa","SQKM_CNTRY:   826799.551<br />total:  7.29<br />Continent: Africa"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(222,129,54,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(222,129,54,1)"}},"hoveron":"points","name":"Africa","legendgroup":"Africa","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[5.80744652850754,4.93352880704855,2.81774248856863,5.14147235926192,5.82595867822331,4.60126681030785,3.76114081227672,5.26153001930686,4.82334536935885,6.97029581805315,6.28122477843913,6.48985755396475,6.21078921862354,4.3175163642471,5.63990654167833,5.57176635280671,4.95072788379945,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,6.1928951411764,3.3086064537932,5.49087375756611,2.21833853137602,5.51886859256559,5.16818091068653,5.94337250802182,4.04527915587125,5.47441123310173,7.2266499041864,6.29229484591852,2.72101959468574,5.27401229002042,4.85268980721568,5.71192864586408,5.15354139217025,5.67341583406143,5.64905365647082,5.51471054140608,5.62892090199381],"y":[0.01,1.84,1.93,0,0.3,0.28,0.86,2.19,2.27,5.75,0.08,2.77,0.03,2.57,0.18,5.37,0.5,2.73,3.12,2.42,0.01,6.83,5.95,1.56,5.8,2.95,0.56,1.84,0.48,0.24,0.03,1.15,4.71,10.92,0.09,1.81,0.78,1.68,5.93,0.32,2.48,2.73,3.93,0.06],"text":["SQKM_CNTRY:   641869.188<br />total:  0.01<br />Continent: Asia","SQKM_CNTRY:    85808.203<br />total:  1.84<br />Continent: Asia","SQKM_CNTRY:      657.268<br />total:  1.93<br />Continent: Asia","SQKM_CNTRY:   138507.203<br />total:  0.00<br />Continent: Asia","SQKM_CNTRY:   669820.875<br />total:  0.30<br />Continent: Asia","SQKM_CNTRY:    39927.012<br />total:  0.28<br />Continent: Asia","SQKM_CNTRY:     5769.535<br />total:  0.86<br />Continent: Asia","SQKM_CNTRY:   182612.297<br />total:  2.19<br />Continent: Asia","SQKM_CNTRY:    66580.242<br />total:  2.27<br />Continent: Asia","SQKM_CNTRY:  9338902.000<br />total:  5.75<br />Continent: Asia","SQKM_CNTRY:  1910842.000<br />total:  0.08<br />Continent: Asia","SQKM_CNTRY:  3089282.000<br />total:  2.77<br />Continent: Asia","SQKM_CNTRY:  1624760.000<br />total:  0.03<br />Continent: Asia","SQKM_CNTRY:    20773.820<br />total:  2.57<br />Continent: Asia","SQKM_CNTRY:   436421.906<br />total:  0.18<br />Continent: Asia","SQKM_CNTRY:   373049.406<br />total:  5.37<br />Continent: Asia","SQKM_CNTRY:    89274.594<br />total:  0.50<br />Continent: Asia","SQKM_CNTRY:   199340.000<br />total:  2.73<br />Continent: Asia","SQKM_CNTRY:   122472.602<br />total:  3.12<br />Continent: Asia","SQKM_CNTRY:    98338.609<br />total:  2.42<br />Continent: Asia","SQKM_CNTRY:    16983.971<br />total:  0.01<br />Continent: Asia","SQKM_CNTRY:  2715976.000<br />total:  6.83<br />Continent: Asia","SQKM_CNTRY:   230566.094<br />total:  5.95<br />Continent: Asia","SQKM_CNTRY:    10239.880<br />total:  1.56<br />Continent: Asia","SQKM_CNTRY:  1559176.000<br />total:  5.80<br />Continent: Asia","SQKM_CNTRY:     2035.197<br />total:  2.95<br />Continent: Asia","SQKM_CNTRY:   309651.906<br />total:  0.56<br />Continent: Asia","SQKM_CNTRY:      165.325<br />total:  1.84<br />Continent: Asia","SQKM_CNTRY:   330269.594<br />total:  0.48<br />Continent: Asia","SQKM_CNTRY:   147292.594<br />total:  0.24<br />Continent: Asia","SQKM_CNTRY:   877753.375<br />total:  0.03<br />Continent: Asia","SQKM_CNTRY:    11098.880<br />total:  1.15<br />Continent: Asia","SQKM_CNTRY:   298133.812<br />total:  4.71<br />Continent: Asia","SQKM_CNTRY: 16851940.000<br />total: 10.92<br />Continent: Asia","SQKM_CNTRY:  1960175.000<br />total:  0.09<br />Continent: Asia","SQKM_CNTRY:      526.041<br />total:  1.81<br />Continent: Asia","SQKM_CNTRY:   187937.000<br />total:  0.78<br />Continent: Asia","SQKM_CNTRY:    71234.406<br />total:  1.68<br />Continent: Asia","SQKM_CNTRY:   515144.000<br />total:  5.93<br />Continent: Asia","SQKM_CNTRY:   142410.297<br />total:  0.32<br />Continent: Asia","SQKM_CNTRY:   471428.500<br />total:  2.48<br />Continent: Asia","SQKM_CNTRY:   445711.312<br />total:  2.73<br />Continent: Asia","SQKM_CNTRY:   327122.594<br />total:  3.93<br />Continent: Asia","SQKM_CNTRY:   425520.906<br />total:  0.06<br />Continent: Asia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(25,25,27,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(25,25,27,1)"}},"hoveron":"points","name":"Asia","legendgroup":"Asia","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[4.4587058202339,4.47527100280811,2.65560418680044,4.9229270027281,4.48400939146574,4.71099166827195,5.31529993007752,5.04454563979055,3.96505331917989,4.63012987934406,4.84126030983019,4.65843650123397,4.89484285690601,5.52348230683887,5.73777201137465,4.84474566566214,5.55158272053082,5.12008641216737,4.75041418978726,4.96746468009679,5.00777037523082,5.47853691639096,4.8082034824618,4.81190461616369,4.68706774892642,3.41398955976213,4.52591226980523,4.40348581000797,2.52161659042008,4.13808312654993,4.55013892812037,5.50100775485196,5.49236235103961,4.96425148650953,5.37411384944735,4.30633256123811,5.70387097298343,4.94547724139135,5.64718699257845,4.6146694468645,5.89208691226933,5.38585141635643,5.77527604359636],"y":[5.16,4.21,10.61,12.1,10.2,4.41,9.98,10.76,11.31,10.22,10.93,13.16,12.69,8.5,11.5,7.23,11.21,8.9,11.7,10.78,8.11,6.95,9.28,11.4,9.79,11.36,8.02,1.47,7.61,6.42,9.33,6.45,10.59,11.79,9,10.32,9.6,9.45,7.2,9.89,1.49,9.97,8.17],"text":["SQKM_CNTRY:    28754.500<br />total:  5.16<br />Continent: Europe","SQKM_CNTRY:    29872.461<br />total:  4.21<br />Continent: Europe","SQKM_CNTRY:      452.485<br />total: 10.61<br />Continent: Europe","SQKM_CNTRY:    83738.852<br />total: 12.10<br />Continent: Europe","SQKM_CNTRY:    30479.609<br />total: 10.20<br />Continent: Europe","SQKM_CNTRY:    51403.379<br />total:  4.41<br />Continent: Europe","SQKM_CNTRY:   206680.703<br />total:  9.98<br />Continent: Europe","SQKM_CNTRY:   110801.500<br />total: 10.76<br />Continent: Europe","SQKM_CNTRY:     9226.847<br />total: 11.31<br />Continent: Europe","SQKM_CNTRY:    42670.711<br />total: 10.22<br />Continent: Europe","SQKM_CNTRY:    69384.156<br />total: 10.93<br />Continent: Europe","SQKM_CNTRY:    45544.559<br />total: 13.16<br />Continent: Europe","SQKM_CNTRY:    78495.156<br />total: 12.69<br />Continent: Europe","SQKM_CNTRY:   333796.906<br />total:  8.50<br />Continent: Europe","SQKM_CNTRY:   546728.875<br />total: 11.50<br />Continent: Europe","SQKM_CNTRY:    69943.227<br />total:  7.23<br />Continent: Europe","SQKM_CNTRY:   356108.812<br />total: 11.21<br />Continent: Europe","SQKM_CNTRY:   131851.906<br />total:  8.90<br />Continent: Europe","SQKM_CNTRY:    56287.789<br />total: 11.70<br />Continent: Europe","SQKM_CNTRY:    92782.203<br />total: 10.78<br />Continent: Europe","SQKM_CNTRY:   101805.297<br />total:  8.11<br />Continent: Europe","SQKM_CNTRY:   300979.500<br />total:  6.95<br />Continent: Europe","SQKM_CNTRY:    64298.891<br />total:  9.28<br />Continent: Europe","SQKM_CNTRY:    64849.199<br />total: 11.40<br />Continent: Europe","SQKM_CNTRY:    48648.309<br />total:  9.79<br />Continent: Europe","SQKM_CNTRY:     2594.117<br />total: 11.36<br />Continent: Europe","SQKM_CNTRY:    33566.980<br />total:  8.02<br />Continent: Europe","SQKM_CNTRY:    25321.289<br />total:  1.47<br />Continent: Europe","SQKM_CNTRY:      332.366<br />total:  7.61<br />Continent: Europe","SQKM_CNTRY:    13743.050<br />total:  6.42<br />Continent: Europe","SQKM_CNTRY:    35492.691<br />total:  9.33<br />Continent: Europe","SQKM_CNTRY:   316962.406<br />total:  6.45<br />Continent: Europe","SQKM_CNTRY:   310715.094<br />total: 10.59<br />Continent: Europe","SQKM_CNTRY:    92098.273<br />total: 11.79<br />Continent: Europe","SQKM_CNTRY:   236654.000<br />total:  9.00<br />Continent: Europe","SQKM_CNTRY:    20245.689<br />total: 10.32<br />Continent: Europe","SQKM_CNTRY:   505674.406<br />total:  9.60<br />Continent: Europe","SQKM_CNTRY:    88201.758<br />total:  9.45<br />Continent: Europe","SQKM_CNTRY:   443799.688<br />total:  7.20<br />Continent: Europe","SQKM_CNTRY:    41178.398<br />total:  9.89<br />Continent: Europe","SQKM_CNTRY:   779986.188<br />total:  1.49<br />Continent: Europe","SQKM_CNTRY:   243137.203<br />total:  9.97<br />Continent: Europe","SQKM_CNTRY:   596040.875<br />total:  8.17<br />Continent: Europe"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(246,202,177,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(246,202,177,1)"}},"hoveron":"points","name":"Europe","legendgroup":"Europe","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[2.66499716212117,2.64339542480372,4.10950362717532,6.99584132587985,4.71271735708082,5.04313819501313,2.86450930115933,4.68524930986484,4.31589711765363,2.56449089109948,5.03942124630655,4.43388081677464,5.05250926019063,4.04312089256947,6.29290680373907,5.11074925223026,2.4396831464847,2.78202663424162,3.71194626534631,6.97546489635217,2.59063789801438],"y":[7.57,8.2,8.81,8.2,3.54,4.1,7.38,5.95,2.36,7.71,2.12,5.75,3.1,3.29,5.16,3.38,8.18,10.28,6.41,8.55,6.87],"text":["SQKM_CNTRY:      462.378<br />total:  7.57<br />Continent: North America","SQKM_CNTRY:      439.942<br />total:  8.20<br />Continent: North America","SQKM_CNTRY:    12867.780<br />total:  8.81<br />Continent: North America","SQKM_CNTRY:  9904700.000<br />total:  8.20<br />Continent: North America","SQKM_CNTRY:    51608.039<br />total:  3.54<br />Continent: North America","SQKM_CNTRY:   110443.000<br />total:  4.10<br />Continent: North America","SQKM_CNTRY:      731.997<br />total:  7.38<br />Continent: North America","SQKM_CNTRY:    48445.039<br />total:  5.95<br />Continent: North America","SQKM_CNTRY:    20696.510<br />total:  2.36<br />Continent: North America","SQKM_CNTRY:      366.852<br />total:  7.71<br />Continent: North America","SQKM_CNTRY:   109501.797<br />total:  2.12<br />Continent: North America","SQKM_CNTRY:    27156.939<br />total:  5.75<br />Continent: North America","SQKM_CNTRY:   112852.000<br />total:  3.10<br />Continent: North America","SQKM_CNTRY:    11043.860<br />total:  3.29<br />Continent: North America","SQKM_CNTRY:  1962939.000<br />total:  5.16<br />Continent: North America","SQKM_CNTRY:   129047.398<br />total:  3.38<br />Continent: North America","SQKM_CNTRY:      275.222<br />total:  8.18<br />Continent: North America","SQKM_CNTRY:      605.378<br />total: 10.28<br />Continent: North America","SQKM_CNTRY:     5151.649<br />total:  6.41<br />Continent: North America","SQKM_CNTRY:  9450720.000<br />total:  8.55<br />Continent: North America","SQKM_CNTRY:      389.617<br />total:  6.87<br />Continent: North America"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(83,57,39,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(83,57,39,1)"}},"hoveron":"points","name":"North America","legendgroup":"North America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6.88683700743434,4.44310208872105,2.36461102327188,4.28699262931735,2.84593975510924,3.02118516291232,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,2.84293670893973,1.48852251464441,3.44757273961188],"y":[9.68,1.05,10.72,2.25,1.77,0.47,4.9,0.91,1.1,8.39,0.79,1.24,1.02,3.01],"text":["SQKM_CNTRY:  7706142.000<br />total:  9.68<br />Continent: Oceania","SQKM_CNTRY:    27739.721<br />total:  1.05<br />Continent: Oceania","SQKM_CNTRY:      231.532<br />total: 10.72<br />Continent: Oceania","SQKM_CNTRY:    19363.891<br />total:  2.25<br />Continent: Oceania","SQKM_CNTRY:      701.358<br />total:  1.77<br />Continent: Oceania","SQKM_CNTRY:     1049.990<br />total:  0.47<br />Continent: Oceania","SQKM_CNTRY:      227.818<br />total:  4.90<br />Continent: Oceania","SQKM_CNTRY:    12534.900<br />total:  0.91<br />Continent: Oceania","SQKM_CNTRY:       28.489<br />total:  1.10<br />Continent: Oceania","SQKM_CNTRY:   266820.188<br />total:  8.39<br />Continent: Oceania","SQKM_CNTRY:   466161.188<br />total:  0.79<br />Continent: Oceania","SQKM_CNTRY:      696.525<br />total:  1.24<br />Continent: Oceania","SQKM_CNTRY:       30.798<br />total:  1.02<br />Continent: Oceania","SQKM_CNTRY:     2802.675<br />total:  3.01<br />Continent: Oceania"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(152,96,57,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(152,96,57,1)"}},"hoveron":"points","name":"Oceania","legendgroup":"Oceania","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[6.44420301900262,4.34586010321294,6.03756712283343,6.92978296733828,5.87057840041182,6.05765165253952,5.40981819752422,5.32477882534843,5.16285553115332,5.60215705181225,6.11291050868933,4.87330379365417,5.25076339101285,5.96216113700033],"y":[7.68,6.61,3.93,7.48,7.93,4.27,3.93,7.5,5.09,5.59,4.73,6.92,6.21,7.16],"text":["SQKM_CNTRY:  2781013.000<br />total:  7.68<br />Continent: South America","SQKM_CNTRY:    22174.820<br />total:  6.61<br />Continent: South America","SQKM_CNTRY:  1090353.000<br />total:  3.93<br />Continent: South America","SQKM_CNTRY:  8507128.000<br />total:  7.48<br />Continent: South America","SQKM_CNTRY:   742298.188<br />total:  7.93<br />Continent: South America","SQKM_CNTRY:  1141962.000<br />total:  4.27<br />Continent: South America","SQKM_CNTRY:   256932.000<br />total:  3.93<br />Continent: South America","SQKM_CNTRY:   211241.297<br />total:  7.50<br />Continent: South America","SQKM_CNTRY:   145497.500<br />total:  5.09<br />Continent: South America","SQKM_CNTRY:   400089.406<br />total:  5.59<br />Continent: South America","SQKM_CNTRY:  1296912.000<br />total:  4.73<br />Continent: South America","SQKM_CNTRY:    74697.109<br />total:  6.92<br />Continent: South America","SQKM_CNTRY:   178140.797<br />total:  6.21<br />Continent: South America","SQKM_CNTRY:   916560.500<br />total:  7.16<br />Continent: South America"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(22,98,104,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(22,98,104,1)"}},"hoveron":"points","name":"South America","legendgroup":"South America","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":47.6147779161478,"r":9.29846409298464,"b":52.2015774180158,"l":48.4821917808219},"font":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693},"title":"<b> Per capita alcohol consumption <\/b>","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1.16607857027208,7.5152485391347],"tickmode":"array","ticktext":["1e+03","1e+05","1e+07"],"tickvals":[3,5,7],"categoryorder":"array","categoryarray":["1e+03","1e+05","1e+07"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":4.64923204649232,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.9375674553757},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"SQKM_CNTRY","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.658,13.818],"tickmode":"array","ticktext":["0","5","10"],"tickvals":[0,5,10],"categoryorder":"array","categoryarray":["0","5","10"],"nticks":null,"ticks":"outside","tickcolor":"rgba(0,0,0,1)","ticklen":4.64923204649232,"tickwidth":0.66417600664176,"showticklabels":true,"tickfont":{"color":"rgba(0,0,0,1)","family":"","size":15.9375674553757},"tickangle":-0,"showline":true,"linecolor":"rgba(0,0,0,1)","linewidth":0.66417600664176,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"x","title":"total","titlefont":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":15.9375674553757},"y":0.889763779527559},"annotations":[{"text":"Continent","x":1.02,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":18.5969281859693},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"left","yanchor":"bottom","legendTitle":true}],"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"source":"A","attrs":{"640112056103":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"640112056103","visdat":{"640112056103":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>The other option is to transfer data into and interactive object, this is done with the <code>plot_ly()</code> function. This function was originally created to allow create plots that were not available with <code>ggplot</code> such as 3D and mash plots. However, today you can create any plot with this function, and majority of <code>ggplot</code> objects can be transformed into a <code>plotly</code> object.</p>
<p>We will anyway learn a bit about the <code>plot_ly()</code> syntex for you to be able to use the power of the JS library in R</p>
<div id="plot_ly-syntex" class="section level3">
<h3><code>plot_ly()</code> syntex</h3>
<p>This function is extremely versitile and it allows you to control and change every small thing on the plot. The <code>plot_ly()</code> function uses the pipe symbol <code>%&gt;%</code> to add traces which are equivalent to <code>geom</code> in <code>ggplot</code> and describes the type of plot you want, and layers which are anything you want to change or add to the the type of plot. Scatter is the default type. Lets look at the most basic <code>plot_ly()</code> plot: Number of beer liters consumed as a function of country size</p>
<pre class="r"><code>plot_ly(data_vis,x=~log10(SQKM_CNTRY),y=~beer, type = &#39;scatter&#39;)</code></pre>
<div id="htmlwidget-ad921ae63e0a53f4e3b1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ad921ae63e0a53f4e3b1">{"x":{"visdat":{"6401664143f4":["function () ","plotlyVisDat"]},"cur_data":"6401664143f4","attrs":{"6401664143f4":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[2.66499716212117,5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,2.81774248856863,2.64339542480372,5.76343637087294,4.48400939146574,4.10950362717532,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,4.44310208872105,6.92978296733828,4.60126681030785,5.04454563979055,3.76114081227672,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,4.82334536935885,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,3.22003587403836,6.05765165253952,4.71271735708082,5.79344069623722,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,4.63012987934406,4.33520991093879,2.86450930115933,4.68524930986484,5.40981819752422,5.99251391923857,4.84126030983019,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,4.28699262931735,2.84593975510924,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,2.56449089109948,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,4.43388081677464,5.05250926019063,4.75041418978726,4.96746468009679,5.00777037523082,6.28122477843913,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,5.57176635280671,4.04312089256947,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,3.02118516291232,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,5.77441212022522,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,3.3086064537932,6.01768846256236,2.52161659042008,5.49087375756611,2.21833853137602,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,2.35758803489603,6.07409237882873,4.09812087362559,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,1.45467720522038,5.16285553115332,5.11074925223026,5.42621868583413,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,5.66853611187201,4.52679648057406,4.04527915587125,5.37411384944735,5.47441123310173,7.2266499041864,4.40188678170274,6.29229484591852,2.4396831464847,2.68915518583345,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,2.72101959468574,5.80554511791888,5.70387097298343,4.94547724139135,2.78202663424162,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,3.71194626534631,5.71192864586408,5.15354139217025,2.84293670893973,4.75815227995418,3.02027217683396,5.19145520647634,5.89208691226933,1.48852251464441,5.67341583406143,5.97542118080262,5.3856954574464,5.38585141635643,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,2.59063789801438,5.96216113700033,5.51471054140608,3.44757273961188,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[2.89,0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,0.46,3.3,3.36,5.02,3.23,0,4.52,3.33,2.96,0.14,0.67,2.5,0.95,4.42,0.11,4.01,0.82,1.59,4.2,0.91,0.32,0.3,2.9,0.62,1.6,2.37,2.53,0.04,2.86,2.07,0.29,1.6,2.51,2.07,3.78,3.86,0.2,0.48,3.22,2.67,0.12,5.73,6.26,5.87,0.4,1,0.36,6.79,4.47,1.35,0.86,2.2,0.17,5.96,1.36,0.48,3.55,6.01,2.25,0.87,0.15,1.74,0.01,1.36,4.46,3.91,4.98,0.07,0.17,0,1.15,1.66,0.71,0.14,1.33,1.33,0.1,0.96,0.63,0.16,0.44,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,0.53,1.89,1.6,0.15,0.75,0.08,0.2,1.81,0,2.89,0.22,0.5,0.73,3.92,0.38,0.61,1.9,0.05,0.34,0.7,4.36,2.91,0.12,0.94,2.03,1.33,3.67,2.39,2.7,0,5.88,4.82,3.37,0.76,0.44,0.33,4.5,1.32,4.11,0.8,0,3.79,2.75,3.5,0.14,4.59,0.18,1.29,0,4.87,2.88,3.28,0.17,2.7,0.05,3.18,0.19,3.53,1.59,0.02,0.92,0.63,0.79,0.87,0.86,0.11,0.35,0.67,0.68,3.76,3.36,4.31,0.46,1.9,0.65,2.32,5.43,1.82,2.57,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>Now lets add a descrete variable to use as color variable in the plot. We use whether it’s and island or not</p>
<pre class="r"><code>plot_ly(data_vis,x=~log10(SQKM_CNTRY),y=~beer, type = &#39;scatter&#39;,color =~ ISLAND)</code></pre>
<div id="htmlwidget-a3fea7b58b984a25f6e6" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a3fea7b58b984a25f6e6">{"x":{"visdat":{"64011ce65197":["function () ","plotlyVisDat"]},"cur_data":"64011ce65197","attrs":{"64011ce65197":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>We can change the colors to what we want</p>
<pre class="r"><code>plot_ly(data_vis,x=~log10(SQKM_CNTRY),y=~beer, type = &#39;scatter&#39;,color =~ISLAND,colors = &quot;Set1&quot;)</code></pre>
<div id="htmlwidget-b0cb067ac237513b246a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b0cb067ac237513b246a">{"x":{"visdat":{"64011a94f4a0":["function () ","plotlyVisDat"]},"cur_data":"64011a94f4a0","attrs":{"64011a94f4a0":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>We can change the ledgend position</p>
<pre class="r"><code>#legende bottom
plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~beer, 
        type = &#39;scatter&#39;,
        color =~ISLAND,
        colors = &quot;Set1&quot;) %&gt;% 
   layout(legend = list(orientation = &#39;h&#39;))</code></pre>
<div id="htmlwidget-695e27233b7744db0b71" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-695e27233b7744db0b71">{"x":{"visdat":{"64015b4c0e56":["function () ","plotlyVisDat"]},"cur_data":"64015b4c0e56","attrs":{"64015b4c0e56":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"orientation":"h"},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<pre class="r"><code>#legend witin plot
plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~beer, 
        type = &#39;scatter&#39;,
        color =~ISLAND,
        colors = &quot;Set1&quot;) %&gt;% 
layout(legend = list(x = 0.1, y = 0.9))</code></pre>
<div id="htmlwidget-cc1f8f3420c0e55faa18" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-cc1f8f3420c0e55faa18">{"x":{"visdat":{"640153d3fad4":["function () ","plotlyVisDat"]},"cur_data":"640153d3fad4","attrs":{"640153d3fad4":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"x":0.1,"y":0.9},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<pre class="r"><code>#no ledgend
plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~beer, 
        type = &#39;scatter&#39;,
        color =~ISLAND,
        colors = &quot;Set1&quot;) %&gt;% 
  layout(showlegend = FALSE)</code></pre>
<div id="htmlwidget-6246d072cfcfcb70c1a1" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6246d072cfcfcb70c1a1">{"x":{"visdat":{"640136dfb628":["function () ","plotlyVisDat"]},"cur_data":"640136dfb628","attrs":{"640136dfb628":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"beer"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>Change axis names</p>
<pre class="r"><code>plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~beer, 
        type = &#39;scatter&#39;,
        color =~ISLAND,
        colors = &quot;Set1&quot;) %&gt;% 
layout(legend = list(x = 0.1, y = 0.9),
       xaxis = list(title = &quot;where in the world&quot;,
                    titlefont = list(family = &quot;Comic Sans MS&quot;,size = 18)),
       yaxis = list(title = &quot;Beer consumption&quot;,
                    titlefont = list(family = &quot;Courier New, monospace&quot;, size =30)))</code></pre>
<div id="htmlwidget-b5007938619c5a1c3eab" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b5007938619c5a1c3eab">{"x":{"visdat":{"640163b54164":["function () ","plotlyVisDat"]},"cur_data":"640163b54164","attrs":{"640163b54164":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"x":0.1,"y":0.9},"xaxis":{"domain":[0,1],"automargin":true,"title":"where in the world","titlefont":{"family":"Comic Sans MS","size":18}},"yaxis":{"domain":[0,1],"automargin":true,"title":"Beer consumption","titlefont":{"family":"Courier New, monospace","size":30}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>A cleaner way to do the same</p>
<pre class="r"><code>#first font
f1 = list(family = &quot;Comic Sans MS&quot;,size = 18)
#second font
f2 = list(family = &quot;Courier New, monospace&quot;, size =30)
#xaxis
x = list(title = &quot;where in the world&quot;, titlefont = f1)
#yaxis
y = list(title = &quot;Beer consumption&quot;, titlefont = f2)

#make the plot
plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~beer, 
        type = &#39;scatter&#39;,
        color =~ISLAND,
        colors = &quot;Set1&quot;) %&gt;% 
layout(legend = list(x = 0.1, y = 0.9),
       xaxis = x,
       yaxis = y)</code></pre>
<div id="htmlwidget-6ac91a6ffce4e22c21a7" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-6ac91a6ffce4e22c21a7">{"x":{"visdat":{"64017d0cb5da":["function () ","plotlyVisDat"]},"cur_data":"64017d0cb5da","attrs":{"64017d0cb5da":{"x":{},"y":{},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"legend":{"x":0.1,"y":0.9},"xaxis":{"domain":[0,1],"automargin":true,"title":"where in the world","titlefont":{"family":"Comic Sans MS","size":18}},"yaxis":{"domain":[0,1],"automargin":true,"title":"Beer consumption","titlefont":{"family":"Courier New, monospace","size":30}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[5.80744652850754,6.36566990119748,4.93352880704855,4.4587058202339,4.47527100280811,2.65560418680044,6.09775034104936,6.44420301900262,6.88683700743434,4.9229270027281,5.76343637087294,4.48400939146574,5.14147235926192,4.34586010321294,4.71099166827195,6.03756712283343,5.82595867822331,5.06638108285023,5.31529993007752,6.92978296733828,4.60126681030785,5.04454563979055,4.43542816408337,6.99584132587985,5.26153001930686,6.06744358643068,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,6.05765165253952,4.71271735708082,5.79344069623722,4.63012987934406,4.33520991093879,5.40981819752422,5.99251391923857,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,6.05397224660192,4.89484285690601,5.52348230683887,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,5.05250926019063,4.75041418978726,4.96746468009679,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,4.95072788379945,5.76673152610946,5.29959445392492,5.0880389447737,4.99272406090048,4.23003923960408,6.43392592793777,5.36279544228496,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,4.68706774892642,4.48218217672853,3.41398955976213,6.20965305535408,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,5.60623063877285,6.01768846256236,5.49087375756611,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,6.07409237882873,5.9600132311674,4.55013892812037,5.50100775485196,5.16818091068653,5.16285553115332,5.11074925223026,5.60215705181225,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,4.52679648057406,4.04527915587125,5.37411384944735,7.2266499041864,4.40188678170274,6.29229484591852,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,5.80554511791888,5.70387097298343,4.94547724139135,6.39627067715859,5.64718699257845,5.27401229002042,4.6146694468645,4.85268980721568,5.71192864586408,5.15354139217025,4.75815227995418,5.19145520647634,5.89208691226933,5.67341583406143,5.97542118080262,5.3856954574464,5.77527604359636,6.97546489635217,5.43730524297252,5.25076339101285,5.64905365647082,5.96216113700033,5.51471054140608,4.23462126383944,5.62892090199381,5.87781617651476,5.59195844456536,5.91740023210828],"y":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(228,26,28,1)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[2.66499716212117,2.81774248856863,2.64339542480372,4.10950362717532,4.44310208872105,3.76114081227672,4.82334536935885,3.22003587403836,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,2.86450930115933,4.68524930986484,4.84126030983019,4.28699262931735,2.84593975510924,2.56449089109948,4.43388081677464,5.00777037523082,6.28122477843913,5.57176635280671,4.04312089256947,3.02118516291232,5.77441212022522,3.3086064537932,2.52161659042008,2.21833853137602,2.35758803489603,4.09812087362559,1.45467720522038,5.42621868583413,5.66853611187201,5.47441123310173,2.4396831464847,2.68915518583345,2.72101959468574,2.78202663424162,3.71194626534631,2.84293670893973,3.02027217683396,1.48852251464441,5.38585141635643,2.59063789801438,3.44757273961188],"y":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(153,153,153,1)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<p>We can plot side by side for each factor in the descrete variable. Make sure that the data you want to plot is in a long format.</p>
<pre class="r"><code>p &lt;- data_vis %&gt;%
  #transform the variable that will be used to plot to integer type
  transform(id = as.integer(factor(ISLAND))) %&gt;%
  #plot the data where X is the predictor, y is the response, color is thedivider, yaxis is the variable to use to divide the plot
  plot_ly(x = ~beer, y = ~total, color = ~ISLAND, colors = &quot;Dark2&quot;,type = &quot;scatter&quot;,
          yaxis = ~paste0(&quot;y&quot;, id)) %&gt;%
  # define the number of subplots and share the x to plot them together
  subplot(nrows = 2, shareX = TRUE)
p</code></pre>
<div id="htmlwidget-57a85230c81777829955" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-57a85230c81777829955">{"x":{"data":[{"x":[2.89,0.46,3.3,3.23,0.95,0.82,0.3,0.04,1.6,2.51,2.07,3.78,0.48,3.22,5.73,1.35,0.86,3.55,0.01,4.98,0.07,1.33,1.33,0.44,0.53,1.81,2.89,0.5,1.9,0.34,0.94,3.67,0.76,1.32,3.79,2.75,1.29,3.28,3.53,0.92,0.79,0.11,3.76,2.32,2.57],"y":[7.57,1.93,8.2,8.81,1.05,0.86,2.27,0.15,4.1,4.74,10.72,11.31,7.38,5.95,10.93,2.25,1.77,7.71,5.75,8.11,0.08,5.37,3.29,0.47,1.03,2.95,7.61,1.84,4.9,0.91,1.1,8.39,0.79,4.71,8.18,6.5,1.81,10.28,6.41,1.24,5.57,1.02,9.97,6.87,3.01],"yaxis":"y","type":"scatter","mode":"markers","name":"Y","marker":{"color":"rgba(102,102,102,1)","line":{"color":"rgba(102,102,102,1)"}},"textfont":{"color":"rgba(102,102,102,1)"},"error_y":{"color":"rgba(102,102,102,1)"},"error_x":{"color":"rgba(102,102,102,1)"},"line":{"color":"rgba(102,102,102,1)"},"xaxis":"x","frame":null},{"x":[0.01,0.17,0.16,1.61,0.39,3.54,5.12,3.32,4.51,6.1,3.36,5.02,0,4.52,3.33,2.96,0.14,0.67,2.5,4.42,0.11,4.01,1.59,4.2,0.91,0.32,2.9,0.62,1.6,2.37,2.53,2.86,2.07,0.29,3.86,0.2,2.67,0.12,6.26,5.87,0.4,1,0.36,6.79,4.47,2.2,0.17,5.96,1.36,0.48,6.01,2.25,0.87,0.15,1.74,1.36,4.46,3.91,0.17,0,1.15,1.66,0.71,0.14,0.1,0.96,0.63,0.16,1.88,0,2.11,2.39,0.41,4.57,6,0.33,3.42,1.49,4.11,0,1.89,1.6,0.15,0.75,0.08,0.2,0,0.22,0.73,3.92,0.38,0.61,0.05,0.7,4.36,2.91,0.12,2.03,1.33,2.39,2.7,0,5.88,4.82,3.37,0.44,0.33,4.5,4.11,0.8,0,3.5,0.14,4.59,0.18,0,4.87,2.88,0.17,2.7,0.05,3.18,0.19,1.59,0.02,0.63,0.87,0.86,0.35,0.67,0.68,3.36,4.31,0.46,1.9,0.65,5.43,1.82,1.69,0.06,0.62,1.67,7.16],"y":[0.01,0.44,1.84,5.16,4.21,10.61,7.71,7.68,9.68,12.1,4.78,10.2,0,6.61,4.41,3.93,0.3,1.08,9.98,7.48,0.28,10.76,1.59,8.2,2.19,0.37,3.53,0.88,5.75,7.93,2.62,4.27,3.54,0.34,10.22,0.43,3.93,0.22,9.93,13.16,0.4,2.36,0.42,12.69,8.5,11.5,0.2,8.82,7.23,0.69,11.21,8.9,2.12,0.19,7.5,3.1,11.7,10.78,2.77,0.03,2.57,6.95,0.99,0.18,0.5,1.39,2.73,3.12,2.42,0.01,6.83,5.95,1.56,9.28,11.4,3.64,9.79,2.11,11.36,0,8.02,5.8,0.34,1.47,0.11,0.56,0,0.56,6.42,5.16,0.48,0.9,0.11,0.81,9.33,6.45,0.24,5.09,3.38,5.59,4.73,0.03,10.59,6.92,11.79,1.67,1.15,9,10.92,0.84,0.09,6,0.29,10.32,0.23,0,9.6,9.45,0.46,7.2,0.78,9.89,1.68,5.93,0.32,0.93,1.28,1.49,2.48,0.92,0.84,8.17,8.55,0.7,6.21,2.73,7.16,3.93,1.76,0.06,1.06,2.11,7.29],"yaxis":"y2","type":"scatter","mode":"markers","name":"N","marker":{"color":"rgba(27,158,119,1)","line":{"color":"rgba(27,158,119,1)"}},"textfont":{"color":"rgba(27,158,119,1)"},"error_y":{"color":"rgba(27,158,119,1)"},"error_x":{"color":"rgba(27,158,119,1)"},"line":{"color":"rgba(27,158,119,1)"},"xaxis":"x","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"beer","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"anchor":"x"},"yaxis":{"domain":[0.52,1],"automargin":true,"anchor":"x"},"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"attrs":{"6401fcc8175":{"x":{},"y":{},"yaxis":{},"color":{},"colors":"Dark2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"subplot":true,"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>We can put lines instead of dots by removing the “scatter” as type and adding the line <code>add_lines()</code></p>
<pre class="r"><code>p &lt;- data_vis %&gt;%
  #transform the variable that will be used to plot to integer type
  transform(id = as.integer(factor(ISLAND))) %&gt;%
  #plot the data where X is the predictor, y is the response, color is thedivider, yaxis is the variable to use to divide the plot
  plot_ly(x = ~beer, y = ~total, color = ~ISLAND, colors = &quot;Dark2&quot;,
          yaxis = ~paste0(&quot;y&quot;, id)) %&gt;%
  #make a line graph instead of just scatterplot
  add_lines() %&gt;%
  # define the number of subplots and share the x to plot them together
  subplot(nrows = 2, shareX = TRUE)
p</code></pre>
<div id="htmlwidget-7df47be3ea9b6925ef4d" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-7df47be3ea9b6925ef4d">{"x":{"data":[{"x":[0.01,0.04,0.07,0.11,0.3,0.34,0.44,0.46,0.48,0.5,0.53,0.76,0.79,0.82,0.86,0.92,0.94,0.95,1.29,1.32,1.33,1.33,1.35,1.6,1.81,1.9,2.07,2.32,2.51,2.57,2.75,2.89,2.89,3.22,3.23,3.28,3.3,3.53,3.55,3.67,3.76,3.78,3.79,4.98,5.73],"y":[5.75,0.15,0.08,1.02,2.27,0.91,0.47,1.93,7.38,1.84,1.03,0.79,5.57,0.86,1.77,1.24,1.1,1.05,1.81,4.71,5.37,3.29,2.25,4.1,2.95,4.9,10.72,6.87,4.74,3.01,6.5,7.57,7.61,5.95,8.81,10.28,8.2,6.41,7.71,8.39,9.97,11.31,8.18,8.11,10.93],"yaxis":"y","type":"scatter","mode":"lines","name":"Y","marker":{"color":"rgba(102,102,102,1)","line":{"color":"rgba(102,102,102,1)"}},"textfont":{"color":"rgba(102,102,102,1)"},"error_y":{"color":"rgba(102,102,102,1)"},"error_x":{"color":"rgba(102,102,102,1)"},"line":{"color":"rgba(102,102,102,1)"},"xaxis":"x","frame":null},{"x":[0,0,0,0,0,0,0,0,0.01,0.02,0.05,0.05,0.06,0.08,0.1,0.11,0.12,0.12,0.14,0.14,0.14,0.15,0.15,0.16,0.16,0.17,0.17,0.17,0.17,0.18,0.19,0.2,0.2,0.22,0.29,0.32,0.33,0.33,0.35,0.36,0.38,0.39,0.4,0.41,0.44,0.46,0.48,0.61,0.62,0.62,0.63,0.63,0.65,0.67,0.67,0.68,0.7,0.71,0.73,0.75,0.8,0.86,0.87,0.87,0.91,0.96,1,1.15,1.33,1.36,1.36,1.49,1.59,1.59,1.6,1.6,1.61,1.66,1.67,1.69,1.74,1.82,1.88,1.89,1.9,2.03,2.07,2.11,2.2,2.25,2.37,2.39,2.39,2.5,2.53,2.67,2.7,2.7,2.86,2.88,2.9,2.91,2.96,3.18,3.32,3.33,3.36,3.36,3.37,3.42,3.5,3.54,3.86,3.91,3.92,4.01,4.11,4.11,4.2,4.31,4.36,4.42,4.46,4.47,4.5,4.51,4.52,4.57,4.59,4.82,4.87,5.02,5.12,5.43,5.87,5.88,5.96,6,6.01,6.1,6.26,6.79,7.16],"y":[0,0.03,0.01,0,0,0.03,0.09,0,0.01,0.32,0.11,0.78,0.06,0.11,0.5,0.28,0.22,0.24,0.3,0.18,0.29,0.19,0.34,1.84,3.12,0.44,0.2,2.77,0.46,0.23,1.68,0.43,0.56,0.56,0.34,0.37,3.64,1.15,2.48,0.42,0.48,4.21,0.4,1.56,1.67,0.7,0.69,0.9,0.88,1.06,2.73,0.93,2.73,1.08,0.92,0.84,0.81,0.99,6.42,1.47,0.84,1.49,2.12,1.28,2.19,1.39,2.36,2.57,3.38,7.23,3.1,2.11,1.59,5.93,5.75,5.8,5.16,6.95,2.11,1.76,7.5,3.93,2.42,8.02,6.21,5.09,3.54,6.83,11.5,8.9,7.93,5.95,5.59,9.98,2.62,3.93,4.73,7.2,4.27,9.45,3.53,6.45,3.93,9.89,7.68,4.41,4.78,8.17,11.79,9.79,6,10.61,10.22,10.78,5.16,10.76,11.36,10.92,8.2,8.55,9.33,7.48,11.7,8.5,9,9.68,6.61,9.28,10.32,6.92,9.6,10.2,7.71,7.16,13.16,10.59,8.82,11.4,11.21,12.1,9.93,12.69,7.29],"yaxis":"y2","type":"scatter","mode":"lines","name":"N","marker":{"color":"rgba(27,158,119,1)","line":{"color":"rgba(27,158,119,1)"}},"textfont":{"color":"rgba(27,158,119,1)"},"error_y":{"color":"rgba(27,158,119,1)"},"error_x":{"color":"rgba(27,158,119,1)"},"line":{"color":"rgba(27,158,119,1)"},"xaxis":"x","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"title":"beer","anchor":"y2"},"yaxis2":{"domain":[0,0.48],"automargin":true,"anchor":"x"},"yaxis":{"domain":[0.52,1],"automargin":true,"anchor":"x"},"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true},"attrs":{"64011a342820":{"x":{},"y":{},"yaxis":{},"color":{},"colors":"Dark2","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","inherit":true}},"subplot":true,"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<div id="change-the-size-of-the-dots-based-on-a-variable" class="section level4">
<h4>Change the size of the dots based on a variable</h4>
<pre class="r"><code>#change size for all dots
p&lt;- plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~wine, 
        type = &#39;scatter&#39;,
        color =~LANDLOCKED,
        colors = &quot;Set1&quot;,
        mode = &quot;markers&quot;,
        marker = list(size = 20)) %&gt;% 
  layout(showlegend = FALSE)
p</code></pre>
<div id="htmlwidget-0ff2b8248cf49567a551" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-0ff2b8248cf49567a551">{"x":{"visdat":{"640153412319":["function () ","plotlyVisDat"]},"cur_data":"640153412319","attrs":{"640153412319":{"x":{},"y":{},"mode":"markers","marker":{"size":20},"color":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"wine"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[2.66499716212117,6.36566990119748,4.4587058202339,6.09775034104936,6.44420301900262,6.88683700743434,2.81774248856863,2.64339542480372,4.48400939146574,4.10950362717532,5.14147235926192,4.34586010321294,4.71099166827195,5.82595867822331,5.06638108285023,4.44310208872105,6.92978296733828,5.04454563979055,3.76114081227672,6.99584132587985,5.26153001930686,4.82334536935885,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,3.22003587403836,6.05765165253952,4.71271735708082,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,4.63012987934406,4.33520991093879,2.86450930115933,4.68524930986484,5.40981819752422,5.99251391923857,4.84126030983019,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,5.52348230683887,4.28699262931735,2.84593975510924,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,2.56449089109948,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,4.43388081677464,5.05250926019063,4.75041418978726,5.00777037523082,6.28122477843913,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,5.57176635280671,4.04312089256947,4.95072788379945,5.76673152610946,5.0880389447737,3.02118516291232,4.99272406090048,4.23003923960408,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,6.20965305535408,5.77441212022522,5.60623063877285,3.3086064537932,6.01768846256236,2.52161659042008,5.49087375756611,2.21833853137602,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,2.35758803489603,4.09812087362559,5.9600132311674,4.55013892812037,5.50100775485196,1.45467720522038,5.16285553115332,5.11074925223026,5.42621868583413,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,5.66853611187201,4.52679648057406,4.04527915587125,5.37411384944735,5.47441123310173,7.2266499041864,6.29229484591852,2.4396831464847,2.68915518583345,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,2.72101959468574,5.80554511791888,5.70387097298343,2.78202663424162,6.39627067715859,5.64718699257845,5.27401229002042,4.85268980721568,3.71194626534631,5.71192864586408,2.84293670893973,4.75815227995418,3.02027217683396,5.19145520647634,5.89208691226933,1.48852251464441,5.97542118080262,5.38585141635643,5.77527604359636,6.97546489635217,5.25076339101285,2.59063789801438,5.96216113700033,5.51471054140608,3.44757273961188,5.62892090199381,5.91740023210828],"y":[1.43,0.23,1.32,1.95,3.91,3.87,0.11,0.93,3.71,1.46,0,0.13,0.45,0,0.25,0.03,0.4,1.73,0.01,1.9,0.01,0,0.28,0.22,0.17,3.23,0.09,0.03,0.05,0.19,0.09,1.62,2.86,2.67,4.92,0.05,0.74,0.16,0.05,0.02,2.98,3.67,1.65,0,0.04,1.7,0.02,0.31,6.6,0.02,1.17,3.76,0.17,0.43,3.12,4.8,0.03,0.03,0.02,0.01,0.03,6.05,2.26,0,0,0,0.18,4.45,0.26,0,0.28,0.17,0.01,0.03,0,0.03,0.14,0,0.25,1.1,1,0.03,0,0.17,0.27,0.35,0,3.1,0.03,0.46,3.22,0.12,0,0.1,0.6,0.19,0.03,3.39,2.29,0.16,0.13,0.02,3.26,0.36,0,0.94,0.31,7.49,0.01,0.69,0.11,2.6,0.02,1.28,0,0.55,2.33,1.29,0.12,4.84,0.03,0.25,0,1.97,1.45,0,3.4,0.27,0.11,0.13,0.03,0.09,0.28,4.26,0.35,0.13,0.55,0.01,3.96,0.75,1.44,3.72,0.33,0.06,0.02,0.09,0,0.06],"mode":"markers","marker":{"color":"rgba(228,26,28,1)","size":20,"line":{"color":"rgba(228,26,28,1)"}},"type":"scatter","name":"N","textfont":{"color":"rgba(228,26,28,1)"},"error_y":{"color":"rgba(228,26,28,1)"},"error_x":{"color":"rgba(228,26,28,1)"},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[5.80744652850754,4.93352880704855,4.47527100280811,2.65560418680044,4.9229270027281,5.76343637087294,6.03756712283343,5.31529993007752,4.60126681030785,4.43542816408337,6.06744358643068,5.79344069623722,6.05397224660192,4.89484285690601,4.96746468009679,5.29959445392492,6.43392592793777,5.36279544228496,4.68706774892642,4.48218217672853,3.41398955976213,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,6.07409237882873,5.16818091068653,5.60215705181225,4.40188678170274,4.94547724139135,4.6146694468645,5.15354139217025,5.67341583406143,5.3856954574464,5.43730524297252,5.64905365647082,4.23462126383944,5.87781617651476,5.59195844456536],"y":[0,0.22,0.3,4.39,4.3,0.75,0.23,0.75,0.07,0,0.02,0.01,0,2.6,3.17,0.1,0.37,0,1.77,0.01,4.86,2.59,0.16,0.02,0.33,0.01,0.01,0,1.32,0,4.45,4.94,0.01,0.81,0.01,0.12,0.11,0.05,0.07,0.1],"mode":"markers","marker":{"color":"rgba(153,153,153,1)","size":20,"line":{"color":"rgba(153,153,153,1)"}},"type":"scatter","name":"Y","textfont":{"color":"rgba(153,153,153,1)"},"error_y":{"color":"rgba(153,153,153,1)"},"error_x":{"color":"rgba(153,153,153,1)"},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<pre class="r"><code>#change size based on a continious factor
p&lt;- plot_ly(data_vis,
        x=~log10(SQKM_CNTRY),
        y=~log10(POP_CNTRY), 
        type = &#39;scatter&#39;,
        mode = &quot;markers&quot;,
        size = ~total,
        color =~LANDLOCKED,
        colors = &quot;Set1&quot;) %&gt;% 
  layout(showlegend = FALSE)
p</code></pre>
<div id="htmlwidget-4e385efb271724b09ee4" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4e385efb271724b09ee4">{"x":{"visdat":{"640157313406":["function () ","plotlyVisDat"]},"cur_data":"640157313406","attrs":{"640157313406":{"x":{},"y":{},"mode":"markers","color":{},"size":{},"colors":"Set1","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"showlegend":false,"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"log10(POP_CNTRY)"},"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[2.66499716212117,6.36566990119748,4.4587058202339,6.09775034104936,6.44420301900262,6.88683700743434,2.81774248856863,2.64339542480372,4.48400939146574,4.10950362717532,5.14147235926192,4.34586010321294,4.71099166827195,5.82595867822331,5.06638108285023,4.44310208872105,6.92978296733828,5.04454563979055,3.76114081227672,6.99584132587985,5.26153001930686,4.82334536935885,5.53835942396721,6.36866372988614,6.97029581805315,5.87057840041182,5.66867164436435,3.22003587403836,6.05765165253952,4.71271735708082,5.04313819501313,3.59791425197255,2.36461102327188,3.96505331917989,4.63012987934406,4.33520991093879,2.86450930115933,4.68524930986484,5.40981819752422,5.99251391923857,4.84126030983019,4.43273366628145,4.65843650123397,5.08614902922593,4.31589711765363,5.52348230683887,4.28699262931735,2.84593975510924,5.73777201137465,4.02847364745965,5.41778497471989,4.84474566566214,5.38017668859194,2.56449089109948,5.55158272053082,5.12008641216737,5.03942124630655,5.39107014109965,5.32477882534843,4.43388081677464,5.05250926019063,4.75041418978726,5.00777037523082,6.28122477843913,6.48985755396475,6.21078921862354,4.3175163642471,5.47853691639096,5.5081465547805,5.63990654167833,5.57176635280671,4.04312089256947,4.95072788379945,5.76673152610946,5.0880389447737,3.02118516291232,4.99272406090048,4.23003923960408,4.01029486722153,4.8082034824618,4.81190461616369,4.98360838732888,6.20965305535408,5.77441212022522,5.60623063877285,3.3086064537932,6.01768846256236,2.52161659042008,5.49087375756611,2.21833853137602,4.13808312654993,6.29290680373907,5.51886859256559,5.89687267436488,2.35758803489603,4.09812087362559,5.9600132311674,4.55013892812037,5.50100775485196,1.45467720522038,5.16285553115332,5.11074925223026,5.42621868583413,6.11291050868933,5.94337250802182,5.49236235103961,4.87330379365417,4.96425148650953,5.66853611187201,4.52679648057406,4.04527915587125,5.37411384944735,5.47441123310173,7.2266499041864,6.29229484591852,2.4396831464847,2.68915518583345,6.08705110741591,5.29426932267702,4.30633256123811,4.86052623991848,2.72101959468574,5.80554511791888,5.70387097298343,2.78202663424162,6.39627067715859,5.64718699257845,5.27401229002042,4.85268980721568,3.71194626534631,5.71192864586408,2.84293670893973,4.75815227995418,3.02027217683396,5.19145520647634,5.89208691226933,1.48852251464441,5.97542118080262,5.38585141635643,5.77527604359636,6.97546489635217,5.25076339101285,2.59063789801438,5.96216113700033,5.51471054140608,3.44757273961188,5.62892090199381,5.91740023210828],"y":[4.8143275198769,7.4386883547711,6.53363798834259,7.06172608888228,7.52887648120451,7.25109093233821,5.76028221984882,5.41601940502049,7.00140743685204,5.43490248010949,8.08182311448265,5.31719806050701,6.42426731240032,7.63447344109738,6.71394341799608,5.56348108539441,8.18048543914345,6.95149575969785,5.44965424127836,7.45335381617543,6.96045060829703,7.26297098252579,6.36516513919509,7.61305832882186,9.10755194976793,7.13901940302001,7.12118151826874,5.80253839020053,7.53674259993077,6.52106456136693,7.04541217606029,5.61655217821508,4.23044892137827,5.86866030542704,6.66910758762013,5.6539366988864,4.849241236658,6.88985931472282,7.02291559642892,7.74922158033762,6.7003553632714,5.58700677001905,6.20161776633904,6.56375047799133,6.75985436243526,6.70168703277181,5.87794695162919,5.04769143444058,7.76160507828954,5.97128791230617,6.19345715170741,6.74784293603487,7.2226667975009,4.98049423339004,7.910818033582,7.01315165811681,7.01373313915719,7.79532425136226,5.87790725932633,6.84787421635723,6.72973701685377,6.69932702133266,5.42690146308166,8.27722218750484,8.95163311733722,7.8074907169477,6.75548533985421,7.76274516544238,7.13029709319022,7.321012348586,8.09949521509398,6.38158559734463,6.59662820978742,7.41221266844004,7.34311285775287,4.88649072517248,7.63759878977747,6.2145789535705,6.46878421174358,6.42979925876038,6.57824484283565,6.4627634002849,6.71978813326902,7.11550034331634,7.44354334945302,6.04029925662809,6.34322676263482,5.5639673178494,6.3202102826877,4.06111305391798,5.80307591644867,7.9655819538903,7.29284020326769,7.22022998733365,3.30102999566398,5.21748394421391,7.98779470237645,7.18885736045906,6.63633932818969,4,5.63147015058694,6.63094658264145,6.5475528263533,7.38910226497626,8.10275262005032,7.57877520649585,6.40858675346489,6.98342402025284,6.60627740148872,6.03574063776276,5.67942789661212,7.37181660545621,7.81941968322647,8.18135072701498,7.25767833492742,4.63253827195037,4.86332286012046,7.60889092294306,6.90937168238936,6.29035587042793,6.65817801923144,6.45086838325203,6.99788920195724,7.5940363491695,5.1515016203943,7.4426901235981,6.94092553509759,7.14753627646684,6.31424653528842,6.11126251365907,7.75833482057762,4.9912260756925,6.60727966152436,5.10925109975655,6.93551638490545,7.78746706327542,4.11394335230684,7.45310832930491,7.75143446737202,7.72562516470822,8.41301964604709,6.48920462678372,5.04320110717982,7.29793222584709,7.85257275927748,5.20139712432045,7.18614006659336,6.19744900413928],"mode":"markers","type":"scatter","name":"N","marker":{"color":"rgba(228,26,28,1)","size":[61.7705167173252,13.0091185410334,45.2887537993921,62.7279635258359,62.5227963525836,76.2006079027356,23.1990881458967,66.0790273556231,79.7568389057751,70.2507598784194,10,55.2051671732523,40.1595744680851,12.0516717325228,17.3860182370821,17.1808510638298,61.1550151975684,83.5866261398176,15.8814589665653,66.0790273556231,24.9772036474164,25.5243161094225,34.1413373860182,16.0182370820669,49.3237082066869,64.2325227963526,27.9179331306991,11.0258358662614,39.2021276595745,34.209726443769,38.0395136778115,42.4164133738602,83.3130699088146,87.3480243161094,79.8936170212766,12.9407294832827,60.4711246200608,50.6914893617021,36.8768996960486,11.5045592705167,84.7492401215805,77.9103343465046,100,12.7355623100304,26.1398176291793,68.1306990881459,25.387537993921,22.1048632218845,88.6474164133739,11.3677811550152,70.3191489361702,59.4452887537994,14.7188449848024,62.7279635258359,86.6641337386018,70.8662613981763,24.4984802431611,11.2993920972644,61.2917933130699,49.3237082066869,31.2006079027356,90.0151975683891,65.4635258358662,10.5471124620061,28.9437689969605,10.2051671732523,27.5759878419453,57.5303951367781,16.7705167173252,11.2310030395137,46.7249240121581,32.5,13.419452887538,19.5060790273556,31.3373860182371,13.2142857142857,26.5501519756839,10.0683890577508,20.6686930091185,73.4650455927052,87.9635258358663,34.8936170212766,10,17.0440729483283,13.8297872340426,30.1747720364742,10,62.0440729483283,13.8297872340426,22.5835866261398,53.9057750759878,45.2887537993921,13.2826747720365,16.1550151975684,43.5106382978723,16.2234042553191,15.5395136778116,73.806990881459,54.1109422492401,17.5227963525836,44.8100303951368,33.1155015197568,67.3784194528875,42.3480243161094,10.2051671732523,82.4240121580547,57.3252279635258,90.6306990881459,15.40273556231,21.4209726443769,17.8647416413374,71.5501519756839,42.2112462006079,84.6808510638298,10.6155015197568,65.9422492401216,54.4528875379939,51.0334346504559,11.983282674772,80.5775075987842,11.5729483282675,22.3784194528875,10,75.6534954407295,80.3039513677812,13.145896656535,59.2401215805471,15.3343465045593,21.4893617021277,53.8373860182371,50.5547112462006,18.4802431610942,16.3601823708207,48.0927051671732,18.7537993920973,20.1899696048632,16.9756838905775,16.2917933130699,78.1838905775076,65.8738601823708,68.4726443768997,52.4696048632219,56.983282674772,58.9665653495441,36.8768996960486,30.5851063829787,10.4103343465046,59.855623100304],"sizemode":"area","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,1)","size":[61.7705167173252,13.0091185410334,45.2887537993921,62.7279635258359,62.5227963525836,76.2006079027356,23.1990881458967,66.0790273556231,79.7568389057751,70.2507598784194,10,55.2051671732523,40.1595744680851,12.0516717325228,17.3860182370821,17.1808510638298,61.1550151975684,83.5866261398176,15.8814589665653,66.0790273556231,24.9772036474164,25.5243161094225,34.1413373860182,16.0182370820669,49.3237082066869,64.2325227963526,27.9179331306991,11.0258358662614,39.2021276595745,34.209726443769,38.0395136778115,42.4164133738602,83.3130699088146,87.3480243161094,79.8936170212766,12.9407294832827,60.4711246200608,50.6914893617021,36.8768996960486,11.5045592705167,84.7492401215805,77.9103343465046,100,12.7355623100304,26.1398176291793,68.1306990881459,25.387537993921,22.1048632218845,88.6474164133739,11.3677811550152,70.3191489361702,59.4452887537994,14.7188449848024,62.7279635258359,86.6641337386018,70.8662613981763,24.4984802431611,11.2993920972644,61.2917933130699,49.3237082066869,31.2006079027356,90.0151975683891,65.4635258358662,10.5471124620061,28.9437689969605,10.2051671732523,27.5759878419453,57.5303951367781,16.7705167173252,11.2310030395137,46.7249240121581,32.5,13.419452887538,19.5060790273556,31.3373860182371,13.2142857142857,26.5501519756839,10.0683890577508,20.6686930091185,73.4650455927052,87.9635258358663,34.8936170212766,10,17.0440729483283,13.8297872340426,30.1747720364742,10,62.0440729483283,13.8297872340426,22.5835866261398,53.9057750759878,45.2887537993921,13.2826747720365,16.1550151975684,43.5106382978723,16.2234042553191,15.5395136778116,73.806990881459,54.1109422492401,17.5227963525836,44.8100303951368,33.1155015197568,67.3784194528875,42.3480243161094,10.2051671732523,82.4240121580547,57.3252279635258,90.6306990881459,15.40273556231,21.4209726443769,17.8647416413374,71.5501519756839,42.2112462006079,84.6808510638298,10.6155015197568,65.9422492401216,54.4528875379939,51.0334346504559,11.983282674772,80.5775075987842,11.5729483282675,22.3784194528875,10,75.6534954407295,80.3039513677812,13.145896656535,59.2401215805471,15.3343465045593,21.4893617021277,53.8373860182371,50.5547112462006,18.4802431610942,16.3601823708207,48.0927051671732,18.7537993920973,20.1899696048632,16.9756838905775,16.2917933130699,78.1838905775076,65.8738601823708,68.4726443768997,52.4696048632219,56.983282674772,58.9665653495441,36.8768996960486,30.5851063829787,10.4103343465046,59.855623100304]},"error_y":{"color":"rgba(228,26,28,1)","width":[]},"error_x":{"color":"rgba(228,26,28,1)","width":[]},"line":{"color":"rgba(228,26,28,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[5.80744652850754,4.93352880704855,4.47527100280811,2.65560418680044,4.9229270027281,5.76343637087294,6.03756712283343,5.31529993007752,4.60126681030785,4.43542816408337,6.06744358643068,5.79344069623722,6.05397224660192,4.89484285690601,4.96746468009679,5.29959445392492,6.43392592793777,5.36279544228496,4.68706774892642,4.48218217672853,3.41398955976213,4.52591226980523,6.1928951411764,5.07564876414434,4.40348581000797,6.09924785719034,6.07409237882873,5.16818091068653,5.60215705181225,4.40188678170274,4.94547724139135,4.6146694468645,5.15354139217025,5.67341583406143,5.3856954574464,5.43730524297252,5.64905365647082,4.23462126383944,5.87781617651476,5.59195844456536],"y":[7.23679891813006,6.73940349844012,6.52856038127484,4.74299991428248,6.88960453831265,6.16035536570626,6.88356576629009,7.02207353181593,6.20047593538909,6.77894954570774,6.79994042645124,6.4982478178334,7.72544582215871,7.01372682746826,7.01327593562272,6.65115168185098,7.23345073867782,6.67419707172182,6.73032691578297,6.28516761933159,5.58778278039052,6.65065423733728,6.34795845785355,7.02777675972415,6.32305295990206,6.98876994420118,6.9443710737421,7.29944802315571,6.67883365159762,6.89951387200441,6.99909207101421,6.82697092251671,6.73096241400526,6.56991696482166,7.25874165408133,7.00709413817894,7.31893501567061,5.9257070063971,6.94342926790454,7.04558465039749],"mode":"markers","type":"scatter","name":"Y","marker":{"color":"rgba(153,153,153,1)","size":[10.0683890577508,22.5835866261398,38.7917933130699,82.5607902735562,92.7507598784195,42.6899696048632,36.8768996960486,78.2522796352584,11.9148936170213,20.8738601823708,12.5303951367781,12.3252279635258,12.8723404255319,96.7857142857143,83.7234042553191,28.6702127659574,56.709726443769,50.6914893617021,76.9528875379939,24.4300911854103,87.6899696048632,64.8480243161094,49.6656534954407,12.3252279635258,20.0531914893617,10.7522796352584,10.7522796352584,11.6413373860182,48.2294832826748,15.7446808510638,74.6276595744681,77.6367781155015,12.1884498480243,26.9604863221885,15.7446808510638,14.7872340425532,28.6702127659574,22.0364741641337,17.2492401215805,24.4300911854103],"sizemode":"area","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,1)","size":[10.0683890577508,22.5835866261398,38.7917933130699,82.5607902735562,92.7507598784195,42.6899696048632,36.8768996960486,78.2522796352584,11.9148936170213,20.8738601823708,12.5303951367781,12.3252279635258,12.8723404255319,96.7857142857143,83.7234042553191,28.6702127659574,56.709726443769,50.6914893617021,76.9528875379939,24.4300911854103,87.6899696048632,64.8480243161094,49.6656534954407,12.3252279635258,20.0531914893617,10.7522796352584,10.7522796352584,11.6413373860182,48.2294832826748,15.7446808510638,74.6276595744681,77.6367781155015,12.1884498480243,26.9604863221885,15.7446808510638,14.7872340425532,28.6702127659574,22.0364741641337,17.2492401215805,24.4300911854103]},"error_y":{"color":"rgba(153,153,153,1)","width":[]},"error_x":{"color":"rgba(153,153,153,1)","width":[]},"line":{"color":"rgba(153,153,153,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="do-line-plots" class="section level4">
<h4>Do line plots</h4>
<pre class="r"><code>plot_ly(data_vis, x = ~log10(POP_CNTRY), y = ~log10(SQKM_CNTRY)) %&gt;%
  add_lines(color = ~LANDLOCKED, colors = &quot;Set1&quot;, alpha = 0.9)</code></pre>
<div id="htmlwidget-acbc85a8d2c9fa704f68" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-acbc85a8d2c9fa704f68">{"x":{"visdat":{"64012ec6b686":["function () ","plotlyVisDat"]},"cur_data":"64012ec6b686","attrs":{"64012ec6b686":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"lines","color":{},"colors":"Set1","alpha":0.9,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"log10(POP_CNTRY)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"log10(SQKM_CNTRY)"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[3.30102999566398,4,4.06111305391798,4.11394335230684,4.23044892137827,4.63253827195037,4.8143275198769,4.849241236658,4.86332286012046,4.88649072517248,4.98049423339004,4.9912260756925,5.04320110717982,5.04769143444058,5.10925109975655,5.1515016203943,5.20139712432045,5.21748394421391,5.31719806050701,5.41601940502049,5.42690146308166,5.43490248010949,5.44965424127836,5.56348108539441,5.5639673178494,5.58700677001905,5.61655217821508,5.63147015058694,5.6539366988864,5.67942789661212,5.76028221984882,5.80253839020053,5.80307591644867,5.86866030542704,5.87790725932633,5.87794695162919,5.97128791230617,6.03574063776276,6.04029925662809,6.11126251365907,6.19345715170741,6.19744900413928,6.20161776633904,6.2145789535705,6.29035587042793,6.31424653528842,6.3202102826877,6.34322676263482,6.36516513919509,6.38158559734463,6.40858675346489,6.42426731240032,6.42979925876038,6.45086838325203,6.4627634002849,6.46878421174358,6.48920462678372,6.52106456136693,6.53363798834259,6.5475528263533,6.56375047799133,6.57824484283565,6.59662820978742,6.60627740148872,6.60727966152436,6.63094658264145,6.63633932818969,6.65817801923144,6.66910758762013,6.69932702133266,6.7003553632714,6.70168703277181,6.71394341799608,6.71978813326902,6.72973701685377,6.74784293603487,6.75548533985421,6.75985436243526,6.84787421635723,6.88985931472282,6.90937168238936,6.93551638490545,6.94092553509759,6.95149575969785,6.96045060829703,6.98342402025284,6.99788920195724,7.00140743685204,7.01315165811681,7.01373313915719,7.02291559642892,7.04541217606029,7.06172608888228,7.11550034331634,7.12118151826874,7.13029709319022,7.13901940302001,7.14753627646684,7.18614006659336,7.18885736045906,7.22022998733365,7.2226667975009,7.25109093233821,7.25767833492742,7.26297098252579,7.29284020326769,7.29793222584709,7.321012348586,7.34311285775287,7.37181660545621,7.38910226497626,7.41221266844004,7.4386883547711,7.4426901235981,7.44354334945302,7.45310832930491,7.45335381617543,7.52887648120451,7.53674259993077,7.57877520649585,7.5940363491695,7.60889092294306,7.61305832882186,7.63447344109738,7.63759878977747,7.72562516470822,7.74922158033762,7.75143446737202,7.75833482057762,7.76160507828954,7.76274516544238,7.78746706327542,7.79532425136226,7.8074907169477,7.81941968322647,7.85257275927748,7.910818033582,7.9655819538903,7.98779470237645,8.08182311448265,8.09949521509398,8.10275262005032,8.18048543914345,8.18135072701498,8.27722218750484,8.41301964604709,8.95163311733722,9.10755194976793],"y":[2.35758803489603,1.45467720522038,2.21833853137602,1.48852251464441,2.36461102327188,2.4396831464847,2.66499716212117,2.86450930115933,2.68915518583345,3.02118516291232,2.56449089109948,2.84293670893973,2.59063789801438,2.84593975510924,3.02027217683396,2.78202663424162,3.44757273961188,4.09812087362559,4.34586010321294,2.64339542480372,5.00777037523082,4.10950362717532,3.76114081227672,4.44310208872105,2.52161659042008,4.43273366628145,3.59791425197255,5.16285553115332,4.33520991093879,4.04527915587125,2.81774248856863,3.22003587403836,4.13808312654993,3.96505331917989,5.32477882534843,4.28699262931735,4.02847364745965,4.52679648057406,3.3086064537932,3.71194626534631,5.41778497471989,5.91740023210828,4.65843650123397,4.23003923960408,4.30633256123811,4.85268980721568,5.49087375756611,6.01768846256236,5.53835942396721,4.04312089256947,4.87330379365417,4.71099166827195,4.8082034824618,2.72101959468574,4.98360838732888,4.01029486722153,5.25076339101285,4.71271735708082,4.4587058202339,5.42621868583413,5.08614902922593,4.81190461616369,4.95072788379945,5.66853611187201,4.75815227995418,5.11074925223026,5.50100775485196,4.86052623991848,4.63012987934406,4.75041418978726,4.84126030983019,5.52348230683887,5.06638108285023,6.20965305535408,5.05250926019063,4.84474566566214,4.3175163642471,4.31589711765363,4.43388081677464,4.68524930986484,5.29426932267702,5.19145520647634,5.64718699257845,5.04454563979055,5.26153001930686,4.96425148650953,5.80554511791888,4.48400939146574,5.12008641216737,5.03942124630655,5.40981819752422,5.04313819501313,6.09775034104936,5.77441212022522,5.66867164436435,5.5081465547805,5.87057840041182,5.27401229002042,5.62892090199381,4.55013892812037,5.89687267436488,5.38017668859194,6.88683700743434,6.29229484591852,4.82334536935885,5.51886859256559,5.96216113700033,5.63990654167833,5.0880389447737,5.37411384944735,6.11291050868933,5.76673152610946,6.36566990119748,6.39627067715859,5.60623063877285,5.97542118080262,6.99584132587985,6.44420301900262,6.05765165253952,5.49236235103961,5.70387097298343,6.08705110741591,6.36866372988614,5.82595867822331,4.99272406090048,5.77527604359636,5.99251391923857,5.38585141635643,5.71192864586408,5.73777201137465,5.47853691639096,5.89208691226933,5.39107014109965,6.21078921862354,5.47441123310173,5.51471054140608,5.55158272053082,6.29290680373907,5.9600132311674,5.14147235926192,5.57176635280671,5.94337250802182,6.92978296733828,7.2266499041864,6.28122477843913,6.97546489635217,6.48985755396475,6.97029581805315],"type":"scatter","mode":"lines","name":"N","marker":{"color":"rgba(228,26,28,0.9)","line":{"color":"rgba(228,26,28,1)"}},"textfont":{"color":"rgba(228,26,28,0.9)"},"error_y":{"color":"rgba(228,26,28,0.9)"},"error_x":{"color":"rgba(228,26,28,0.9)"},"line":{"color":"rgba(228,26,28,0.9)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[4.74299991428248,5.58778278039052,5.9257070063971,6.16035536570626,6.20047593538909,6.28516761933159,6.32305295990206,6.34795845785355,6.4982478178334,6.52856038127484,6.56991696482166,6.65065423733728,6.65115168185098,6.67419707172182,6.67883365159762,6.73032691578297,6.73096241400526,6.73940349844012,6.77894954570774,6.79994042645124,6.82697092251671,6.88356576629009,6.88960453831265,6.89951387200441,6.94342926790454,6.9443710737421,6.98876994420118,6.99909207101421,7.00709413817894,7.01327593562272,7.01372682746826,7.02207353181593,7.02777675972415,7.04558465039749,7.23345073867782,7.23679891813006,7.25874165408133,7.29944802315571,7.31893501567061,7.72544582215871],"y":[2.65560418680044,3.41398955976213,4.23462126383944,5.76343637087294,4.60126681030785,4.48218217672853,4.40348581000797,6.1928951411764,5.79344069623722,4.47527100280811,5.67341583406143,4.52591226980523,5.29959445392492,5.36279544228496,5.60215705181225,4.68706774892642,5.15354139217025,4.93352880704855,4.43542816408337,6.06744358643068,4.6146694468645,6.03756712283343,4.9229270027281,4.40188678170274,5.87781617651476,6.07409237882873,6.09924785719034,4.94547724139135,5.43730524297252,4.96746468009679,4.89484285690601,5.31529993007752,5.07564876414434,5.59195844456536,6.43392592793777,5.80744652850754,5.3856954574464,5.16818091068653,5.64905365647082,6.05397224660192],"type":"scatter","mode":"lines","name":"Y","marker":{"color":"rgba(153,153,153,0.9)","line":{"color":"rgba(153,153,153,1)"}},"textfont":{"color":"rgba(153,153,153,0.9)"},"error_y":{"color":"rgba(153,153,153,0.9)"},"error_x":{"color":"rgba(153,153,153,0.9)"},"line":{"color":"rgba(153,153,153,0.9)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="barplot" class="section level4">
<h4>Barplot</h4>
<pre class="r"><code>p2 &lt;- data_vis %&gt;%
  dplyr::count(Continent) %&gt;%
  plot_ly(x = ~Continent, y = ~n) %&gt;% 
  add_bars()</code></pre>
</div>
<div id="proportion-barplot" class="section level4">
<h4>Proportion barplot</h4>
<pre class="r"><code># number of wines by continent and whether its and island (n)
cc &lt;- count(data_vis, Continent, ISLAND)
# number of diamonds by Continent (nn)
cc2 &lt;- left_join(cc, count(cc, Continent, wt = n))
cc2 %&gt;%
  mutate(prop = n / nn) %&gt;%
  plot_ly(x = ~Continent, y = ~prop, color = ~ISLAND) %&gt;%
  add_bars() %&gt;%
  layout(barmode = &quot;stack&quot;)</code></pre>
<div id="htmlwidget-022fd73b3d133ebbd87f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-022fd73b3d133ebbd87f">{"x":{"visdat":{"640167b9ad94":["function () ","plotlyVisDat"]},"cur_data":"640167b9ad94","attrs":{"640167b9ad94":{"x":{},"y":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"stack","xaxis":{"domain":[0,1],"automargin":true,"title":"Continent","type":"category","categoryorder":"array","categoryarray":["Africa","Asia","Europe","North America","Oceania","South America"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"prop"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":["Africa","Asia","Europe","North America","Oceania","South America"],"y":[0.903846153846154,0.795454545454545,0.883720930232558,0.380952380952381,0.0714285714285714,1],"type":"bar","name":"N","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["Africa","Asia","Europe","North America","Oceania"],"y":[0.0961538461538462,0.204545454545455,0.116279069767442,0.619047619047619,0.928571428571429],"type":"bar","name":"Y","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="boxplot" class="section level4">
<h4>Boxplot</h4>
<pre class="r"><code>#Standard boxplot
p &lt;- plot_ly(data_vis, y = ~total, color = I(&quot;darkgreen&quot;), 
             boxpoints = &quot;suspectedoutliers&quot;)%&gt;% 
  add_boxplot(x = ~Continent)
p</code></pre>
<div id="htmlwidget-633f1c6392377137805a" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-633f1c6392377137805a">{"x":{"visdat":{"640127f5df28":["function () ","plotlyVisDat"]},"cur_data":"640127f5df28","attrs":{"640127f5df28":{"y":{},"boxpoints":"suspectedoutliers","color":["darkgreen"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"box","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Continent","type":"category","categoryorder":"array","categoryarray":["Africa","Asia","Europe","North America","Oceania","South America"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"total"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"y":[7.57,0.01,0.44,1.84,5.16,4.21,10.61,7.71,7.68,9.68,12.1,1.93,8.2,4.78,10.2,8.81,0,6.61,4.41,3.93,0.3,1.08,9.98,1.05,7.48,0.28,10.76,0.86,1.59,8.2,2.19,0.37,2.27,3.53,0.88,5.75,7.93,2.62,0.15,4.27,3.54,0.34,4.1,4.74,10.72,11.31,10.22,0.43,7.38,5.95,3.93,0.22,10.93,9.93,13.16,0.4,2.36,0.42,12.69,8.5,2.25,1.77,11.5,0.2,8.82,7.23,0.69,7.71,11.21,8.9,2.12,0.19,7.5,5.75,3.1,11.7,10.78,8.11,0.08,2.77,0.03,2.57,6.95,0.99,0.18,5.37,3.29,0.5,1.39,2.73,3.12,0.47,2.42,0.01,6.83,5.95,1.56,9.28,11.4,3.64,9.79,2.11,11.36,0,1.03,8.02,5.8,0.34,1.47,0.11,0.56,2.95,0,7.61,0.56,1.84,6.42,5.16,0.48,0.9,4.9,0.11,0.91,0.81,9.33,6.45,0.24,1.1,5.09,3.38,8.39,5.59,4.73,0.03,10.59,6.92,11.79,0.79,1.67,1.15,9,4.71,10.92,0.84,0.09,8.18,6.5,6,0.29,10.32,0.23,1.81,0,9.6,9.45,10.28,0.46,7.2,0.78,9.89,1.68,6.41,5.93,0.32,1.24,0.93,5.57,1.28,1.49,1.02,2.48,0.92,0.84,9.97,8.17,8.55,0.7,6.21,2.73,6.87,7.16,3.93,3.01,1.76,0.06,1.06,2.11,7.29],"boxpoints":"suspectedoutliers","x":["North America","Asia","Africa","Asia","Europe","Europe","Europe","Africa","South America","Oceania","Europe","Asia","North America","Africa","Europe","North America","Asia","South America","Europe","South America","Asia","Africa","Europe","Oceania","South America","Asia","Europe","Asia","Africa","North America","Asia","Africa","Asia","Africa","Africa","Asia","South America","Africa","Africa","South America","North America","Africa","North America","Africa","Oceania","Europe","Europe","Africa","North America","North America","South America","Africa","Europe","Africa","Europe","Africa","North America","Africa","Europe","Europe","Oceania","Oceania","Europe","Africa","Africa","Europe","Africa","North America","Europe","Europe","North America","Africa","South America","North America","North America","Europe","Europe","Europe","Asia","Asia","Asia","Asia","Europe","Africa","Asia","Asia","North America","Asia","Africa","Asia","Asia","Oceania","Asia","Asia","Asia","Asia","Asia","Europe","Europe","Africa","Europe","Africa","Europe","Africa","Africa","Europe","Asia","Africa","Europe","Africa","Africa","Asia","Africa","Europe","Asia","Asia","Europe","North America","Asia","Africa","Oceania","Africa","Oceania","Africa","Europe","Europe","Asia","Oceania","South America","North America","Oceania","South America","South America","Asia","Europe","South America","Europe","Oceania","Africa","Asia","Europe","Asia","Asia","Africa","Asia","North America","Africa","Africa","Africa","Europe","Africa","Asia","Africa","Europe","Europe","North America","Africa","Europe","Asia","Europe","Asia","North America","Asia","Asia","Oceania","Africa","Africa","Africa","Europe","Oceania","Asia","Africa","Africa","Europe","Europe","North America","Africa","South America","Asia","North America","South America","Asia","Oceania","Africa","Asia","Africa","Africa","Africa"],"type":"box","marker":{"color":"rgba(0,100,0,1)","line":{"color":"rgba(0,100,0,1)"}},"line":{"color":"rgba(0,100,0,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
<pre class="r"><code>#faceted boxplot
p&lt;- plot_ly(data_vis, x = ~wine, y = ~interaction(ISLAND, Continent)) %&gt;%
  add_boxplot(color = ~ISLAND) %&gt;%
  layout(yaxis = list(title = &quot;&quot;), margin = list(l = 100))
p</code></pre>
<div id="htmlwidget-a65f5a88bd386944a12f" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-a65f5a88bd386944a12f">{"x":{"visdat":{"64017e686b27":["function () ","plotlyVisDat"]},"cur_data":"64017e686b27","attrs":{"64017e686b27":{"x":{},"y":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"box","color":{},"inherit":true}},"layout":{"margin":{"b":40,"l":100,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"","type":"category","categoryorder":"array","categoryarray":["N.Africa","Y.Africa","N.Asia","Y.Asia","N.Europe","Y.Europe","N.North America","Y.North America","N.Oceania","Y.Oceania","N.South America","Y.South America"]},"xaxis":{"domain":[0,1],"automargin":true,"title":"wine"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":[{"name":"Collaborate","icon":{"width":1000,"ascent":500,"descent":-50,"path":"M487 375c7-10 9-23 5-36l-79-259c-3-12-11-23-22-31-11-8-22-12-35-12l-263 0c-15 0-29 5-43 15-13 10-23 23-28 37-5 13-5 25-1 37 0 0 0 3 1 7 1 5 1 8 1 11 0 2 0 4-1 6 0 3-1 5-1 6 1 2 2 4 3 6 1 2 2 4 4 6 2 3 4 5 5 7 5 7 9 16 13 26 4 10 7 19 9 26 0 2 0 5 0 9-1 4-1 6 0 8 0 2 2 5 4 8 3 3 5 5 5 7 4 6 8 15 12 26 4 11 7 19 7 26 1 1 0 4 0 9-1 4-1 7 0 8 1 2 3 5 6 8 4 4 6 6 6 7 4 5 8 13 13 24 4 11 7 20 7 28 1 1 0 4 0 7-1 3-1 6-1 7 0 2 1 4 3 6 1 1 3 4 5 6 2 3 3 5 5 6 1 2 3 5 4 9 2 3 3 7 5 10 1 3 2 6 4 10 2 4 4 7 6 9 2 3 4 5 7 7 3 2 7 3 11 3 3 0 8 0 13-1l0-1c7 2 12 2 14 2l218 0c14 0 25-5 32-16 8-10 10-23 6-37l-79-259c-7-22-13-37-20-43-7-7-19-10-37-10l-248 0c-5 0-9-2-11-5-2-3-2-7 0-12 4-13 18-20 41-20l264 0c5 0 10 2 16 5 5 3 8 6 10 11l85 282c2 5 2 10 2 17 7-3 13-7 17-13z m-304 0c-1-3-1-5 0-7 1-1 3-2 6-2l174 0c2 0 4 1 7 2 2 2 4 4 5 7l6 18c0 3 0 5-1 7-1 1-3 2-6 2l-173 0c-3 0-5-1-8-2-2-2-4-4-4-7z m-24-73c-1-3-1-5 0-7 2-2 3-2 6-2l174 0c2 0 5 0 7 2 3 2 4 4 5 7l6 18c1 2 0 5-1 6-1 2-3 3-5 3l-174 0c-3 0-5-1-7-3-3-1-4-4-5-6z"},"click":"function(gd) { \n        // is this being viewed in RStudio?\n        if (location.search == '?viewer_pane=1') {\n          alert('To learn about plotly for collaboration, visit:\\n https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html');\n        } else {\n          window.open('https://cpsievert.github.io/plotly_book/plot-ly-for-collaboration.html', '_blank');\n        }\n      }"}],"cloud":false},"data":[{"x":[0,0.23,0.22,1.32,0.3,4.39,1.95,3.91,3.87,4.3,0.75,3.71,0,0.13,0.45,0.23,0,0.25,0.75,0.4,0.07,1.73,0,1.9,0.01,0.02,0.28,0.22,0.17,3.23,0.09,0.05,0.19,0.01,4.92,0.05,0.05,0.02,3.67,1.65,0,0.04,0,2.6,1.7,6.6,0.02,1.17,3.76,0.17,3.12,4.8,0.03,0.03,0.02,0.03,6.05,3.17,0,0,0.18,4.45,0.26,0,0.01,0.03,0.1,0,0.14,0,0.37,0,0.25,1.1,1,0.03,1.77,0.01,4.86,0,2.59,0.16,0.02,0.33,0.01,0.27,0,0.03,3.22,0.12,0,0.1,0.01,0.03,3.39,2.29,0,0.13,0.02,1.32,0.36,0,0.94,0.31,7.49,0.69,0.11,2.6,1.28,0,0,1.29,0.12,4.84,0.03,0,1.97,4.45,0,3.4,0.27,4.94,0.11,0.03,0.01,0.28,0.35,0.13,0.81,0.01,0.01,0.75,1.44,0.12,3.72,0.11,0.06,0.02,0.05,0,0.07,0.1,0.06],"y":["N.Asia","N.Africa","N.Asia","N.Europe","N.Europe","N.Europe","N.Africa","N.South America","N.Oceania","N.Europe","N.Africa","N.Europe","N.Asia","N.South America","N.Europe","N.South America","N.Asia","N.Africa","N.Europe","N.South America","N.Asia","N.Europe","N.Africa","N.North America","N.Asia","N.Africa","N.Africa","N.Africa","N.Asia","N.South America","N.Africa","N.South America","N.North America","N.Africa","N.Europe","N.Africa","N.South America","N.Africa","N.Africa","N.Europe","N.Africa","N.North America","N.Africa","N.Europe","N.Europe","N.Europe","N.Africa","N.Africa","N.Europe","N.Africa","N.Europe","N.Europe","N.North America","N.Africa","N.South America","N.North America","N.Europe","N.Europe","N.Asia","N.Asia","N.Asia","N.Europe","N.Africa","N.Asia","N.Asia","N.Africa","N.Asia","N.Asia","N.Asia","N.Asia","N.Asia","N.Asia","N.Asia","N.Europe","N.Europe","N.Africa","N.Europe","N.Africa","N.Europe","N.Africa","N.Europe","N.Asia","N.Africa","N.Europe","N.Africa","N.Africa","N.Africa","N.Asia","N.Europe","N.North America","N.Asia","N.Africa","N.Africa","N.Africa","N.Europe","N.Europe","N.Asia","N.South America","N.North America","N.South America","N.South America","N.Asia","N.Europe","N.South America","N.Europe","N.Africa","N.Asia","N.Europe","N.Asia","N.Africa","N.Asia","N.Africa","N.Africa","N.Europe","N.Africa","N.Africa","N.Europe","N.Europe","N.Africa","N.Europe","N.Asia","N.Europe","N.Asia","N.Asia","N.Asia","N.Africa","N.Africa","N.Europe","N.Asia","N.Africa","N.Africa","N.Europe","N.North America","N.Africa","N.South America","N.Asia","N.South America","N.Asia","N.Africa","N.Asia","N.Africa","N.Africa","N.Africa"],"type":"box","orientation":"h","name":"N","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1.43,0.11,0.93,1.46,0.03,0.01,0,0.03,0.09,1.62,2.86,2.67,0.74,0.16,2.98,0.02,0.31,0.43,0.01,2.26,0,0.28,0.17,0.03,0.17,0.35,3.1,0.46,0.6,0.19,0.16,3.26,0.01,0.02,0.55,2.33,0.25,1.45,0.13,0.09,4.26,0.55,3.96,0.33,0.09],"y":["Y.North America","Y.Asia","Y.North America","Y.North America","Y.Oceania","Y.Asia","Y.Asia","Y.Africa","Y.North America","Y.Africa","Y.Oceania","Y.Europe","Y.North America","Y.North America","Y.Europe","Y.Oceania","Y.Oceania","Y.North America","Y.North America","Y.Europe","Y.Asia","Y.Asia","Y.North America","Y.Oceania","Y.Africa","Y.Asia","Y.Europe","Y.Asia","Y.Oceania","Y.Oceania","Y.Oceania","Y.Oceania","Y.Oceania","Y.Asia","Y.North America","Y.Africa","Y.Asia","Y.North America","Y.North America","Y.Oceania","Y.Africa","Y.Oceania","Y.Europe","Y.North America","Y.Oceania"],"type":"box","orientation":"h","name":"Y","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"base_url":"https://plot.ly"},"evals":["config.modeBarButtonsToAdd.0.click"],"jsHooks":[]}</script>
</div>
<div id="exporting-localy-as-html-widget.-this-can-be-used-in-a-website-or-presentation" class="section level4">
<h4>Exporting localy as html widget. This can be used in a website or presentation</h4>
<pre class="r"><code>htmlwidgets::saveWidget(p, &quot;my_pot.html&quot;)</code></pre>
</div>
<div id="export-static" class="section level4">
<h4>Export static</h4>
<p>To export a high quality static plot you need to install an additional package for your OS names orca. Follow this github to unstall it: <a href="https://github.com/plotly/orca#installation" class="uri">https://github.com/plotly/orca#installation</a> Then write</p>
<pre class="r"><code># orca(p, file=&#39;image.png&#39;,width = 10,height = 10)</code></pre>
</div>
<div id="to-summarize" class="section level4">
<h4>To summarize</h4>
<p><strong>Pros</strong>: A strong tool for interactive ploting especially if you want to use Shiny. <strong>Cons</strong>: Syntex is not intuetive and needs some time to get used to if you don’t know JS</p>
</div>
</div>
</div>
<div id="introduction-to-ggvis" class="section level2">
<h2>Introduction to ggvis</h2>
<p><code>ggvis</code> is a good alternative to <code>plotly</code> and to <code>ggplot</code> because the structure of the object is similar to <code>ggplot2</code> but with <code>%&gt;%</code> instead of <code>+</code>. To use the package we will use <code>ggvis()</code>. I will show here a few examples of how to use ggvis and in the end you can find a list of links that can be useful to deepen your understanding in the package.</p>
<div id="basic-ggvis-plots" class="section level3">
<h3>Basic <code>ggvis()</code> plots</h3>
<p>The basic plots are static just as ggplot, but perhaps need less writing to produce.</p>
<div id="scatterplot" class="section level4">
<h4>Scatterplot</h4>
<p>We’ll start with a scatterplot</p>
<pre class="r"><code>p&lt;- data_vis %&gt;% 
  ggvis(x =~log10(POP_CNTRY),y =~spirits) %&gt;% 
  layer_points()
p</code></pre>
<div id="plot_id468079229-container" class="ggvis-output-container">
<div id="plot_id468079229" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id468079229_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id468079229" data-renderer="svg">SVG</a>
 | 
<a id="plot_id468079229_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id468079229" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id468079229_download" class="ggvis-download" data-plot-id="plot_id468079229">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id468079229_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "log10(POP_CNTRY)": "number",
          "spirits": "number"
        }
      },
      "values": "\"log10(POP_CNTRY)\",\"spirits\"\n4.8143275198769,3.25\n7.23679891813006,0\n7.4386883547711,0.04\n6.73940349844012,1.46\n6.53363798834259,2.23\n6.52856038127484,3.52\n4.74299991428248,2.68\n7.06172608888228,0.64\n7.52887648120451,0.45\n7.25109093233821,1.3\n6.88960453831265,1.7\n5.76028221984882,1.36\n5.41601940502049,3.97\n6.16035536570626,0.67\n7.00140743685204,1.47\n5.43490248010949,4.12\n8.08182311448265,0\n5.31719806050701,1.96\n6.42426731240032,0.63\n6.88356576629009,0.74\n7.63447344109738,0.16\n6.71394341799608,0.16\n7.02207353181593,6.73\n5.56348108539441,0.07\n8.18048543914345,2.66\n6.20047593538909,0.1\n6.95149575969785,5.02\n5.44965424127836,0.03\n6.77894954570774,0\n7.45335381617543,2.1\n6.96045060829703,1.27\n6.79994042645124,0.03\n7.26297098252579,1.97\n6.36516513919509,0.35\n7.61305832882186,0.04\n9.10755194976793,3.98\n7.13901940302001,2.33\n7.12118151826874,0\n5.80253839020053,0.08\n7.53674259993077,1.36\n6.52106456136693,1.28\n6.4982478178334,0.04\n7.04541217606029,2.41\n5.61655217821508,0.61\n4.23044892137827,5.79\n5.86866030542704,4.86\n6.66910758762013,1.44\n5.6539366988864,0.18\n4.849241236658,6.16\n6.88985931472282,2.57\n7.02291559642892,1.21\n7.74922158033762,0.08\n6.7003553632714,2.22\n5.58700677001905,0\n6.20161776633904,5.64\n6.56375047799133,0\n6.75985436243526,1.32\n7.72544582215871,0.06\n7.01372682746826,3.3\n6.70168703277181,2.33\n5.87794695162919,0.88\n5.04769143444058,0.6\n7.76160507828954,2.7\n5.97128791230617,0.01\n6.19345715170741,1.69\n6.74784293603487,2.11\n7.2226667975009,0.04\n4.98049423339004,3.73\n7.910818033582,2.08\n7.01315165811681,1.85\n7.01373313915719,1.22\n7.79532425136226,0.01\n5.87790725932633,5.74\n6.84787421635723,5.73\n6.72973701685377,1.71\n6.69932702133266,1.19\n7.01327593562272,3.7\n5.42690146308166,0.87\n8.27722218750484,0.01\n8.95163311733722,2.6\n7.8074907169477,0.03\n6.75548533985421,1.24\n7.76274516544238,0.84\n7.13029709319022,0.02\n7.321012348586,0.04\n8.09949521509398,3.76\n6.38158559734463,1.79\n6.59662820978742,0.39\n7.41221266844004,0.4\n6.65115168185098,2\n7.34311285775287,2.96\n4.88649072517248,0\n7.63759878977747,0.4\n6.2145789535705,0.01\n7.23345073867782,4.35\n6.67419707172182,3.56\n6.46878421174358,0.9\n6.42979925876038,3.61\n6.57824484283565,4.4\n6.4627634002849,3.28\n6.73032691578297,4.6\n6.28516761933159,0.61\n5.58778278039052,2.39\n6.71978813326902,0\n7.11550034331634,0.33\n6.65065423733728,3.54\n6.34795845785355,4.04\n7.02777675972415,0.17\n6.32305295990206,0.39\n6.98876994420118,0.02\n7.44354334945302,0.09\n6.04029925662809,0.79\n6.34322676263482,0\n5.5639673178494,1.62\n6.3202102826877,0.31\n4.06111305391798,0.88\n5.80307591644867,2.47\n7.9655819538903,1.12\n7.29284020326769,0.1\n7.22022998733365,0.19\n3.30102999566398,2.4\n6.9443710737421,0.05\n5.21748394421391,0.38\n7.98779470237645,0.08\n7.18885736045906,1.58\n6.63633932818969,1.25\n7.29944802315571,0.12\n4,0\n5.63147015058694,2.93\n6.63094658264145,2.03\n6.5475528263533,1.46\n6.67883365159762,1.88\n7.38910226497626,1.67\n8.10275262005032,0.03\n7.57877520649585,3.77\n6.40858675346489,1.79\n6.98342402025284,0.93\n6.60627740148872,0.02\n6.03574063776276,0.54\n5.67942789661212,0.71\n7.37181660545621,1.9\n7.81941968322647,3.37\n8.18135072701498,5.53\n6.89951387200441,0.04\n7.25767833492742,0.09\n4.63253827195037,3.84\n4.86332286012046,1.42\n7.60889092294306,1.21\n6.90937168238936,0.03\n6.29035587042793,0.89\n6.65817801923144,0.02\n6.45086838325203,0.27\n6.99788920195724,0\n7.5940363491695,2.76\n6.99909207101421,2.12\n5.1515016203943,5.55\n7.4426901235981,0.29\n6.94092553509759,1.1\n7.14753627646684,0.46\n6.82697092251671,1.77\n6.31424653528842,1.38\n6.11126251365907,2.75\n7.75833482057762,4.31\n6.73096241400526,0.29\n4.9912260756925,0.23\n6.60727966152436,0.02\n5.10925109975655,0.52\n6.93551638490545,0.06\n7.78746706327542,0.5\n4.11394335230684,0.36\n6.56991696482166,1.32\n7.45310832930491,0.24\n7.25874165408133,0.15\n7.75143446737202,2.25\n7.72562516470822,4.06\n8.41301964604709,2.8\n7.00709413817894,0.12\n6.48920462678372,0.59\n7.31893501567061,1.97\n5.04320110717982,4.22\n7.29793222584709,1.67\n7.85257275927748,2.09\n5.20139712432045,0.35\n5.9257070063971,0.02\n7.18614006659336,0\n6.94342926790454,0.37\n7.04558465039749,0.34\n6.19744900413928,0.07"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n3.01070389795878\n9.39787804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3365\n7.0665"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "fill": {
            "value": "#000000"
          },
          "size": {
            "value": 50
          },
          "x": {
            "scale": "x",
            "field": "data.log10(POP_CNTRY)"
          },
          "y": {
            "scale": "y",
            "field": "data.spirits"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id468079229").parseSpec(plot_id468079229_spec);
</script>
<p>You can add more variables to the plot by mapping them to other visual properties like <code>fill</code>, <code>stroke</code>, <code>size</code> and <code>shape</code>.</p>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(x =~log10(POP_CNTRY),
        y =~spirits,fill=~Continent,size =~wine,shape =~ISLAND) %&gt;% 
  layer_points()</code></pre>
<div id="plot_id894715662-container" class="ggvis-output-container">
<div id="plot_id894715662" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id894715662_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id894715662" data-renderer="svg">SVG</a>
 | 
<a id="plot_id894715662_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id894715662" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id894715662_download" class="ggvis-download" data-plot-id="plot_id894715662">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id894715662_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "log10(POP_CNTRY)": "number",
          "spirits": "number",
          "wine": "number"
        }
      },
      "values": "\"log10(POP_CNTRY)\",\"spirits\",\"Continent\",\"wine\",\"ISLAND\"\n4.8143275198769,3.25,\"North America\",1.43,\"Y\"\n7.23679891813006,0,\"Asia\",0,\"N\"\n7.4386883547711,0.04,\"Africa\",0.23,\"N\"\n6.73940349844012,1.46,\"Asia\",0.22,\"N\"\n6.53363798834259,2.23,\"Europe\",1.32,\"N\"\n6.52856038127484,3.52,\"Europe\",0.3,\"N\"\n4.74299991428248,2.68,\"Europe\",4.39,\"N\"\n7.06172608888228,0.64,\"Africa\",1.95,\"N\"\n7.52887648120451,0.45,\"South America\",3.91,\"N\"\n7.25109093233821,1.3,\"Oceania\",3.87,\"N\"\n6.88960453831265,1.7,\"Europe\",4.3,\"N\"\n5.76028221984882,1.36,\"Asia\",0.11,\"Y\"\n5.41601940502049,3.97,\"North America\",0.93,\"Y\"\n6.16035536570626,0.67,\"Africa\",0.75,\"N\"\n7.00140743685204,1.47,\"Europe\",3.71,\"N\"\n5.43490248010949,4.12,\"North America\",1.46,\"Y\"\n8.08182311448265,0,\"Asia\",0,\"N\"\n5.31719806050701,1.96,\"South America\",0.13,\"N\"\n6.42426731240032,0.63,\"Europe\",0.45,\"N\"\n6.88356576629009,0.74,\"South America\",0.23,\"N\"\n7.63447344109738,0.16,\"Asia\",0,\"N\"\n6.71394341799608,0.16,\"Africa\",0.25,\"N\"\n7.02207353181593,6.73,\"Europe\",0.75,\"N\"\n5.56348108539441,0.07,\"Oceania\",0.03,\"Y\"\n8.18048543914345,2.66,\"South America\",0.4,\"N\"\n6.20047593538909,0.1,\"Asia\",0.07,\"N\"\n6.95149575969785,5.02,\"Europe\",1.73,\"N\"\n5.44965424127836,0.03,\"Asia\",0.01,\"Y\"\n6.77894954570774,0,\"Africa\",0,\"N\"\n7.45335381617543,2.1,\"North America\",1.9,\"N\"\n6.96045060829703,1.27,\"Asia\",0.01,\"N\"\n6.79994042645124,0.03,\"Africa\",0.02,\"N\"\n7.26297098252579,1.97,\"Asia\",0,\"Y\"\n6.36516513919509,0.35,\"Africa\",0.28,\"N\"\n7.61305832882186,0.04,\"Africa\",0.22,\"N\"\n9.10755194976793,3.98,\"Asia\",0.17,\"N\"\n7.13901940302001,2.33,\"South America\",3.23,\"N\"\n7.12118151826874,0,\"Africa\",0.09,\"N\"\n5.80253839020053,0.08,\"Africa\",0.03,\"Y\"\n7.53674259993077,1.36,\"South America\",0.05,\"N\"\n6.52106456136693,1.28,\"North America\",0.19,\"N\"\n6.4982478178334,0.04,\"Africa\",0.01,\"N\"\n7.04541217606029,2.41,\"North America\",0.09,\"Y\"\n5.61655217821508,0.61,\"Africa\",1.62,\"Y\"\n4.23044892137827,5.79,\"Oceania\",2.86,\"Y\"\n5.86866030542704,4.86,\"Europe\",2.67,\"Y\"\n6.66910758762013,1.44,\"Europe\",4.92,\"N\"\n5.6539366988864,0.18,\"Africa\",0.05,\"N\"\n4.849241236658,6.16,\"North America\",0.74,\"Y\"\n6.88985931472282,2.57,\"North America\",0.16,\"Y\"\n7.02291559642892,1.21,\"South America\",0.05,\"N\"\n7.74922158033762,0.08,\"Africa\",0.02,\"N\"\n6.7003553632714,2.22,\"Europe\",2.98,\"Y\"\n5.58700677001905,0,\"Africa\",3.67,\"N\"\n6.20161776633904,5.64,\"Europe\",1.65,\"N\"\n6.56375047799133,0,\"Africa\",0,\"N\"\n6.75985436243526,1.32,\"North America\",0.04,\"N\"\n7.72544582215871,0.06,\"Africa\",0,\"N\"\n7.01372682746826,3.3,\"Europe\",2.6,\"N\"\n6.70168703277181,2.33,\"Europe\",1.7,\"N\"\n5.87794695162919,0.88,\"Oceania\",0.02,\"Y\"\n5.04769143444058,0.6,\"Oceania\",0.31,\"Y\"\n7.76160507828954,2.7,\"Europe\",6.6,\"N\"\n5.97128791230617,0.01,\"Africa\",0.02,\"N\"\n6.19345715170741,1.69,\"Africa\",1.17,\"N\"\n6.74784293603487,2.11,\"Europe\",3.76,\"N\"\n7.2226667975009,0.04,\"Africa\",0.17,\"N\"\n4.98049423339004,3.73,\"North America\",0.43,\"Y\"\n7.910818033582,2.08,\"Europe\",3.12,\"N\"\n7.01315165811681,1.85,\"Europe\",4.8,\"N\"\n7.01373313915719,1.22,\"North America\",0.03,\"N\"\n7.79532425136226,0.01,\"Africa\",0.03,\"N\"\n5.87790725932633,5.74,\"South America\",0.02,\"N\"\n6.84787421635723,5.73,\"North America\",0.01,\"Y\"\n6.72973701685377,1.71,\"North America\",0.03,\"N\"\n6.69932702133266,1.19,\"Europe\",6.05,\"N\"\n7.01327593562272,3.7,\"Europe\",3.17,\"N\"\n5.42690146308166,0.87,\"Europe\",2.26,\"Y\"\n8.27722218750484,0.01,\"Asia\",0,\"Y\"\n8.95163311733722,2.6,\"Asia\",0,\"N\"\n7.8074907169477,0.03,\"Asia\",0,\"N\"\n6.75548533985421,1.24,\"Asia\",0.18,\"N\"\n7.76274516544238,0.84,\"Europe\",4.45,\"N\"\n7.13029709319022,0.02,\"Africa\",0.26,\"N\"\n7.321012348586,0.04,\"Asia\",0,\"N\"\n8.09949521509398,3.76,\"Asia\",0.28,\"Y\"\n6.38158559734463,1.79,\"North America\",0.17,\"Y\"\n6.59662820978742,0.39,\"Asia\",0.01,\"N\"\n7.41221266844004,0.4,\"Africa\",0.03,\"N\"\n6.65115168185098,2,\"Asia\",0.1,\"N\"\n7.34311285775287,2.96,\"Asia\",0,\"N\"\n4.88649072517248,0,\"Oceania\",0.03,\"Y\"\n7.63759878977747,0.4,\"Asia\",0.14,\"N\"\n6.2145789535705,0.01,\"Asia\",0,\"N\"\n7.23345073867782,4.35,\"Asia\",0.37,\"N\"\n6.67419707172182,3.56,\"Asia\",0,\"N\"\n6.46878421174358,0.9,\"Asia\",0.25,\"N\"\n6.42979925876038,3.61,\"Europe\",1.1,\"N\"\n6.57824484283565,4.4,\"Europe\",1,\"N\"\n6.4627634002849,3.28,\"Africa\",0.03,\"N\"\n6.73032691578297,4.6,\"Europe\",1.77,\"N\"\n6.28516761933159,0.61,\"Africa\",0.01,\"N\"\n5.58778278039052,2.39,\"Europe\",4.86,\"N\"\n6.71978813326902,0,\"Africa\",0,\"N\"\n7.11550034331634,0.33,\"Africa\",0.17,\"Y\"\n6.65065423733728,3.54,\"Europe\",2.59,\"N\"\n6.34795845785355,4.04,\"Asia\",0.16,\"N\"\n7.02777675972415,0.17,\"Africa\",0.02,\"N\"\n6.32305295990206,0.39,\"Europe\",0.33,\"N\"\n6.98876994420118,0.02,\"Africa\",0.01,\"N\"\n7.44354334945302,0.09,\"Africa\",0.27,\"N\"\n6.04029925662809,0.79,\"Asia\",0.35,\"Y\"\n6.34322676263482,0,\"Africa\",0,\"N\"\n5.5639673178494,1.62,\"Europe\",3.1,\"Y\"\n6.3202102826877,0.31,\"Asia\",0.03,\"N\"\n4.06111305391798,0.88,\"Asia\",0.46,\"Y\"\n5.80307591644867,2.47,\"Europe\",3.22,\"N\"\n7.9655819538903,1.12,\"North America\",0.12,\"N\"\n7.29284020326769,0.1,\"Asia\",0,\"N\"\n7.22022998733365,0.19,\"Africa\",0.1,\"N\"\n3.30102999566398,2.4,\"Oceania\",0.6,\"Y\"\n6.9443710737421,0.05,\"Africa\",0.01,\"N\"\n5.21748394421391,0.38,\"Oceania\",0.19,\"Y\"\n7.98779470237645,0.08,\"Africa\",0.03,\"N\"\n7.18885736045906,1.58,\"Europe\",3.39,\"N\"\n6.63633932818969,1.25,\"Europe\",2.29,\"N\"\n7.29944802315571,0.12,\"Asia\",0,\"N\"\n4,0,\"Oceania\",0.16,\"Y\"\n5.63147015058694,2.93,\"South America\",0.13,\"N\"\n6.63094658264145,2.03,\"North America\",0.02,\"N\"\n6.5475528263533,1.46,\"Oceania\",3.26,\"Y\"\n6.67883365159762,1.88,\"South America\",1.32,\"N\"\n7.38910226497626,1.67,\"South America\",0.36,\"N\"\n8.10275262005032,0.03,\"Asia\",0,\"N\"\n7.57877520649585,3.77,\"Europe\",0.94,\"N\"\n6.40858675346489,1.79,\"South America\",0.31,\"N\"\n6.98342402025284,0.93,\"Europe\",7.49,\"N\"\n6.60627740148872,0.02,\"Oceania\",0.01,\"Y\"\n6.03574063776276,0.54,\"Africa\",0.69,\"N\"\n5.67942789661212,0.71,\"Asia\",0.11,\"N\"\n7.37181660545621,1.9,\"Europe\",2.6,\"N\"\n7.81941968322647,3.37,\"Asia\",0.02,\"Y\"\n8.18135072701498,5.53,\"Asia\",1.28,\"N\"\n6.89951387200441,0.04,\"Africa\",0,\"N\"\n7.25767833492742,0.09,\"Asia\",0,\"N\"\n4.63253827195037,3.84,\"North America\",0.55,\"Y\"\n4.86332286012046,1.42,\"Africa\",2.33,\"Y\"\n7.60889092294306,1.21,\"Africa\",1.29,\"N\"\n6.90937168238936,0.03,\"Africa\",0.12,\"N\"\n6.29035587042793,0.89,\"Europe\",4.84,\"N\"\n6.65817801923144,0.02,\"Africa\",0.03,\"N\"\n6.45086838325203,0.27,\"Asia\",0.25,\"Y\"\n6.99788920195724,0,\"Africa\",0,\"N\"\n7.5940363491695,2.76,\"Europe\",1.97,\"N\"\n6.99909207101421,2.12,\"Europe\",4.45,\"N\"\n5.1515016203943,5.55,\"North America\",1.45,\"Y\"\n7.4426901235981,0.29,\"Africa\",0,\"N\"\n6.94092553509759,1.1,\"Europe\",3.4,\"N\"\n7.14753627646684,0.46,\"Asia\",0.27,\"N\"\n6.82697092251671,1.77,\"Europe\",4.94,\"N\"\n6.31424653528842,1.38,\"Asia\",0.11,\"N\"\n6.11126251365907,2.75,\"North America\",0.13,\"Y\"\n7.75833482057762,4.31,\"Asia\",0.03,\"N\"\n6.73096241400526,0.29,\"Asia\",0.01,\"N\"\n4.9912260756925,0.23,\"Oceania\",0.09,\"Y\"\n6.60727966152436,0.02,\"Africa\",0.28,\"N\"\n5.10925109975655,0.52,\"Africa\",4.26,\"Y\"\n6.93551638490545,0.06,\"Africa\",0.35,\"N\"\n7.78746706327542,0.5,\"Europe\",0.13,\"N\"\n4.11394335230684,0.36,\"Oceania\",0.55,\"Y\"\n6.56991696482166,1.32,\"Asia\",0.81,\"N\"\n7.45310832930491,0.24,\"Africa\",0.01,\"N\"\n7.25874165408133,0.15,\"Africa\",0.01,\"N\"\n7.75143446737202,2.25,\"Europe\",3.96,\"Y\"\n7.72562516470822,4.06,\"Europe\",0.75,\"N\"\n8.41301964604709,2.8,\"North America\",1.44,\"N\"\n7.00709413817894,0.12,\"Africa\",0.12,\"N\"\n6.48920462678372,0.59,\"South America\",3.72,\"N\"\n7.31893501567061,1.97,\"Asia\",0.11,\"N\"\n5.04320110717982,4.22,\"North America\",0.33,\"Y\"\n7.29793222584709,1.67,\"South America\",0.06,\"N\"\n7.85257275927748,2.09,\"Asia\",0.02,\"N\"\n5.20139712432045,0.35,\"Oceania\",0.09,\"Y\"\n5.9257070063971,0.02,\"Africa\",0.05,\"N\"\n7.18614006659336,0,\"Asia\",0,\"N\"\n6.94342926790454,0.37,\"Africa\",0.07,\"N\"\n7.04558465039749,0.34,\"Africa\",0.1,\"N\"\n6.19744900413928,0.07,\"Africa\",0.06,\"N\""
    },
    {
      "name": "scale/fill",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Africa\"\n\"Asia\"\n\"Europe\"\n\"North America\"\n\"Oceania\"\n\"South America\""
    },
    {
      "name": "scale/shape",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"N\"\n\"Y\""
    },
    {
      "name": "scale/size",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n7.49"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n3.01070389795878\n9.39787804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3365\n7.0665"
    }
  ],
  "scales": [
    {
      "name": "fill",
      "type": "ordinal",
      "domain": {
        "data": "scale/fill",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "category10"
    },
    {
      "name": "shape",
      "type": "ordinal",
      "domain": {
        "data": "scale/shape",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "shapes"
    },
    {
      "name": "size",
      "domain": {
        "data": "scale/size",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": [20, 100]
    },
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "x": {
            "scale": "x",
            "field": "data.log10(POP_CNTRY)"
          },
          "y": {
            "scale": "y",
            "field": "data.spirits"
          },
          "fill": {
            "scale": "fill",
            "field": "data.Continent"
          },
          "size": {
            "scale": "size",
            "field": "data.wine"
          },
          "shape": {
            "scale": "shape",
            "field": "data.ISLAND"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [
    {
      "orient": "right",
      "fill": "fill",
      "title": "Continent"
    },
    {
      "orient": "right",
      "shape": "shape",
      "title": "ISLAND"
    },
    {
      "orient": "right",
      "size": "size",
      "title": "wine"
    }
  ],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id894715662").parseSpec(plot_id894715662_spec);
</script>
<p>To use a fix color or size instead of a variable, use <code>:=</code></p>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(x =~log10(POP_CNTRY),y =~spirits,fill:=&quot;red&quot;,size :=30,shape :=&quot;square&quot;) %&gt;% 
  layer_points()</code></pre>
<div id="plot_id946420554-container" class="ggvis-output-container">
<div id="plot_id946420554" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id946420554_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id946420554" data-renderer="svg">SVG</a>
 | 
<a id="plot_id946420554_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id946420554" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id946420554_download" class="ggvis-download" data-plot-id="plot_id946420554">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id946420554_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "log10(POP_CNTRY)": "number",
          "spirits": "number"
        }
      },
      "values": "\"log10(POP_CNTRY)\",\"spirits\"\n4.8143275198769,3.25\n7.23679891813006,0\n7.4386883547711,0.04\n6.73940349844012,1.46\n6.53363798834259,2.23\n6.52856038127484,3.52\n4.74299991428248,2.68\n7.06172608888228,0.64\n7.52887648120451,0.45\n7.25109093233821,1.3\n6.88960453831265,1.7\n5.76028221984882,1.36\n5.41601940502049,3.97\n6.16035536570626,0.67\n7.00140743685204,1.47\n5.43490248010949,4.12\n8.08182311448265,0\n5.31719806050701,1.96\n6.42426731240032,0.63\n6.88356576629009,0.74\n7.63447344109738,0.16\n6.71394341799608,0.16\n7.02207353181593,6.73\n5.56348108539441,0.07\n8.18048543914345,2.66\n6.20047593538909,0.1\n6.95149575969785,5.02\n5.44965424127836,0.03\n6.77894954570774,0\n7.45335381617543,2.1\n6.96045060829703,1.27\n6.79994042645124,0.03\n7.26297098252579,1.97\n6.36516513919509,0.35\n7.61305832882186,0.04\n9.10755194976793,3.98\n7.13901940302001,2.33\n7.12118151826874,0\n5.80253839020053,0.08\n7.53674259993077,1.36\n6.52106456136693,1.28\n6.4982478178334,0.04\n7.04541217606029,2.41\n5.61655217821508,0.61\n4.23044892137827,5.79\n5.86866030542704,4.86\n6.66910758762013,1.44\n5.6539366988864,0.18\n4.849241236658,6.16\n6.88985931472282,2.57\n7.02291559642892,1.21\n7.74922158033762,0.08\n6.7003553632714,2.22\n5.58700677001905,0\n6.20161776633904,5.64\n6.56375047799133,0\n6.75985436243526,1.32\n7.72544582215871,0.06\n7.01372682746826,3.3\n6.70168703277181,2.33\n5.87794695162919,0.88\n5.04769143444058,0.6\n7.76160507828954,2.7\n5.97128791230617,0.01\n6.19345715170741,1.69\n6.74784293603487,2.11\n7.2226667975009,0.04\n4.98049423339004,3.73\n7.910818033582,2.08\n7.01315165811681,1.85\n7.01373313915719,1.22\n7.79532425136226,0.01\n5.87790725932633,5.74\n6.84787421635723,5.73\n6.72973701685377,1.71\n6.69932702133266,1.19\n7.01327593562272,3.7\n5.42690146308166,0.87\n8.27722218750484,0.01\n8.95163311733722,2.6\n7.8074907169477,0.03\n6.75548533985421,1.24\n7.76274516544238,0.84\n7.13029709319022,0.02\n7.321012348586,0.04\n8.09949521509398,3.76\n6.38158559734463,1.79\n6.59662820978742,0.39\n7.41221266844004,0.4\n6.65115168185098,2\n7.34311285775287,2.96\n4.88649072517248,0\n7.63759878977747,0.4\n6.2145789535705,0.01\n7.23345073867782,4.35\n6.67419707172182,3.56\n6.46878421174358,0.9\n6.42979925876038,3.61\n6.57824484283565,4.4\n6.4627634002849,3.28\n6.73032691578297,4.6\n6.28516761933159,0.61\n5.58778278039052,2.39\n6.71978813326902,0\n7.11550034331634,0.33\n6.65065423733728,3.54\n6.34795845785355,4.04\n7.02777675972415,0.17\n6.32305295990206,0.39\n6.98876994420118,0.02\n7.44354334945302,0.09\n6.04029925662809,0.79\n6.34322676263482,0\n5.5639673178494,1.62\n6.3202102826877,0.31\n4.06111305391798,0.88\n5.80307591644867,2.47\n7.9655819538903,1.12\n7.29284020326769,0.1\n7.22022998733365,0.19\n3.30102999566398,2.4\n6.9443710737421,0.05\n5.21748394421391,0.38\n7.98779470237645,0.08\n7.18885736045906,1.58\n6.63633932818969,1.25\n7.29944802315571,0.12\n4,0\n5.63147015058694,2.93\n6.63094658264145,2.03\n6.5475528263533,1.46\n6.67883365159762,1.88\n7.38910226497626,1.67\n8.10275262005032,0.03\n7.57877520649585,3.77\n6.40858675346489,1.79\n6.98342402025284,0.93\n6.60627740148872,0.02\n6.03574063776276,0.54\n5.67942789661212,0.71\n7.37181660545621,1.9\n7.81941968322647,3.37\n8.18135072701498,5.53\n6.89951387200441,0.04\n7.25767833492742,0.09\n4.63253827195037,3.84\n4.86332286012046,1.42\n7.60889092294306,1.21\n6.90937168238936,0.03\n6.29035587042793,0.89\n6.65817801923144,0.02\n6.45086838325203,0.27\n6.99788920195724,0\n7.5940363491695,2.76\n6.99909207101421,2.12\n5.1515016203943,5.55\n7.4426901235981,0.29\n6.94092553509759,1.1\n7.14753627646684,0.46\n6.82697092251671,1.77\n6.31424653528842,1.38\n6.11126251365907,2.75\n7.75833482057762,4.31\n6.73096241400526,0.29\n4.9912260756925,0.23\n6.60727966152436,0.02\n5.10925109975655,0.52\n6.93551638490545,0.06\n7.78746706327542,0.5\n4.11394335230684,0.36\n6.56991696482166,1.32\n7.45310832930491,0.24\n7.25874165408133,0.15\n7.75143446737202,2.25\n7.72562516470822,4.06\n8.41301964604709,2.8\n7.00709413817894,0.12\n6.48920462678372,0.59\n7.31893501567061,1.97\n5.04320110717982,4.22\n7.29793222584709,1.67\n7.85257275927748,2.09\n5.20139712432045,0.35\n5.9257070063971,0.02\n7.18614006659336,0\n6.94342926790454,0.37\n7.04558465039749,0.34\n6.19744900413928,0.07"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n3.01070389795878\n9.39787804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3365\n7.0665"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "x": {
            "scale": "x",
            "field": "data.log10(POP_CNTRY)"
          },
          "y": {
            "scale": "y",
            "field": "data.spirits"
          },
          "fill": {
            "value": "red"
          },
          "size": {
            "value": 30
          },
          "shape": {
            "value": "square"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id946420554").parseSpec(plot_id946420554_spec);
</script>
</div>
<div id="add-grouping-with-group_by" class="section level4">
<h4>Add grouping with <code>group_by()</code></h4>
<pre class="r"><code>data_vis %&gt;% 
ggvis(x = ~wine, y = ~beer) %&gt;% 
  layer_points(fill = ~Continent) %&gt;%
  group_by(Continent) %&gt;% 
  layer_model_predictions(model = &quot;lm&quot;,se = T)</code></pre>
<pre><code>## Guessing formula = beer ~ wine</code></pre>
<div id="plot_id141000849-container" class="ggvis-output-container">
<div id="plot_id141000849" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id141000849_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id141000849" data-renderer="svg">SVG</a>
 | 
<a id="plot_id141000849_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id141000849" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id141000849_download" class="ggvis-download" data-plot-id="plot_id141000849">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id141000849_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "wine": "number",
          "beer": "number"
        }
      },
      "values": "\"wine\",\"beer\",\"Continent\"\n1.43,2.89,\"North America\"\n0,0.01,\"Asia\"\n0.23,0.17,\"Africa\"\n0.22,0.16,\"Asia\"\n1.32,1.61,\"Europe\"\n0.3,0.39,\"Europe\"\n4.39,3.54,\"Europe\"\n1.95,5.12,\"Africa\"\n3.91,3.32,\"South America\"\n3.87,4.51,\"Oceania\"\n4.3,6.1,\"Europe\"\n0.11,0.46,\"Asia\"\n0.93,3.3,\"North America\"\n0.75,3.36,\"Africa\"\n3.71,5.02,\"Europe\"\n1.46,3.23,\"North America\"\n0,0,\"Asia\"\n0.13,4.52,\"South America\"\n0.45,3.33,\"Europe\"\n0.23,2.96,\"South America\"\n0,0.14,\"Asia\"\n0.25,0.67,\"Africa\"\n0.75,2.5,\"Europe\"\n0.03,0.95,\"Oceania\"\n0.4,4.42,\"South America\"\n0.07,0.11,\"Asia\"\n1.73,4.01,\"Europe\"\n0.01,0.82,\"Asia\"\n0,1.59,\"Africa\"\n1.9,4.2,\"North America\"\n0.01,0.91,\"Asia\"\n0.02,0.32,\"Africa\"\n0,0.3,\"Asia\"\n0.28,2.9,\"Africa\"\n0.22,0.62,\"Africa\"\n0.17,1.6,\"Asia\"\n3.23,2.37,\"South America\"\n0.09,2.53,\"Africa\"\n0.03,0.04,\"Africa\"\n0.05,2.86,\"South America\"\n0.19,2.07,\"North America\"\n0.01,0.29,\"Africa\"\n0.09,1.6,\"North America\"\n1.62,2.51,\"Africa\"\n2.86,2.07,\"Oceania\"\n2.67,3.78,\"Europe\"\n4.92,3.86,\"Europe\"\n0.05,0.2,\"Africa\"\n0.74,0.48,\"North America\"\n0.16,3.22,\"North America\"\n0.05,2.67,\"South America\"\n0.02,0.12,\"Africa\"\n2.98,5.73,\"Europe\"\n3.67,6.26,\"Africa\"\n1.65,5.87,\"Europe\"\n0,0.4,\"Africa\"\n0.04,1,\"North America\"\n0,0.36,\"Africa\"\n2.6,6.79,\"Europe\"\n1.7,4.47,\"Europe\"\n0.02,1.35,\"Oceania\"\n0.31,0.86,\"Oceania\"\n6.6,2.2,\"Europe\"\n0.02,0.17,\"Africa\"\n1.17,5.96,\"Africa\"\n3.76,1.36,\"Europe\"\n0.17,0.48,\"Africa\"\n0.43,3.55,\"North America\"\n3.12,6.01,\"Europe\"\n4.8,2.25,\"Europe\"\n0.03,0.87,\"North America\"\n0.03,0.15,\"Africa\"\n0.02,1.74,\"South America\"\n0.01,0.01,\"North America\"\n0.03,1.36,\"North America\"\n6.05,4.46,\"Europe\"\n3.17,3.91,\"Europe\"\n2.26,4.98,\"Europe\"\n0,0.07,\"Asia\"\n0,0.17,\"Asia\"\n0,0,\"Asia\"\n0.18,1.15,\"Asia\"\n4.45,1.66,\"Europe\"\n0.26,0.71,\"Africa\"\n0,0.14,\"Asia\"\n0.28,1.33,\"Asia\"\n0.17,1.33,\"North America\"\n0.01,0.1,\"Asia\"\n0.03,0.96,\"Africa\"\n0.1,0.63,\"Asia\"\n0,0.16,\"Asia\"\n0.03,0.44,\"Oceania\"\n0.14,1.88,\"Asia\"\n0,0,\"Asia\"\n0.37,2.11,\"Asia\"\n0,2.39,\"Asia\"\n0.25,0.41,\"Asia\"\n1.1,4.57,\"Europe\"\n1,6,\"Europe\"\n0.03,0.33,\"Africa\"\n1.77,3.42,\"Europe\"\n0.01,1.49,\"Africa\"\n4.86,4.11,\"Europe\"\n0,0,\"Africa\"\n0.17,0.53,\"Africa\"\n2.59,1.89,\"Europe\"\n0.16,1.6,\"Asia\"\n0.02,0.15,\"Africa\"\n0.33,0.75,\"Europe\"\n0.01,0.08,\"Africa\"\n0.27,0.2,\"Africa\"\n0.35,1.81,\"Asia\"\n0,0,\"Africa\"\n3.1,2.89,\"Europe\"\n0.03,0.22,\"Asia\"\n0.46,0.5,\"Asia\"\n3.22,0.73,\"Europe\"\n0.12,3.92,\"North America\"\n0,0.38,\"Asia\"\n0.1,0.61,\"Africa\"\n0.6,1.9,\"Oceania\"\n0.01,0.05,\"Africa\"\n0.19,0.34,\"Oceania\"\n0.03,0.7,\"Africa\"\n3.39,4.36,\"Europe\"\n2.29,2.91,\"Europe\"\n0,0.12,\"Asia\"\n0.16,0.94,\"Oceania\"\n0.13,2.03,\"South America\"\n0.02,1.33,\"North America\"\n3.26,3.67,\"Oceania\"\n1.32,2.39,\"South America\"\n0.36,2.7,\"South America\"\n0,0,\"Asia\"\n0.94,5.88,\"Europe\"\n0.31,4.82,\"South America\"\n7.49,3.37,\"Europe\"\n0.01,0.76,\"Oceania\"\n0.69,0.44,\"Africa\"\n0.11,0.33,\"Asia\"\n2.6,4.5,\"Europe\"\n0.02,1.32,\"Asia\"\n1.28,4.11,\"Asia\"\n0,0.8,\"Africa\"\n0,0,\"Asia\"\n0.55,3.79,\"North America\"\n2.33,2.75,\"Africa\"\n1.29,3.5,\"Africa\"\n0.12,0.14,\"Africa\"\n4.84,4.59,\"Europe\"\n0.03,0.18,\"Africa\"\n0.25,1.29,\"Asia\"\n0,0,\"Africa\"\n1.97,4.87,\"Europe\"\n4.45,2.88,\"Europe\"\n1.45,3.28,\"North America\"\n0,0.17,\"Africa\"\n3.4,2.7,\"Europe\"\n0.27,0.05,\"Asia\"\n4.94,3.18,\"Europe\"\n0.11,0.19,\"Asia\"\n0.13,3.53,\"North America\"\n0.03,1.59,\"Asia\"\n0.01,0.02,\"Asia\"\n0.09,0.92,\"Oceania\"\n0.28,0.63,\"Africa\"\n4.26,0.79,\"Africa\"\n0.35,0.87,\"Africa\"\n0.13,0.86,\"Europe\"\n0.55,0.11,\"Oceania\"\n0.81,0.35,\"Asia\"\n0.01,0.67,\"Africa\"\n0.01,0.68,\"Africa\"\n3.96,3.76,\"Europe\"\n0.75,3.36,\"Europe\"\n1.44,4.31,\"North America\"\n0.12,0.46,\"Africa\"\n3.72,1.9,\"South America\"\n0.11,0.65,\"Asia\"\n0.33,2.32,\"North America\"\n0.06,5.43,\"South America\"\n0.02,1.82,\"Asia\"\n0.09,2.57,\"Oceania\"\n0.05,1.69,\"Africa\"\n0,0.06,\"Asia\"\n0.07,0.62,\"Africa\"\n0.1,1.67,\"Africa\"\n0.06,7.16,\"Africa\""
    },
    {
      "name": ".0/group_by1/model_prediction2_flat",
      "format": {
        "type": "csv",
        "parse": {
          "resp_upr_": "number",
          "pred_": "number",
          "resp_lwr_": "number",
          "resp_": "number"
        }
      },
      "values": "\"Continent\",\"resp_upr_\",\"pred_\",\"resp_lwr_\",\"resp_\"\n\"Africa\",1.27248118434265,0,0.363594569361288,0.818037876851968\n\"Africa\",1.3147285678345,0.0539240506329114,0.426267484244208,0.870498026039352\n\"Africa\",1.35822458576072,0.107848101265823,0.487691764692748,0.922958175226735\n\"Africa\",1.40304776838363,0.161772151898734,0.547788880444608,0.975418324414118\n\"Africa\",1.44927027928263,0.215696202531646,0.606486667920375,1.0278784736015\n\"Africa\",1.49695497601536,0.269620253164557,0.663722269562412,1.08033862278889\n\"Africa\",1.54615253933692,0.323544303797468,0.719445004615613,1.13279877197627\n\"Africa\",1.59689894295668,0.37746835443038,0.773618899370624,1.18525892116365\n\"Africa\",1.64921353863376,0.431392405063291,0.826224602068314,1.23771907035104\n\"Africa\",1.70309798473055,0.485316455696203,0.877260454346292,1.29017921953842\n\"Africa\",1.75853615304049,0.539240506329114,0.926742584411113,1.3426393687258\n\"Africa\",1.81549502585042,0.593164556962025,0.974704009975953,1.39509951791319\n\"Africa\",1.87392646965361,0.647088607594937,1.02119286454753,1.44755966710057\n\"Africa\",1.93376967148079,0.701012658227848,1.06626996109512,1.50001981628795\n\"Africa\",1.99495396784756,0.754936708860759,1.11000596310311,1.55247996547534\n\"Africa\",2.05740179039426,0.808860759493671,1.15247843893118,1.60494011466272\n\"Africa\",2.12103148860883,0.862784810126582,1.19376903909138,1.6574002638501\n\"Africa\",2.18575985249057,0.916708860759494,1.2339609735844,1.70986041303749\n\"Africa\",2.25150422886476,0.970632911392405,1.27313689558498,1.76232056222487\n\"Africa\",2.31818419002332,1.02455696202532,1.31137723280119,1.81478071141225\n\"Africa\",2.38572276402848,1.07848101265823,1.34875895717079,1.86724086059964\n\"Africa\",2.45404726964449,1.13240506329114,1.38535474992955,1.91970100978702\n\"Africa\",2.52308981678695,1.18632911392405,1.42123250116185,1.9721611589744\n\"Africa\",2.59278753903934,1.24025316455696,1.45645507728424,2.02462130816179\n\"Africa\",2.66308262215609,1.29417721518987,1.49108029254225,2.07708145734917\n\"Africa\",2.73392218509242,1.34810126582278,1.52516102798069,2.12954160653655\n\"Africa\",2.80525806066676,1.4020253164557,1.55874545078112,2.18200175572394\n\"Africa\",2.87704651327152,1.45594936708861,1.59187729655112,2.23446190491132\n\"Africa\",2.94924792214772,1.50987341772152,1.62459618604969,2.2869220540987\n\"Africa\",3.0218264511242,1.56379746835443,1.65693795544798,2.33938220328609\n\"Africa\",3.0947497195303,1.61772151898734,1.68893498541664,2.39184235247347\n\"Africa\",3.16798848415133,1.67164556962025,1.72061651917038,2.44430250166085\n\"Africa\",3.24151633843806,1.72556962025316,1.75200896325842,2.49676265084824\n\"Africa\",3.31530943249899,1.77949367088608,1.78313616757225,2.54922280003562\n\"Africa\",3.38934621549515,1.83341772151899,1.81401968295086,2.601682949223\n\"Africa\",3.46360720074286,1.8873417721519,1.84467899607791,2.65414309841039\n\"Africa\",3.53807475296061,1.94126582278481,1.87513174223493,2.70660324759777\n\"Africa\",3.61273289655117,1.99518987341772,1.90539389701914,2.75906339678515\n\"Africa\",3.68756714349847,2.04911392405063,1.93547994844661,2.81152354597254\n\"Africa\",3.76256433930745,2.10303797468354,1.96540305101239,2.86398369515992\n\"Africa\",3.83771252537472,2.15696202531646,1.99517516331989,2.91644384434731\n\"Africa\",3.9130008162083,2.21088607594937,2.02480717086108,2.96890399353469\n\"Africa\",3.98841928999021,2.26481012658228,2.05430899545393,3.02136414272207\n\"Africa\",4.06395889107676,2.31873417721519,2.08368969274215,3.07382429190946\n\"Africa\",4.13961134314454,2.3726582278481,2.11295753904913,3.12628444109684\n\"Africa\",4.21536907180778,2.42658227848101,2.14212010876066,3.17874459028422\n\"Africa\",4.29122513564773,2.48050632911392,2.17118434329548,3.23120473947161\n\"Africa\",4.3671731647048,2.53443037974684,2.20015661261318,3.28366488865899\n\"Africa\",4.44320730558674,2.58835443037975,2.22904277010601,3.33612503784637\n\"Africa\",4.51932217243997,2.64227848101266,2.25784820162754,3.38858518703376\n\"Africa\",4.59551280311698,2.69620253164557,2.2865778693253,3.44104533622114\n\"Africa\",4.67177461994922,2.75012658227848,2.31523635086783,3.49350548540852\n\"Africa\",4.74810339460374,2.80405063291139,2.34382787458808,3.54596563459591\n\"Africa\",4.8244952165631,2.8579746835443,2.37235635100348,3.59842578378329\n\"Africa\",4.90094646482198,2.91189873417721,2.40082540111937,3.65088593297067\n\"Africa\",4.97745378244196,2.96582278481013,2.42923838187416,3.70334608215806\n\"Africa\",5.0540140536482,3.01974683544304,2.45759840904268,3.75580623134544\n\"Africa\",5.13062438318885,3.07367088607595,2.4859083778768,3.80826638053282\n\"Africa\",5.20728207771063,3.12759493670886,2.51417098172978,3.86072652972021\n\"Africa\",5.2839846289331,3.18151898734177,2.54238872888208,3.91318667890759\n\"Africa\",5.36072969842902,3.23544303797468,2.57056395776093,3.96564682809497\n\"Africa\",5.43751510384068,3.28936708860759,2.59869885072403,4.01810697728236\n\"Africa\",5.51433880638147,3.34329113924051,2.62679544655801,4.07056712646974\n\"Africa\",5.59119889948912,3.39721518987342,2.65485565182513,4.12302727565712\n\"Africa\",5.66809359851217,3.45113924050633,2.68288125117685,4.17548742484451\n\"Africa\",5.74502123132449,3.50506329113924,2.71087391673929,4.22794757403189\n\"Africa\",5.82198022977434,3.55898734177215,2.73883521666421,4.28040772321927\n\"Africa\",5.89896912188473,3.61291139240506,2.76676662292859,4.33286787240666\n\"Africa\",5.97598652473106,3.66683544303797,2.79466951845702,4.38532802159404\n\"Africa\",6.05303113792984,3.72075949367089,2.82254520363301,4.43778817078142\n\"Africa\",6.13010173767958,3.7746835443038,2.85039490225803,4.49024831996881\n\"Africa\",6.20719717130109,3.82860759493671,2.87821976701129,4.54270846915619\n\"Africa\",6.2843163522299,3.88253164556962,2.90602088445725,4.59516861834357\n\"Africa\",6.36145825541872,3.93645569620253,2.9337992796432,4.64762876753096\n\"Africa\",6.43862191311183,3.99037974683544,2.96155592032485,4.70008891671834\n\"Africa\",6.51580641095755,4.04430379746835,2.9892917208539,4.75254906590573\n\"Africa\",6.59301088442804,4.09822784810127,3.01700754575818,4.80500921509311\n\"Africa\",6.670234515519,4.15215189873418,3.04470421304198,4.85746936428049\n\"Africa\",6.74747652970449,4.20607594936709,3.07238249723127,4.90992951346788\n\"Africa\",6.82473619312437,4.26,3.10004313218614,4.96238966265526\n\"Asia\",0.682747348040385,0,0.17992462790533,0.431335987972858\n\"Asia\",0.709722496952116,0.0162025316455696,0.221039480942917,0.465380988947517\n\"Asia\",0.737428892118701,0.0324050632911392,0.261423087725652,0.499425989922176\n\"Asia\",0.765926360228292,0.0486075949367089,0.301015621565379,0.533470990896836\n\"Asia\",0.795272713759408,0.0648101265822785,0.339759269983582,0.567515991871495\n\"Asia\",0.825521387461544,0.0810126582278481,0.377600598230765,0.601560992846154\n\"Asia\",0.856718862520225,0.0972151898734177,0.414493125121403,0.635605993820814\n\"Asia\",0.888902109752121,0.113417721518987,0.450399879838825,0.669650994795473\n\"Asia\",0.922096340257115,0.129620253164557,0.48529565128315,0.703695995770133\n\"Asia\",0.956313359799641,0.145822784810127,0.519168633689943,0.737740996744792\n\"Asia\",0.991550766660648,0.162025316455696,0.552021228778255,0.771785997719451\n\"Asia\",1.02779211646302,0.178227848101266,0.583869880925203,0.805830998694111\n\"Asia\",1.06500802824693,0.194430379746835,0.61474397109061,0.83987599966877\n\"Asia\",1.10315806383187,0.210632911392405,0.64468393745499,0.873921000643429\n\"Asia\",1.14219311436094,0.226835443037975,0.673738888875238,0.907966001618089\n\"Asia\",1.18205799362886,0.243037974683544,0.701964011556633,0.942011002592748\n\"Asia\",1.22269396460379,0.259240506329114,0.729418042531029,0.976056003567408\n\"Asia\",1.26404099371258,0.275443037974684,0.756161015371554,1.01010100454207\n\"Asia\",1.30603961126667,0.291645569620253,0.782252399766782,1.04414600551673\n\"Asia\",1.34863233418104,0.307848101265823,0.807749678801731,1.07819100649139\n\"Asia\",1.3917646662283,0.324050632911392,0.832707348703786,1.11223600746604\n\"Asia\",1.43538572783034,0.340253164556962,0.857176289051068,1.1462810084407\n\"Asia\",1.47944858434802,0.356455696202532,0.881203434482707,1.18032600941536\n\"Asia\",1.52391034432413,0.372658227848101,0.904831676455912,1.21437101039002\n\"Asia\",1.56873209280215,0.388860759493671,0.928099929927218,1.24841601136468\n\"Asia\",1.61387871427993,0.405063291139241,0.951043310398753,1.28246101233934\n\"Asia\",1.65931864821645,0.42126582278481,0.973693378411555,1.316506013314\n\"Asia\",1.70502360913202,0.43746835443038,0.996078419445302,1.35055101428866\n\"Asia\",1.75096829409765,0.453670886075949,1.01822373642899,1.38459601526332\n\"Asia\",1.79713009304018,0.469873417721519,1.04015193943578,1.41864101623798\n\"Asia\",1.84348881169593,0.486075949367089,1.06188322272934,1.45268601721264\n\"Asia\",1.89002641296682,0.502278481012658,1.08343562340777,1.4867310181873\n\"Asia\",1.93672677956737,0.518481012658228,1.10482525875654,1.52077601916196\n\"Asia\",1.98357549891248,0.534683544303797,1.12606654136075,1.55482102013662\n\"Asia\",2.03055966994034,0.550886075949367,1.14717237228222,1.58886602111128\n\"Asia\",2.07766773079791,0.567088607594937,1.16815431337396,1.62291102208594\n\"Asia\",2.12488930588862,0.583291139240506,1.18902274023257,1.65695602306059\n\"Asia\",2.17221507058307,0.599493670886076,1.20978697748744,1.69100102403525\n\"Asia\",2.21963663184418,0.615696202531646,1.23045541817565,1.72504602500991\n\"Asia\",2.26714642306199,0.631898734177215,1.25103562890715,1.75909102598457\n\"Asia\",2.31473761149225,0.648101265822785,1.27153444242621,1.79313602695923\n\"Asia\",2.36240401682008,0.664303797468354,1.2919580390477,1.82718102793389\n\"Asia\",2.41014003950968,0.680506329113924,1.31231201830742,1.86122602890855\n\"Asia\",2.45794059774096,0.696708860759494,1.33260146202546,1.89527102988321\n\"Asia\",2.50580107186872,0.712911392405063,1.35283098984702,1.92931603085787\n\"Asia\",2.55371725546567,0.729113924050633,1.37300480819939,1.96336103183253\n\"Asia\",2.60168531212474,0.745316455696203,1.39312675348964,1.99740603280719\n\"Asia\",2.64970173729923,0.761518987341772,1.41320033026447,2.03145103378185\n\"Asia\",2.69776332455093,0.777721518987342,1.43322874496208,2.06549603475651\n\"Asia\",2.74586713565696,0.793924050632911,1.45321493580537,2.09954103573117\n\"Asia\",2.79401047409714,0.810126582278481,1.47316159931451,2.13358603670583\n\"Asia\",2.84219086150565,0.826329113924051,1.49307121385533,2.16763103768049\n\"Asia\",2.89040601672454,0.84253164556962,1.51294606058575,2.20167603865514\n\"Asia\",2.93865383714388,0.85873417721519,1.53278824211573,2.2357210396298\n\"Asia\",2.98693238205358,0.87493670886076,1.55259969915535,2.26976604060446\n\"Asia\",3.03523985776775,0.891139240506329,1.57238222539049,2.30381104157912\n\"Asia\",3.08357460431267,0.907341772151899,1.5921374807949,2.33785604255378\n\"Asia\",3.13193508349601,0.923544303797468,1.61186700356087,2.37190104352844\n\"Asia\",3.1803198681982,0.939746835443038,1.631572220808,2.4059460445031\n\"Asia\",3.22872763274626,0.955949367088608,1.65125445820926,2.43999104547776\n\"Asia\",3.27715714424826,0.972151898734177,1.67091494865658,2.47403604645242\n\"Asia\",3.32560725478111,0.988354430379747,1.69055484007304,2.50808104742708\n\"Asia\",3.37407689433773,1.00455696202532,1.71017520246575,2.54212604840174\n\"Asia\",3.42256506445069,1.02075949367089,1.7297770343021,2.5761710493764\n\"Asia\",3.4710708324198,1.03696202531646,1.74936126828232,2.61021605035106\n\"Asia\",3.51959332607896,1.05316455696203,1.76892877657247,2.64426105132572\n\"Asia\",3.56813172904601,1.06936708860759,1.78848037555474,2.67830605230038\n\"Asia\",3.61668527640496,1.08556962025316,1.80801683014511,2.71235105327504\n\"Asia\",3.66525325077657,1.10177215189873,1.82753885772282,2.74639605424969\n\"Asia\",3.71383497873763,1.1179746835443,1.84704713171108,2.78044105522435\n\"Asia\",3.76242982755406,1.13417721518987,1.86654228484397,2.81448605619901\n\"Asia\",3.81103720219675,1.15037974683544,1.88602491215059,2.84853105717367\n\"Asia\",3.85965654261244,1.16658227848101,1.90549557368423,2.88257605814833\n\"Asia\",3.90828732122485,1.18278481012658,1.92495479702113,2.91662105912299\n\"Asia\",3.95692904064429,1.19898734177215,1.94440307955102,2.95066606009765\n\"Asia\",4.00558123156568,1.21518987341772,1.96384089057894,2.98471106107231\n\"Asia\",4.05424345083776,1.23139240506329,1.98326867325617,3.01875606204697\n\"Asia\",4.10291527968734,1.24759493670886,2.00268684635592,3.05280106302163\n\"Asia\",4.15159632208461,1.26379746835443,2.02209580590796,3.08684606399629\n\"Asia\",4.20028620323678,1.28,2.04149592670511,3.12089106497095\n\"Europe\",4.41346362074274,0.13,2.50102127108081,3.45724244591177\n\"Europe\",4.39602916651432,0.223164556962025,2.52882991858982,3.46242954255207\n\"Europe\",4.37882148017215,0.316329113924051,2.55641179821258,3.46761663919236\n\"Europe\",4.36185769835841,0.409493670886076,2.58374977330691,3.47280373583266\n\"Europe\",4.34515651216494,0.502658227848101,2.61082515278096,3.47799083247295\n\"Europe\",4.32873831458776,0.595822784810127,2.63761754363874,3.48317792911325\n\"Europe\",4.31262535879591,0.688987341772152,2.66410469271117,3.48836502575354\n\"Europe\",4.29684192655273,0.782151898734177,2.69026231823495,3.49355212239384\n\"Europe\",4.2814145054712,0.875316455696203,2.71606393259707,3.49873921903413\n\"Europe\",4.26637197290401,0.968481012658228,2.74148065844485,3.50392631567443\n\"Europe\",4.25174578310955,1.06164556962025,2.7664810415199,3.50911341231472\n\"Europe\",4.23757015284423,1.15481012658228,2.7910308650658,3.51430050895502\n\"Europe\",4.22388223865701,1.2479746835443,2.81509297253362,3.51948760559531\n\"Europe\",4.21072229686429,1.34113924050633,2.83862710760693,3.52467470223561\n\"Europe\",4.1981338144509,1.43430379746835,2.8615897833009,3.5298617988759\n\"Europe\",4.18616359601124,1.52746835443038,2.88393419502116,3.5350488955162\n\"Europe\",4.17486178843018,1.62063291139241,2.90561019588281,3.54023599215649\n\"Europe\",4.16428182153509,1.71379746835443,2.92656435605848,3.54542308879679\n\"Europe\",4.15448023981312,1.80696202531646,2.94674013106105,3.55061018543708\n\"Europe\",4.14551639805799,1.90012658227848,2.96607816609676,3.55579728207738\n\"Europe\",4.13745199327117,1.99329113924051,2.98451676416418,3.56098437871767\n\"Europe\",4.13035040725833,2.08645569620253,3.00199254345761,3.56617147535797\n\"Europe\",4.12427584019185,2.17962025316456,3.01844130380467,3.57135857199826\n\"Europe\",4.11929222590842,2.27278481012658,3.0337991113687,3.57654566863856\n\"Europe\",4.11546193544393,2.36594936708861,3.04800359511378,3.58173276527885\n\"Europe\",4.1128442960702,2.45911392405063,3.06099542776809,3.58691986191915\n\"Europe\",4.11149397753885,2.55227848101266,3.07271993958004,3.59210695855944\n\"Europe\",4.11145932262522,2.64544303797468,3.08312878777426,3.59729405519974\n\"Europe\",4.1127807213718,2.73860759493671,3.09218158230827,3.60248115184003\n\"Europe\",4.11548914288808,2.83177215189873,3.09984735407257,3.60766824848033\n\"Europe\",4.11960494070514,2.92493670886076,3.1061057495361,3.61285534512062\n\"Europe\",4.12513703466075,3.01810126582278,3.11094784886108,3.61804244176092\n\"Europe\",4.13208254405866,3.11126582278481,3.11437653274376,3.62322953840121\n\"Europe\",4.14042690669647,3.20443037974684,3.11640636338655,3.62841663504151\n\"Europe\",4.15014447246509,3.29759493670886,3.11706299089852,3.6336037316818\n\"Europe\",4.16119951622162,3.39075949367089,3.11638214042258,3.6387908283221\n\"Europe\",4.17354757967464,3.48392405063291,3.11440827025015,3.64397792496239\n\"Europe\",4.18713703099201,3.57708860759494,3.11119301221336,3.64916502160269\n\"Europe\",4.20191072540382,3.67025316455696,3.10679351108214,3.65435211824298\n\"Europe\",4.2178076586992,3.76341772151899,3.10127077106735,3.65953921488328\n\"Europe\",4.23476452440107,3.85658227848101,3.09468809864607,3.66472631152357\n\"Europe\",4.25271710977848,3.94974683544304,3.08710970654925,3.66991340816387\n\"Europe\",4.2716014912124,4.04291139240506,3.07859951839592,3.67510050480416\n\"Europe\",4.29135501233421,4.13607594936709,3.0692201905547,3.68028760144446\n\"Europe\",4.31191704675876,4.22924050632911,3.05903234941074,3.68547469808475\n\"Europe\",4.33322956038724,4.32240506329114,3.04809402906285,3.69066179472505\n\"Europe\",4.35523749637698,4.41556962025316,3.0364602863537,3.69584889136534\n\"Europe\",4.37788900976552,4.50873417721519,3.02418296624576,3.70103598800564\n\"Europe\",4.40113557942996,4.60189873417722,3.01131058986191,3.70622308464593\n\"Europe\",4.42493202358934,4.69506329113924,2.99788833898311,3.71141018128623\n\"Europe\",4.44923644230111,4.78822784810127,2.98395811355193,3.71659727792652\n\"Europe\",4.47401010704514,4.88139240506329,2.96955864208849,3.72178437456682\n\"Europe\",4.49921731400901,4.97455696202532,2.95472562840522,3.72697147120711\n\"Europe\",4.52482521439074,5.06772151898734,2.93949192130407,3.73215856784741\n\"Europe\",4.55080363208953,5.16088607594937,2.92388769688587,3.7373456644877\n\"Europe\",4.57712487663277,5.25405063291139,2.90794064562322,3.742532761128\n\"Europe\",4.60376355710015,5.34721518987342,2.89167615843643,3.74771985776829\n\"Europe\",4.63069640112345,5.44037974683544,2.87511750769372,3.75290695440859\n\"Europe\",4.65790208171843,5.53354430379747,2.85828602037933,3.75809405104888\n\"Europe\",4.68536105368758,5.62670886075949,2.84120124169077,3.76328114768918\n\"Europe\",4.71305540056749,5.71987341772152,2.82388108809145,3.76846824432947\n\"Europe\",4.74096869253111,5.81303797468354,2.80634198940842,3.77365534096977\n\"Europe\",4.76908585525192,5.90620253164557,2.7885990199682,3.77884243761006\n\"Europe\",4.79739304945723,5.99936708860759,2.77066601904348,3.78402953425035\n\"Europe\",4.82587756071149,6.09253164556962,2.75255570106981,3.78921663089065\n\"Europe\",4.85452769885543,6.18569620253165,2.73427975620646,3.79440372753094\n\"Europe\",4.8833327064623,6.27886075949367,2.71584894188018,3.79959082417124\n\"Europe\",4.91228267564644,6.3720253164557,2.69727316597663,3.80477792081153\n\"Europe\",4.94136847255849,6.46518987341772,2.67856156234517,3.80996501745183\n\"Europe\",4.97058166891918,6.55835443037975,2.65972255926507,3.81515211409212\n\"Europe\",4.99991447997284,6.65151898734177,2.640763941492,3.82033921073242\n\"Europe\",5.02935970827773,6.7446835443038,2.6216929064677,3.82552630737271\n\"Europe\",5.05891069279062,6.83784810126582,2.6025161152354,3.83071340401301\n\"Europe\",5.08856126274415,6.93101265822785,2.58323973856246,3.8359005006533\n\"Europe\",5.11830569585725,7.02417721518987,2.56386949872995,3.8410875972936\n\"Europe\",5.1481386804587,7.1173417721519,2.54441070740909,3.84627469393389\n\"Europe\",5.17805528114211,7.21050632911392,2.52486830000627,3.85146179057419\n\"Europe\",5.20805090760638,7.30367088607595,2.50524686682259,3.85664888721448\n\"Europe\",5.23812128636897,7.39683544303797,2.48555068134058,3.86183598385478\n\"Europe\",5.26826243506983,7.49,2.46578372592031,3.86702308049507\n\"North America\",2.47467645293022,0.01,1.1109492605152,1.79281285672271\n\"North America\",2.49054587322189,0.0339240506329114,1.15338814711181,1.82196701016685\n\"North America\",2.50676053965695,0.0578481012658228,1.19548178756503,1.85112116361099\n\"North America\",2.52334129324028,0.0817721518987342,1.23720934086998,1.88027531705513\n\"North America\",2.54031002261593,0.105696202531646,1.27854891838261,1.90942947049927\n\"North America\",2.5576896369639,0.129620253164557,1.31947761092292,1.93858362394341\n\"North America\",2.57550401755254,0.153544303797468,1.35997153722256,1.96773777738755\n\"North America\",2.59377794425259,0.17746835443038,1.40000591741079,1.99689193083169\n\"North America\",2.61253699329125,0.201392405063291,1.4395551752604,2.02604608427583\n\"North America\",2.6318074026989,0.225316455696203,1.47859307274104,2.05520023771997\n\"North America\",2.65161590233808,0.249240506329114,1.51709287999014,2.08435439116411\n\"North America\",2.67198950616447,0.273164556962025,1.55502758305202,2.11350854460825\n\"North America\",2.69295526550101,0.297088607594937,1.59237013060376,2.14266269805239\n\"North America\",2.71453998364097,0.321012658227848,1.62909371935208,2.17181685149653\n\"North America\",2.73676989402798,0.34493670886076,1.66517211585335,2.20097100494067\n\"North America\",2.75967030654195,0.368860759493671,1.70058001022766,2.23012515838481\n\"North America\",2.78326522894255,0.392784810126582,1.73529339471534,2.25927931182894\n\"North America\",2.80757697311755,0.416708860759494,1.76928995742862,2.28843346527308\n\"North America\",2.83262575822513,0.440632911392405,1.80254947920932,2.31758761871722\n\"North America\",2.85842932483928,0.464556962025316,1.83505421948344,2.34674177216136\n\"North America\",2.8850025755231,0.488481012658228,1.8667892756879,2.3758959256055\n\"North America\",2.91235725761325,0.512405063291139,1.89774290048603,2.40505007904964\n\"North America\",2.94050170321733,0.536329113924051,1.92790676177023,2.43420423249378\n\"North America\",2.96944063943729,0.560253164556962,1.95727613243855,2.46335838593792\n\"North America\",2.99917507871173,0.584177215189873,1.98585000005239,2.49251253938206\n\"North America\",3.02970229514165,0.608101265822785,2.01363109051075,2.5216666928262\n\"North America\",3.06101588807994,0.632025316455696,2.04062580446074,2.55082084627034\n\"North America\",3.09310592955717,0.655949367088608,2.06684406987179,2.57997499971448\n\"North America\",3.1259591877371,0.679873417721519,2.09229911858014,2.60912915315862\n\"North America\",3.15955941494709,0.70379746835443,2.11700719825843,2.63828330660276\n\"North America\",3.19388768620876,0.727721518987342,2.14098723388504,2.6674374600469\n\"North America\",3.22892277275957,0.751645569620253,2.1642604542225,2.69659161349104\n\"North America\",3.26464153481384,0.775569620253165,2.18684999905651,2.72574576693518\n\"North America\",3.30101931863755,0.799493670886076,2.20878052212108,2.75489992037932\n\"North America\",3.33803034468475,0.823417721518987,2.23007780296216,2.78405407382346\n\"North America\",3.37564807579175,0.847341772151899,2.25076837874344,2.8132082272676\n\"North America\",3.41384555696928,0.87126582278481,2.27087920445419,2.84236238071174\n\"North America\",3.45259572091961,0.895189873417721,2.29043734739214,2.87151653415588\n\"North America\",3.4918716558347,0.919113924050633,2.30946971936533,2.90067068760002\n\"North America\",3.53164683416198,0.943037974683544,2.32800284792633,2.92982484104415\n\"North America\",3.57189530277682,0.966962025316456,2.34606268619977,2.95897899448829\n\"North America\",3.61259183634889,0.990886075949367,2.36367445951598,2.98813314793243\n\"North America\",3.65371205664511,1.01481012658228,2.38086254610803,3.01728730137657\n\"North America\",3.6952325211167,1.03873417721519,2.39765038852473,3.04644145482071\n\"North America\",3.73713078442663,1.0626582278481,2.41406043210308,3.07559560826485\n\"North America\",3.77938543664795,1.08658227848101,2.43011408677004,3.10474976170899\n\"North America\",3.82197612176254,1.11050632911392,2.44583170854372,3.13390391515313\n\"North America\",3.86488353986729,1.13443037974684,2.46123259732725,3.16305806859727\n\"North America\",3.90808943619582,1.15835443037975,2.476335007887,3.19221222204141\n\"North America\",3.95157657972445,1.18227848101266,2.49115617124665,3.22136637548555\n\"North America\",3.99532873377897,1.20620253164557,2.50571232408041,3.25052052892969\n\"North America\",4.03933062071304,1.23012658227848,2.52001874403461,3.27967468237383\n\"North America\",4.08356788240353,1.25405063291139,2.5340897892324,3.30882883581797\n\"North America\",4.12802703800979,1.2779746835443,2.54793894051443,3.33798298926211\n\"North America\",4.17269544017825,1.30189873417722,2.56157884523424,3.36713714270625\n\"North America\",4.21756123064051,1.32582278481013,2.57502136166026,3.39629129615039\n\"North America\",4.26261329595264,1.34974683544304,2.58827760323642,3.42544544959453\n\"North America\",4.3078412239535,1.37367088607595,2.60135798212383,3.45459960303867\n\"North America\",4.3532352613775,1.39759493670886,2.61427225158812,3.48375375648281\n\"North America\",4.39878627293935,1.42151898734177,2.62702954691454,3.51290790992695\n\"North America\",4.44448570211299,1.44544303797468,2.63963842462918,3.54206206337108\n\"North America\",4.49032553374867,1.46936708860759,2.65210689988178,3.57121621681522\n\"North America\",4.53629825861114,1.49329113924051,2.66444248190759,3.60037037025936\n\"North America\",4.58239683987309,1.51721518987342,2.67665220753392,3.6295245237035\n\"North America\",4.62861468156093,1.54113924050633,2.68874267273435,3.65867867714764\n\"North America\",4.67494559892126,1.56506329113924,2.7007200622623,3.68783283059178\n\"North America\",4.7213837906557,1.58898734177215,2.71259017741614,3.71698698403592\n\"North America\",4.7679238129566,1.61291139240506,2.72435846200353,3.74614113748006\n\"North America\",4.81456055526579,1.63683544303797,2.73603002658261,3.7752952909242\n\"North America\",4.86128921767225,1.66075949367089,2.74760967106443,3.80444944436834\n\"North America\",4.90810528986055,1.6846835443038,2.75910190576441,3.83360359781248\n\"North America\",4.95500453152119,1.70860759493671,2.77051097099205,3.86275775125662\n\"North America\",5.00198295413386,1.73253164556962,2.78184085526766,3.89191190470076\n\"North America\",5.04903680403672,1.75645569620253,2.79309531225308,3.9210660581449\n\"North America\",5.09616254669716,1.78037974683544,2.80427787648092,3.95022021158904\n\"North America\",5.14335685210306,1.80430379746835,2.8153918779633,3.97937436503318\n\"North America\",5.19061658119717,1.82822784810127,2.82644045575747,4.00852851847732\n\"North America\",5.23793877328116,1.85215189873418,2.83742657056175,4.03768267192146\n\"North America\",5.28532063432026,1.87607594936709,2.84835301641093,4.0668368253656\n\"North America\",5.33275952608331,1.9,2.85922243153616,4.09599097880974\n\"Oceania\",1.38507150596932,0.01,0.335653479629539,0.860362492799431\n\"Oceania\",1.41463184041952,0.0588607594936709,0.382639689661651,0.898635765040583\n\"Oceania\",1.4445699686459,0.107721518987342,0.429248105917567,0.936909037281735\n\"Oceania\",1.47490479529168,0.156582278481013,0.475459823754091,0.975182309522888\n\"Oceania\",1.50565551518001,0.205443037974684,0.521255648348065,1.01345558176404\n\"Oceania\",1.53684147623715,0.254303797468354,0.56661623177323,1.05172885400519\n\"Oceania\",1.56848201941343,0.303164556962025,0.611522233079258,1.09000212624634\n\"Oceania\",1.60059629597557,0.352025316455696,0.655954500999425,1.1282753984875\n\"Oceania\",1.63320306357739,0.400886075949367,0.699894277879912,1.16654867072865\n\"Oceania\",1.66632046371331,0.449746835443038,0.743323422226294,1.2048219429698\n\"Oceania\",1.69996578446903,0.498607594936709,0.786224645952873,1.24309521521095\n\"Oceania\",1.73415521382811,0.54746835443038,0.828581761076105,1.28136848745211\n\"Oceania\",1.76890359006918,0.596329113924051,0.870379929317336,1.31964175969326\n\"Oceania\",1.80422415687528,0.645189873417722,0.911605906993538,1.35791503193441\n\"Oceania\",1.84012833154478,0.694050632911392,0.952248276806341,1.39618830417556\n\"Oceania\",1.87662549502385,0.742911392405063,0.992297657809577,1.43446157641671\n\"Oceania\",1.91372281227795,0.791772151898734,1.03174688503778,1.47273484865787\n\"Oceania\",1.95142509073544,0.840632911392405,1.0705911510626,1.51100812089902\n\"Oceania\",1.98973468317708,0.889493670886076,1.10882810310327,1.54928139314017\n\"Oceania\",2.02865143958298,0.938354430379747,1.14645789117967,1.58755466538132\n\"Oceania\",2.06817271021533,0.987215189873418,1.18348316502963,1.62582793762248\n\"Oceania\",2.10829339979009,1.03607594936709,1.21990901993717,1.66410120986363\n\"Oceania\",2.14900607017872,1.08493670886076,1.25574289403084,1.70237448210478\n\"Oceania\",2.19030108688286,1.13379746835443,1.29099442180901,1.74064775434593\n\"Oceania\",2.23216680271745,1.1826582278481,1.32567525045672,1.77892102658709\n\"Oceania\",2.27458977084431,1.23151898734177,1.35979882681217,1.81719429882824\n\"Oceania\",2.31755497858438,1.28037974683544,1.3933801635544,1.85546757106939\n\"Oceania\",2.36104609330179,1.32924050632911,1.42643559331929,1.89374084331054\n\"Oceania\",2.40504571204096,1.37810126582278,1.45898251906243,1.93201411555169\n\"Oceania\",2.44953560741114,1.42696202531646,1.49103916817455,1.97028738779285\n\"Oceania\",2.49449696332875,1.47582278481013,1.52262435673924,2.008560660034\n\"Oceania\",2.53991059551787,1.5246835443038,1.55375726903243,2.04683393227515\n\"Oceania\",2.58575715301496,1.57354430379747,1.58445725601765,2.0851072045163\n\"Oceania\",2.6320172982236,1.62240506329114,1.61474365529131,2.12338047675746\n\"Oceania\",2.67867186424505,1.67126582278481,1.64463563375216,2.16165374899861\n\"Oceania\",2.72570198922238,1.72012658227848,1.67415205325714,2.19992702123976\n\"Oceania\",2.77308922825485,1.76898734177215,1.70331135870697,2.23820029348091\n\"Oceania\",2.82081564406289,1.81784810126582,1.73213148738123,2.27647356572206\n\"Oceania\",2.86886387802205,1.86670886075949,1.76062979790438,2.31474683796322\n\"Oceania\",2.91721720345906,1.91556962025316,1.78882301694968,2.35302011020437\n\"Oceania\",2.96585956324009,1.96443037974684,1.81672720165095,2.39129338244552\n\"Oceania\",3.01477559370847,2.01329113924051,1.84435771566488,2.42956665468667\n\"Oceania\",3.06395063697379,2.06215189873418,1.87172921688186,2.46783992692783\n\"Oceania\",3.11337074344021,2.11101265822785,1.89885565489774,2.50611319916898\n\"Oceania\",3.16302266630943,2.15987341772152,1.92575027651083,2.54438647141013\n\"Oceania\",3.21289384962063,2.20873417721519,1.95242563768193,2.58265974365128\n\"Oceania\",3.26297241120772,2.25759493670886,1.97889362057715,2.62093301589243\n\"Oceania\",3.31324712177395,2.30645569620253,2.00516545449323,2.65920628813359\n\"Oceania\",3.36370738111137,2.3553164556962,2.03125173963811,2.69747956037474\n\"Oceania\",3.4143431923325,2.40417721518987,2.05716247289928,2.73575283261589\n\"Oceania\",3.46514513483631,2.45303797468354,2.08290707487777,2.77402610485704\n\"Oceania\",3.51610433660118,2.50189873417722,2.10849441759521,2.8122993770982\n\"Oceania\",3.56721244628398,2.55075949367089,2.13393285239472,2.85057264933935\n\"Oceania\",3.61846160550664,2.59962025316456,2.15923023765436,2.8888459215805\n\"Oceania\",3.66984442162769,2.64848101265823,2.18439396601562,2.92711919382165\n\"Oceania\",3.72135394122565,2.6973417721519,2.20943099089996,2.9653924660628\n\"Oceania\",3.77298362446257,2.74620253164557,2.23434785214534,3.00366573830396\n\"Oceania\",3.82472732044701,2.79506329113924,2.2591507006432,3.04193901054511\n\"Oceania\",3.87657924367611,2.84392405063291,2.28384532189641,3.08021228278626\n\"Oceania\",3.92853395160451,2.89278481012658,2.30843715845032,3.11848555502741\n\"Oceania\",3.98058632336204,2.94164556962025,2.33293133117509,3.15675882726857\n\"Oceania\",4.03273153962205,2.99050632911392,2.35733265939739,3.19503209950972\n\"Oceania\",4.08496506360655,3.03936708860759,2.38164567989519,3.23330537175087\n\"Oceania\",4.13728262320272,3.08822784810127,2.40587466478132,3.27157864399202\n\"Oceania\",4.18968019415626,3.13708860759494,2.43002363831009,3.30985191623318\n\"Oceania\",4.24215398430101,3.18594936708861,2.45409639264764,3.34812518847433\n\"Oceania\",4.29470041878,3.23481012658228,2.47809650265096,3.38639846071548\n\"Oceania\",4.34731612621046,3.28367088607595,2.50202733970281,3.42467173295663\n\"Oceania\",4.39999792574386,3.33253164556962,2.52589208465171,3.46294500519778\n\"Oceania\",4.45274281497198,3.38139240506329,2.54969373990589,3.50121827743894\n\"Oceania\",4.50554795863008,3.43025316455696,2.5734351407301,3.53949154968009\n\"Oceania\",4.55841067804952,3.47911392405063,2.59711896579296,3.57776482192124\n\"Oceania\",4.61132844131347,3.5279746835443,2.62074774701132,3.61603809416239\n\"Oceania\",4.66429885407109,3.57683544303797,2.644323878736,3.65431136640355\n\"Oceania\",4.7173196509675,3.62569620253165,2.66784962632189,3.6925846386447\n\"Oceania\",4.77038868764899,3.67455696202532,2.69132713412271,3.73085791088585\n\"Oceania\",4.82350393330488,3.72341772151899,2.71475843294912,3.769131183127\n\"Oceania\",4.87666346370986,3.77227848101266,2.73814544702645,3.80740445536815\n\"Oceania\",4.92986545473245,3.82113924050633,2.76149000048616,3.84567772760931\n\"Oceania\",4.98310817627763,3.87,2.78479382342329,3.88395099985046\n\"South America\",4.21184067956001,0.02,2.55374729830493,3.38279398893247\n\"South America\",4.18691402149074,0.0692405063291139,2.55535968962847,3.37113685555961\n\"South America\",4.1624728986577,0.118481012658228,2.55648654571579,3.35947972218674\n\"South America\",4.13854086117978,0.167721518987342,2.55710431644798,3.34782258881388\n\"South America\",4.11514197552223,0.216962025316456,2.5571889353598,3.33616545544102\n\"South America\",4.09230070234584,0.26620253164557,2.55671594179047,3.32450832206816\n\"South America\",4.0700417508243,0.315443037974684,2.55566062656629,3.31285118869529\n\"South America\",4.04838990871839,0.364683544303798,2.55399820192647,3.30119405532243\n\"South America\",4.02736984821209,0.413924050632911,2.55170399568704,3.28953692194957\n\"South America\",4.00700590840251,0.463164556962025,2.54875366875089,3.2778797885767\n\"South America\",3.98732185638041,0.512405063291139,2.54512345402727,3.26622265520384\n\"South America\",3.96834063000781,0.561645569620253,2.54079041365415,3.25456552183098\n\"South America\",3.95008406674345,0.610886075949367,2.53573271017278,3.24290838845811\n\"South America\",3.93257262411226,0.660126582278481,2.52992988605824,3.23125125508525\n\"South America\",3.91582509857254,0.709367088607595,2.52336314485223,3.21959412171239\n\"South America\",3.89985835050107,0.758607594936709,2.51601562617798,3.20793698833953\n\"South America\",3.88468704368672,0.807848101265823,2.50787266624661,3.19627985496666\n\"South America\",3.87032340799971,0.857088607594937,2.49892203518789,3.1846227215938\n\"South America\",3.85677703371138,0.906329113924051,2.48915414273049,3.17296558822094\n\"South America\",3.84405470523694,0.955569620253165,2.47856220445921,3.16130845484807\n\"South America\",3.83216028086439,1.00481012658228,2.46714236208603,3.14965132147521\n\"South America\",3.82109462337015,1.05405063291139,2.45489375283455,3.13799418810235\n\"South America\",3.81085558440545,1.10329113924051,2.44181852505352,3.12633705472948\n\"South America\",3.80143804330826,1.15253164556962,2.42792179940498,3.11467992135662\n\"South America\",3.79283399871715,1.20177215189873,2.41321157725037,3.10302278798376\n\"South America\",3.7850327092059,1.25101265822785,2.39769860001589,3.09136565461089\n\"South America\",3.7780208772777,1.30025316455696,2.38139616519837,3.07970852123803\n\"South America\",3.77178286957886,1.34949367088608,2.36431990615147,3.06805138786517\n\"South America\",3.76630096519615,1.39873417721519,2.34648754378846,3.05639425449231\n\"South America\",3.76155562341963,1.4479746835443,2.32791861881926,3.04473712111944\n\"South America\",3.75752576236848,1.49721518987342,2.30863421312468,3.03307998774658\n\"South America\",3.75418904033298,1.54645569620253,2.28865666841445,3.02142285437372\n\"South America\",3.75152213249533,1.59569620253165,2.26800930950637,3.00976572100085\n\"South America\",3.74950099675332,1.64493670886076,2.24671617850266,2.99810858762799\n\"South America\",3.74810112357777,1.69417721518987,2.22480178493248,2.98645145425513\n\"South America\",3.74729776608982,1.74341772151899,2.20229087567471,2.97479432088226\n\"South America\",3.74706614776403,1.7926582278481,2.17920822725477,2.9631371875094\n\"South America\",3.74738164628496,1.84189873417722,2.15557846198812,2.95148005413654\n\"South America\",3.74821995306463,1.89113924050633,2.13142588846272,2.93982292076368\n\"South America\",3.74955720874345,1.94037974683544,2.10677436603817,2.92816578739081\n\"South America\",3.75137011563931,1.98962025316456,2.08164719239659,2.91650865401795\n\"South America\",3.75363602858542,2.03886075949367,2.05606701270475,2.90485152064509\n\"South America\",3.75633302592108,2.08810126582279,2.03005574862336,2.89319438727222\n\"South America\",3.75943996259082,2.1373417721519,2.0036345452079,2.88153725389936\n\"South America\",3.76293650738969,2.18658227848101,1.97682373366331,2.8698801205265\n\"South America\",3.76680316638747,2.23582278481013,1.9496428079198,2.85822298715363\n\"South America\",3.771021294495,2.28506329113924,1.92211041306654,2.84656585378077\n\"South America\",3.77557309701937,2.33430379746835,1.89424434379645,2.83490872040791\n\"South America\",3.78044162290861,2.38354430379747,1.86606155116148,2.82325158703505\n\"South America\",3.78561075122376,2.43278481012658,1.83757815610061,2.81159445366218\n\"South America\",3.79106517220632,2.4820253164557,1.80880946837232,2.79993732028932\n\"South America\",3.79679036414114,2.53126582278481,1.77977000969177,2.78828018691646\n\"South America\",3.80277256705323,2.58050632911392,1.75047354003396,2.77662305354359\n\"South America\",3.8089987541259,2.62974683544304,1.72093308621556,2.76496592017073\n\"South America\",3.81545660158966,2.67898734177215,1.69116097200607,2.75330878679787\n\"South America\",3.82213445770633,2.72822784810127,1.66116884914368,2.741651653425\n\"South America\",3.82902131136271,2.77746835443038,1.63096772874157,2.72999452005214\n\"South America\",3.83610676069133,2.82670886075949,1.60056801266723,2.71833738667928\n\"South America\",3.8433809820518,2.87594936708861,1.56997952456103,2.70668025330641\n\"South America\",3.85083469963477,2.92518987341772,1.53921154023234,2.69502311993355\n\"South America\",3.85845915588926,2.97443037974684,1.50827281723212,2.68336598656069\n\"South America\",3.86624608292327,3.02367088607595,1.47717162345238,2.67170885318783\n\"South America\",3.87418767498453,3.07291139240506,1.4459157646454,2.66005171981496\n\"South America\",3.88227656209339,3.12215189873418,1.41451261079081,2.6483945864421\n\"South America\",3.89050578487095,3.17139240506329,1.38296912126752,2.63673745306924\n\"South America\",3.89886877058243,3.22063291139241,1.35129186881032,2.62508031969637\n\"South America\",3.90735931039713,3.26987341772152,1.31948706224989,2.61342318632351\n\"South America\",3.91597153785198,3.31911392405063,1.28756056804931,2.60176605295065\n\"South America\",3.92469990849422,3.36835443037975,1.25551793066135,2.59010891957778\n\"South America\",3.93353918067042,3.41759493670886,1.22336439173943,2.57845178620492\n\"South America\",3.94248439742265,3.46683544303797,1.19110490824147,2.56679465283206\n\"South America\",3.95153086944848,3.51607594936709,1.15874416946991,2.5551375194592\n\"South America\",3.96067415907822,3.5653164556962,1.12628661309444,2.54348038608633\n\"South America\",3.9699100652216,3.61455696202532,1.09373644020534,2.53182325271347\n\"South America\",3.97923460923501,3.66379746835443,1.06109762944621,2.52016611934061\n\"South America\",3.98864402166069,3.71303797468354,1.02837395027479,2.50850898596774\n\"South America\",3.99813472978989,3.76227848101266,0.995568975399867,2.49685185259488\n\"South America\",4.00770334600291,3.81151898734177,0.962686092441129,2.48519471922202\n\"South America\",4.01734665684065,3.86075949367089,0.929728514857656,2.47353758584915\n\"South America\",4.02706161276387,3.91,0.896699292188715,2.46188045247629"
    },
    {
      "name": ".0/group_by1/model_prediction2",
      "source": ".0/group_by1/model_prediction2_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.Continent"
          ]
        }
      ]
    },
    {
      "name": "scale/fill",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Africa\"\n\"Asia\"\n\"Europe\"\n\"North America\"\n\"Oceania\"\n\"South America\""
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3745\n7.8645"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.358\n7.518"
    }
  ],
  "scales": [
    {
      "name": "fill",
      "type": "ordinal",
      "domain": {
        "data": "scale/fill",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "category10"
    },
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "size": {
            "value": 50
          },
          "x": {
            "scale": "x",
            "field": "data.wine"
          },
          "y": {
            "scale": "y",
            "field": "data.beer"
          },
          "fill": {
            "scale": "fill",
            "field": "data.Continent"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/model_prediction2"
      },
      "marks": [
        {
          "type": "area",
          "properties": {
            "update": {
              "fill": {
                "value": "#333333"
              },
              "y2": {
                "scale": "y",
                "field": "data.resp_upr_"
              },
              "fillOpacity": {
                "value": 0.2
              },
              "x": {
                "scale": "x",
                "field": "data.pred_"
              },
              "y": {
                "scale": "y",
                "field": "data.resp_lwr_"
              },
              "stroke": {
                "value": "transparent"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/model_prediction2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/model_prediction2"
      },
      "marks": [
        {
          "type": "line",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "strokeWidth": {
                "value": 2
              },
              "x": {
                "scale": "x",
                "field": "data.pred_"
              },
              "y": {
                "scale": "y",
                "field": "data.resp_"
              },
              "fill": {
                "value": "transparent"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/model_prediction2"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [
    {
      "orient": "right",
      "fill": "fill",
      "title": "Continent"
    }
  ],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "wine"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "beer"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id141000849").parseSpec(plot_id141000849_spec);
</script>
</div>
<div id="fix-legend" class="section level4">
<h4>Fix legend</h4>
<pre class="r"><code>data_vis %&gt;% 
ggvis(x = ~wine, y = ~beer) %&gt;% 
  layer_points(fill = ~Continent,size =~total) %&gt;%
  group_by(Continent) %&gt;% 
 add_legend(c(&quot;size&quot;, &quot;fill&quot;),
            orient = &quot;left&quot;)</code></pre>
<div id="plot_id575294938-container" class="ggvis-output-container">
<div id="plot_id575294938" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id575294938_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id575294938" data-renderer="svg">SVG</a>
 | 
<a id="plot_id575294938_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id575294938" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id575294938_download" class="ggvis-download" data-plot-id="plot_id575294938">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id575294938_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "wine": "number",
          "beer": "number",
          "total": "number"
        }
      },
      "values": "\"wine\",\"beer\",\"Continent\",\"total\"\n1.43,2.89,\"North America\",7.57\n0,0.01,\"Asia\",0.01\n0.23,0.17,\"Africa\",0.44\n0.22,0.16,\"Asia\",1.84\n1.32,1.61,\"Europe\",5.16\n0.3,0.39,\"Europe\",4.21\n4.39,3.54,\"Europe\",10.61\n1.95,5.12,\"Africa\",7.71\n3.91,3.32,\"South America\",7.68\n3.87,4.51,\"Oceania\",9.68\n4.3,6.1,\"Europe\",12.1\n0.11,0.46,\"Asia\",1.93\n0.93,3.3,\"North America\",8.2\n0.75,3.36,\"Africa\",4.78\n3.71,5.02,\"Europe\",10.2\n1.46,3.23,\"North America\",8.81\n0,0,\"Asia\",0\n0.13,4.52,\"South America\",6.61\n0.45,3.33,\"Europe\",4.41\n0.23,2.96,\"South America\",3.93\n0,0.14,\"Asia\",0.3\n0.25,0.67,\"Africa\",1.08\n0.75,2.5,\"Europe\",9.98\n0.03,0.95,\"Oceania\",1.05\n0.4,4.42,\"South America\",7.48\n0.07,0.11,\"Asia\",0.28\n1.73,4.01,\"Europe\",10.76\n0.01,0.82,\"Asia\",0.86\n0,1.59,\"Africa\",1.59\n1.9,4.2,\"North America\",8.2\n0.01,0.91,\"Asia\",2.19\n0.02,0.32,\"Africa\",0.37\n0,0.3,\"Asia\",2.27\n0.28,2.9,\"Africa\",3.53\n0.22,0.62,\"Africa\",0.88\n0.17,1.6,\"Asia\",5.75\n3.23,2.37,\"South America\",7.93\n0.09,2.53,\"Africa\",2.62\n0.03,0.04,\"Africa\",0.15\n0.05,2.86,\"South America\",4.27\n0.19,2.07,\"North America\",3.54\n0.01,0.29,\"Africa\",0.34\n0.09,1.6,\"North America\",4.1\n1.62,2.51,\"Africa\",4.74\n2.86,2.07,\"Oceania\",10.72\n2.67,3.78,\"Europe\",11.31\n4.92,3.86,\"Europe\",10.22\n0.05,0.2,\"Africa\",0.43\n0.74,0.48,\"North America\",7.38\n0.16,3.22,\"North America\",5.95\n0.05,2.67,\"South America\",3.93\n0.02,0.12,\"Africa\",0.22\n2.98,5.73,\"Europe\",10.93\n3.67,6.26,\"Africa\",9.93\n1.65,5.87,\"Europe\",13.16\n0,0.4,\"Africa\",0.4\n0.04,1,\"North America\",2.36\n0,0.36,\"Africa\",0.42\n2.6,6.79,\"Europe\",12.69\n1.7,4.47,\"Europe\",8.5\n0.02,1.35,\"Oceania\",2.25\n0.31,0.86,\"Oceania\",1.77\n6.6,2.2,\"Europe\",11.5\n0.02,0.17,\"Africa\",0.2\n1.17,5.96,\"Africa\",8.82\n3.76,1.36,\"Europe\",7.23\n0.17,0.48,\"Africa\",0.69\n0.43,3.55,\"North America\",7.71\n3.12,6.01,\"Europe\",11.21\n4.8,2.25,\"Europe\",8.9\n0.03,0.87,\"North America\",2.12\n0.03,0.15,\"Africa\",0.19\n0.02,1.74,\"South America\",7.5\n0.01,0.01,\"North America\",5.75\n0.03,1.36,\"North America\",3.1\n6.05,4.46,\"Europe\",11.7\n3.17,3.91,\"Europe\",10.78\n2.26,4.98,\"Europe\",8.11\n0,0.07,\"Asia\",0.08\n0,0.17,\"Asia\",2.77\n0,0,\"Asia\",0.03\n0.18,1.15,\"Asia\",2.57\n4.45,1.66,\"Europe\",6.95\n0.26,0.71,\"Africa\",0.99\n0,0.14,\"Asia\",0.18\n0.28,1.33,\"Asia\",5.37\n0.17,1.33,\"North America\",3.29\n0.01,0.1,\"Asia\",0.5\n0.03,0.96,\"Africa\",1.39\n0.1,0.63,\"Asia\",2.73\n0,0.16,\"Asia\",3.12\n0.03,0.44,\"Oceania\",0.47\n0.14,1.88,\"Asia\",2.42\n0,0,\"Asia\",0.01\n0.37,2.11,\"Asia\",6.83\n0,2.39,\"Asia\",5.95\n0.25,0.41,\"Asia\",1.56\n1.1,4.57,\"Europe\",9.28\n1,6,\"Europe\",11.4\n0.03,0.33,\"Africa\",3.64\n1.77,3.42,\"Europe\",9.79\n0.01,1.49,\"Africa\",2.11\n4.86,4.11,\"Europe\",11.36\n0,0,\"Africa\",0\n0.17,0.53,\"Africa\",1.03\n2.59,1.89,\"Europe\",8.02\n0.16,1.6,\"Asia\",5.8\n0.02,0.15,\"Africa\",0.34\n0.33,0.75,\"Europe\",1.47\n0.01,0.08,\"Africa\",0.11\n0.27,0.2,\"Africa\",0.56\n0.35,1.81,\"Asia\",2.95\n0,0,\"Africa\",0\n3.1,2.89,\"Europe\",7.61\n0.03,0.22,\"Asia\",0.56\n0.46,0.5,\"Asia\",1.84\n3.22,0.73,\"Europe\",6.42\n0.12,3.92,\"North America\",5.16\n0,0.38,\"Asia\",0.48\n0.1,0.61,\"Africa\",0.9\n0.6,1.9,\"Oceania\",4.9\n0.01,0.05,\"Africa\",0.11\n0.19,0.34,\"Oceania\",0.91\n0.03,0.7,\"Africa\",0.81\n3.39,4.36,\"Europe\",9.33\n2.29,2.91,\"Europe\",6.45\n0,0.12,\"Asia\",0.24\n0.16,0.94,\"Oceania\",1.1\n0.13,2.03,\"South America\",5.09\n0.02,1.33,\"North America\",3.38\n3.26,3.67,\"Oceania\",8.39\n1.32,2.39,\"South America\",5.59\n0.36,2.7,\"South America\",4.73\n0,0,\"Asia\",0.03\n0.94,5.88,\"Europe\",10.59\n0.31,4.82,\"South America\",6.92\n7.49,3.37,\"Europe\",11.79\n0.01,0.76,\"Oceania\",0.79\n0.69,0.44,\"Africa\",1.67\n0.11,0.33,\"Asia\",1.15\n2.6,4.5,\"Europe\",9\n0.02,1.32,\"Asia\",4.71\n1.28,4.11,\"Asia\",10.92\n0,0.8,\"Africa\",0.84\n0,0,\"Asia\",0.09\n0.55,3.79,\"North America\",8.18\n2.33,2.75,\"Africa\",6.5\n1.29,3.5,\"Africa\",6\n0.12,0.14,\"Africa\",0.29\n4.84,4.59,\"Europe\",10.32\n0.03,0.18,\"Africa\",0.23\n0.25,1.29,\"Asia\",1.81\n0,0,\"Africa\",0\n1.97,4.87,\"Europe\",9.6\n4.45,2.88,\"Europe\",9.45\n1.45,3.28,\"North America\",10.28\n0,0.17,\"Africa\",0.46\n3.4,2.7,\"Europe\",7.2\n0.27,0.05,\"Asia\",0.78\n4.94,3.18,\"Europe\",9.89\n0.11,0.19,\"Asia\",1.68\n0.13,3.53,\"North America\",6.41\n0.03,1.59,\"Asia\",5.93\n0.01,0.02,\"Asia\",0.32\n0.09,0.92,\"Oceania\",1.24\n0.28,0.63,\"Africa\",0.93\n4.26,0.79,\"Africa\",5.57\n0.35,0.87,\"Africa\",1.28\n0.13,0.86,\"Europe\",1.49\n0.55,0.11,\"Oceania\",1.02\n0.81,0.35,\"Asia\",2.48\n0.01,0.67,\"Africa\",0.92\n0.01,0.68,\"Africa\",0.84\n3.96,3.76,\"Europe\",9.97\n0.75,3.36,\"Europe\",8.17\n1.44,4.31,\"North America\",8.55\n0.12,0.46,\"Africa\",0.7\n3.72,1.9,\"South America\",6.21\n0.11,0.65,\"Asia\",2.73\n0.33,2.32,\"North America\",6.87\n0.06,5.43,\"South America\",7.16\n0.02,1.82,\"Asia\",3.93\n0.09,2.57,\"Oceania\",3.01\n0.05,1.69,\"Africa\",1.76\n0,0.06,\"Asia\",0.06\n0.07,0.62,\"Africa\",1.06\n0.1,1.67,\"Africa\",2.11\n0.06,7.16,\"Africa\",7.29"
    },
    {
      "name": "scale/fill",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Africa\"\n\"Asia\"\n\"Europe\"\n\"North America\"\n\"Oceania\"\n\"South America\""
    },
    {
      "name": "scale/size",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n13.16"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3745\n7.8645"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.358\n7.518"
    }
  ],
  "scales": [
    {
      "name": "fill",
      "type": "ordinal",
      "domain": {
        "data": "scale/fill",
        "field": "data.domain"
      },
      "points": true,
      "sort": false,
      "range": "category10"
    },
    {
      "name": "size",
      "domain": {
        "data": "scale/size",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": [20, 100]
    },
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "x": {
            "scale": "x",
            "field": "data.wine"
          },
          "y": {
            "scale": "y",
            "field": "data.beer"
          },
          "fill": {
            "scale": "fill",
            "field": "data.Continent"
          },
          "size": {
            "scale": "size",
            "field": "data.total"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [
    {
      "orient": "left",
      "size": "size",
      "fill": "fill",
      "title": "total"
    }
  ],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "wine"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "beer"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id575294938").parseSpec(plot_id575294938_spec);
</script>
</div>
<div id="histogram" class="section level4">
<h4>Histogram</h4>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(~spirits,fill:=&quot;darkgreen&quot;) %&gt;% 
  layer_histograms()</code></pre>
<pre><code>## Guessing width = 0.2 # range / 34</code></pre>
<div id="plot_id903177139-container" class="ggvis-output-container">
<div id="plot_id903177139" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id903177139_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id903177139" data-renderer="svg">SVG</a>
 | 
<a id="plot_id903177139_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id903177139" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id903177139_download" class="ggvis-download" data-plot-id="plot_id903177139">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id903177139_spec = {
  "data": [
    {
      "name": ".0/bin1/stack2",
      "format": {
        "type": "csv",
        "parse": {
          "xmin_": "number",
          "xmax_": "number",
          "stack_upr_": "number",
          "stack_lwr_": "number"
        }
      },
      "values": "\"xmin_\",\"xmax_\",\"stack_upr_\",\"stack_lwr_\"\n-0.1,0.1,45,0\n0.1,0.3,13,0\n0.3,0.5,15,0\n0.5,0.7,9,0\n0.7,0.9,9,0\n0.9,1.1,2,0\n1.1,1.3,10,0\n1.3,1.5,10,0\n1.5,1.7,6,0\n1.7,1.9,7,0\n1.9,2.1,8,0\n2.1,2.3,5,0\n2.3,2.5,6,0\n2.5,2.7,5,0\n2.7,2.9,3,0\n2.9,3.1,2,0\n3.1,3.3,3,0\n3.3,3.5,1,0\n3.5,3.7,5,0\n3.7,3.9,4,0\n3.9,4.1,4,0\n4.1,4.3,2,0\n4.3,4.5,3,0\n4.5,4.7,1,0\n4.7,4.9,1,0\n4.9,5.1,1,0\n5.1,5.3,0,0\n5.3,5.5,0,0\n5.5,5.7,3,0\n5.7,5.9,3,0\n5.9,6.1,0,0\n6.1,6.3,1,0\n6.3,6.5,0,0\n6.5,6.7,0,0\n6.7,6.9,1,0"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.45\n7.25"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n47.25"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "rect",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "fill": {
            "value": "darkgreen"
          },
          "x": {
            "scale": "x",
            "field": "data.xmin_"
          },
          "x2": {
            "scale": "x",
            "field": "data.xmax_"
          },
          "y": {
            "scale": "y",
            "field": "data.stack_upr_"
          },
          "y2": {
            "scale": "y",
            "field": "data.stack_lwr_"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/bin1/stack2"
          }
        }
      },
      "from": {
        "data": ".0/bin1/stack2"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "count"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id903177139").parseSpec(plot_id903177139_spec);
</script>
</div>
<div id="barplot-1" class="section level4">
<h4>Barplot</h4>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(~log10(POP_CNTRY), ~wine) %&gt;%
  layer_bars(width = 0.04)</code></pre>
<div id="plot_id596291512-container" class="ggvis-output-container">
<div id="plot_id596291512" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id596291512_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id596291512" data-renderer="svg">SVG</a>
 | 
<a id="plot_id596291512_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id596291512" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id596291512_download" class="ggvis-download" data-plot-id="plot_id596291512">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id596291512_spec = {
  "data": [
    {
      "name": ".0/count1/align2/stack3",
      "format": {
        "type": "csv",
        "parse": {
          "xmin_": "number",
          "xmax_": "number",
          "stack_upr_": "number",
          "stack_lwr_": "number"
        }
      },
      "values": "\"xmin_\",\"xmax_\",\"stack_upr_\",\"stack_lwr_\"\n3.28102999566398,3.32102999566398,0.6,0\n3.98,4.02,0.16,0\n4.04111305391798,4.08111305391798,0.46,0\n4.09394335230684,4.13394335230684,0.55,0\n4.21044892137827,4.25044892137827,2.86,0\n4.61253827195037,4.65253827195037,0.55,0\n4.72299991428249,4.76299991428248,4.39,0\n4.7943275198769,4.8343275198769,1.43,0\n4.829241236658,4.869241236658,0.74,0\n4.84332286012046,4.88332286012046,2.33,0\n4.86649072517248,4.90649072517248,0.03,0\n4.96049423339004,5.00049423339004,0.43,0\n4.9712260756925,5.01122607569249,0.09,0\n5.02320110717982,5.06320110717982,0.33,0\n5.02769143444058,5.06769143444058,0.31,0\n5.08925109975655,5.12925109975655,4.26,0\n5.1315016203943,5.1715016203943,1.45,0\n5.18139712432045,5.22139712432045,0.09,0\n5.19748394421391,5.23748394421391,0.19,0\n5.29719806050701,5.33719806050701,0.13,0\n5.39601940502049,5.43601940502049,0.93,0\n5.40690146308166,5.44690146308166,2.26,0\n5.41490248010949,5.45490248010949,1.46,0\n5.42965424127836,5.46965424127836,0.01,0\n5.54348108539441,5.58348108539441,0.03,0\n5.5439673178494,5.5839673178494,3.1,0\n5.56700677001905,5.60700677001905,3.67,0\n5.56778278039052,5.60778278039052,4.86,0\n5.59655217821508,5.63655217821508,1.62,0\n5.61147015058694,5.65147015058694,0.13,0\n5.6339366988864,5.6739366988864,0.05,0\n5.65942789661212,5.69942789661212,0.11,0\n5.74028221984882,5.78028221984882,0.11,0\n5.78253839020053,5.82253839020053,0.03,0\n5.78307591644867,5.82307591644867,3.22,0\n5.84866030542704,5.88866030542704,2.67,0\n5.85790725932633,5.89790725932633,0.02,0\n5.85794695162919,5.89794695162919,0.02,0\n5.9057070063971,5.9457070063971,0.05,0\n5.95128791230617,5.99128791230616,0.02,0\n6.01574063776276,6.05574063776276,0.69,0\n6.02029925662809,6.06029925662808,0.35,0\n6.09126251365907,6.13126251365907,0.13,0\n6.14035536570626,6.18035536570626,0.75,0\n6.17345715170741,6.21345715170741,1.17,0\n6.17744900413928,6.21744900413928,0.06,0\n6.18047593538909,6.22047593538909,0.07,0\n6.18161776633904,6.22161776633904,1.65,0\n6.1945789535705,6.2345789535705,0,0\n6.26516761933159,6.30516761933159,0.01,0\n6.27035587042793,6.31035587042793,4.84,0\n6.29424653528842,6.33424653528842,0.11,0\n6.3002102826877,6.3402102826877,0.03,0\n6.30305295990206,6.34305295990206,0.33,0\n6.32322676263482,6.36322676263481,0,0\n6.32795845785355,6.36795845785355,0.16,0\n6.34516513919509,6.38516513919509,0.28,0\n6.36158559734463,6.40158559734463,0.17,0\n6.3885867534649,6.42858675346489,0.31,0\n6.40426731240032,6.44426731240032,0.45,0\n6.40979925876038,6.44979925876038,1.1,0\n6.43086838325203,6.47086838325203,0.25,0\n6.44276340028491,6.4827634002849,0.03,0\n6.44878421174358,6.48878421174358,0.25,0\n6.46920462678372,6.50920462678372,3.72,0\n6.4782478178334,6.5182478178334,0.01,0\n6.50106456136693,6.54106456136693,0.19,0\n6.50856038127484,6.54856038127484,0.3,0\n6.51363798834259,6.55363798834259,1.32,0\n6.5275528263533,6.5675528263533,3.26,0\n6.54375047799133,6.58375047799133,0,0\n6.54991696482166,6.58991696482166,0.81,0\n6.55824484283565,6.59824484283565,1,0\n6.57662820978742,6.61662820978742,0.01,0\n6.58627740148872,6.62627740148872,0.01,0\n6.58727966152436,6.62727966152436,0.28,0\n6.61094658264145,6.65094658264145,0.02,0\n6.61633932818969,6.65633932818969,2.29,0\n6.63065423733728,6.67065423733728,2.59,0\n6.63115168185098,6.67115168185098,0.1,0\n6.63817801923144,6.67817801923144,0.03,0\n6.64910758762013,6.68910758762012,4.92,0\n6.65419707172182,6.69419707172182,0,0\n6.65883365159762,6.69883365159762,1.32,0\n6.67932702133266,6.71932702133266,6.05,0\n6.6803553632714,6.7203553632714,2.98,0\n6.68168703277181,6.72168703277181,1.7,0\n6.69394341799608,6.73394341799608,0.25,0\n6.69978813326902,6.73978813326902,0,0\n6.70973701685377,6.74973701685377,0.03,0\n6.71032691578297,6.75032691578297,1.77,0\n6.71096241400526,6.75096241400526,0.01,0\n6.71940349844012,6.75940349844012,0.22,0\n6.72784293603487,6.76784293603487,3.76,0\n6.73548533985421,6.77548533985421,0.18,0\n6.73985436243526,6.77985436243526,0.04,0\n6.75894954570774,6.79894954570774,0,0\n6.77994042645124,6.81994042645124,0.02,0\n6.80697092251671,6.84697092251671,4.94,0\n6.82787421635723,6.86787421635723,0.01,0\n6.86356576629009,6.90356576629009,0.23,0\n6.86960453831265,6.90960453831265,4.3,0\n6.86985931472282,6.90985931472282,0.16,0\n6.87951387200441,6.91951387200441,0,0\n6.88937168238936,6.92937168238936,0.12,0\n6.91551638490545,6.95551638490545,0.35,0\n6.92092553509759,6.96092553509759,3.4,0\n6.92342926790454,6.96342926790453,0.07,0\n6.9243710737421,6.9643710737421,0.01,0\n6.93149575969785,6.97149575969785,1.73,0\n6.94045060829703,6.98045060829703,0.01,0\n6.96342402025284,7.00342402025284,7.49,0\n6.96876994420118,7.00876994420118,0.01,0\n6.97788920195724,7.01788920195724,0,0\n6.97909207101421,7.01909207101421,4.45,0\n6.98140743685204,7.02140743685204,3.71,0\n6.98709413817894,7.02709413817894,0.12,0\n6.99315165811681,7.03315165811681,4.8,0\n6.99327593562272,7.03327593562272,3.17,0\n6.99372682746826,7.03372682746826,2.6,0\n6.99373313915719,7.03373313915719,0.03,0\n7.00207353181593,7.04207353181593,0.75,0\n7.00291559642892,7.04291559642892,0.05,0\n7.00777675972415,7.04777675972415,0.02,0\n7.02541217606029,7.06541217606029,0.09,0\n7.0255846503975,7.06558465039749,0.1,0\n7.04172608888228,7.08172608888228,1.95,0\n7.09550034331634,7.13550034331633,0.17,0\n7.10118151826874,7.14118151826874,0.09,0\n7.11029709319022,7.15029709319022,0.26,0\n7.11901940302001,7.15901940302001,3.23,0\n7.12753627646684,7.16753627646684,0.27,0\n7.16614006659336,7.20614006659336,0,0\n7.16885736045906,7.20885736045906,3.39,0\n7.20022998733365,7.24022998733365,0.1,0\n7.2026667975009,7.2426667975009,0.17,0\n7.21345073867782,7.25345073867782,0.37,0\n7.21679891813006,7.25679891813006,0,0\n7.23109093233821,7.27109093233821,3.87,0\n7.23767833492742,7.27767833492742,0,0\n7.23874165408133,7.27874165408133,0.01,0\n7.24297098252579,7.28297098252579,0,0\n7.27284020326769,7.31284020326769,0,0\n7.27793222584709,7.31793222584709,0.06,0\n7.27944802315571,7.31944802315571,0,0\n7.29893501567061,7.33893501567061,0.11,0\n7.301012348586,7.34101234858599,0,0\n7.32311285775287,7.36311285775287,0,0\n7.35181660545621,7.39181660545621,2.6,0\n7.36910226497626,7.40910226497626,0.36,0\n7.39221266844004,7.43221266844004,0.03,0\n7.41868835477111,7.4586883547711,0.23,0\n7.4226901235981,7.4626901235981,0,0\n7.42354334945302,7.46354334945302,0.27,0\n7.43310832930491,7.47310832930491,0.01,0\n7.43335381617543,7.47335381617543,1.9,0\n7.50887648120451,7.54887648120451,3.91,0\n7.51674259993077,7.55674259993077,0.05,0\n7.55877520649585,7.59877520649585,0.94,0\n7.5740363491695,7.6140363491695,1.97,0\n7.58889092294306,7.62889092294306,1.29,0\n7.59305832882186,7.63305832882186,0.22,0\n7.61447344109738,7.65447344109737,0,0\n7.61759878977747,7.65759878977747,0.14,0\n7.70544582215871,7.74544582215871,0,0\n7.70562516470822,7.74562516470822,0.75,0\n7.72922158033762,7.76922158033762,0.02,0\n7.73143446737202,7.77143446737202,3.96,0\n7.73833482057762,7.77833482057762,0.03,0\n7.74160507828954,7.78160507828954,6.6,0\n7.74274516544238,7.78274516544238,4.45,0\n7.76746706327542,7.80746706327542,0.13,0\n7.77532425136226,7.81532425136226,0.03,0\n7.7874907169477,7.8274907169477,0,0\n7.79941968322647,7.83941968322647,0.02,0\n7.83257275927748,7.87257275927748,0.02,0\n7.890818033582,7.930818033582,3.12,0\n7.9455819538903,7.9855819538903,0.12,0\n7.96779470237645,8.00779470237645,0.03,0\n8.06182311448265,8.10182311448265,0,0\n8.07949521509398,8.11949521509398,0.28,0\n8.08275262005032,8.12275262005032,0,0\n8.16048543914345,8.20048543914345,0.4,0\n8.16135072701498,8.20135072701498,1.28,0\n8.25722218750484,8.29722218750484,0,0\n8.39301964604709,8.43301964604709,1.44,0\n8.93163311733722,8.97163311733722,0,0\n9.08755194976793,9.12755194976793,0.17,0"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n2.98870389795878\n9.41987804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0\n7.8645"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "rect",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "fill": {
            "value": "#333333"
          },
          "x": {
            "scale": "x",
            "field": "data.xmin_"
          },
          "x2": {
            "scale": "x",
            "field": "data.xmax_"
          },
          "y": {
            "scale": "y",
            "field": "data.stack_upr_"
          },
          "y2": {
            "scale": "y",
            "field": "data.stack_lwr_"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/count1/align2/stack3"
          }
        }
      },
      "from": {
        "data": ".0/count1/align2/stack3"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "wine"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id596291512").parseSpec(plot_id596291512_spec);
</script>
</div>
<div id="line-plot" class="section level4">
<h4>Line plot</h4>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(~log10(POP_CNTRY), ~log10(SQKM_CNTRY)) %&gt;%
  layer_lines()</code></pre>
<div id="plot_id510953261-container" class="ggvis-output-container">
<div id="plot_id510953261" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id510953261_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id510953261" data-renderer="svg">SVG</a>
 | 
<a id="plot_id510953261_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id510953261" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id510953261_download" class="ggvis-download" data-plot-id="plot_id510953261">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id510953261_spec = {
  "data": [
    {
      "name": ".0/arrange1",
      "format": {
        "type": "csv",
        "parse": {
          "log10(POP_CNTRY)": "number",
          "log10(SQKM_CNTRY)": "number"
        }
      },
      "values": "\"log10(POP_CNTRY)\",\"log10(SQKM_CNTRY)\"\n3.30102999566398,2.35758803489603\n4,1.45467720522038\n4.06111305391798,2.21833853137602\n4.11394335230684,1.48852251464441\n4.23044892137827,2.36461102327188\n4.63253827195037,2.4396831464847\n4.74299991428248,2.65560418680044\n4.8143275198769,2.66499716212117\n4.849241236658,2.86450930115933\n4.86332286012046,2.68915518583345\n4.88649072517248,3.02118516291232\n4.98049423339004,2.56449089109948\n4.9912260756925,2.84293670893973\n5.04320110717982,2.59063789801438\n5.04769143444058,2.84593975510924\n5.10925109975655,3.02027217683396\n5.1515016203943,2.78202663424162\n5.20139712432045,3.44757273961188\n5.21748394421391,4.09812087362559\n5.31719806050701,4.34586010321294\n5.41601940502049,2.64339542480372\n5.42690146308166,5.00777037523082\n5.43490248010949,4.10950362717532\n5.44965424127836,3.76114081227672\n5.56348108539441,4.44310208872105\n5.5639673178494,2.52161659042008\n5.58700677001905,4.43273366628145\n5.58778278039052,3.41398955976213\n5.61655217821508,3.59791425197255\n5.63147015058694,5.16285553115332\n5.6539366988864,4.33520991093879\n5.67942789661212,4.04527915587125\n5.76028221984882,2.81774248856863\n5.80253839020053,3.22003587403836\n5.80307591644867,4.13808312654993\n5.86866030542704,3.96505331917989\n5.87790725932633,5.32477882534843\n5.87794695162919,4.28699262931735\n5.9257070063971,4.23462126383944\n5.97128791230617,4.02847364745965\n6.03574063776276,4.52679648057406\n6.04029925662809,3.3086064537932\n6.11126251365907,3.71194626534631\n6.16035536570626,5.76343637087294\n6.19345715170741,5.41778497471989\n6.19744900413928,5.91740023210828\n6.20047593538909,4.60126681030785\n6.20161776633904,4.65843650123397\n6.2145789535705,4.23003923960408\n6.28516761933159,4.48218217672853\n6.29035587042793,4.30633256123811\n6.31424653528842,4.85268980721568\n6.3202102826877,5.49087375756611\n6.32305295990206,4.40348581000797\n6.34322676263482,6.01768846256236\n6.34795845785355,6.1928951411764\n6.36516513919509,5.53835942396721\n6.38158559734463,4.04312089256947\n6.40858675346489,4.87330379365417\n6.42426731240032,4.71099166827195\n6.42979925876038,4.8082034824618\n6.45086838325203,2.72101959468574\n6.4627634002849,4.98360838732888\n6.46878421174358,4.01029486722153\n6.48920462678372,5.25076339101285\n6.4982478178334,5.79344069623722\n6.52106456136693,4.71271735708082\n6.52856038127484,4.47527100280811\n6.53363798834259,4.4587058202339\n6.5475528263533,5.42621868583413\n6.56375047799133,5.08614902922593\n6.56991696482166,5.67341583406143\n6.57824484283565,4.81190461616369\n6.59662820978742,4.95072788379945\n6.60627740148872,5.66853611187201\n6.60727966152436,4.75815227995418\n6.63094658264145,5.11074925223026\n6.63633932818969,5.50100775485196\n6.65065423733728,4.52591226980523\n6.65115168185098,5.29959445392492\n6.65817801923144,4.86052623991848\n6.66910758762013,4.63012987934406\n6.67419707172182,5.36279544228496\n6.67883365159762,5.60215705181225\n6.69932702133266,4.75041418978726\n6.7003553632714,4.84126030983019\n6.70168703277181,5.52348230683887\n6.71394341799608,5.06638108285023\n6.71978813326902,6.20965305535408\n6.72973701685377,5.05250926019063\n6.73032691578297,4.68706774892642\n6.73096241400526,5.15354139217025\n6.73940349844012,4.93352880704855\n6.74784293603487,4.84474566566214\n6.75548533985421,4.3175163642471\n6.75985436243526,4.31589711765363\n6.77894954570774,4.43542816408337\n6.79994042645124,6.06744358643068\n6.82697092251671,4.6146694468645\n6.84787421635723,4.43388081677464\n6.88356576629009,6.03756712283343\n6.88960453831265,4.9229270027281\n6.88985931472282,4.68524930986484\n6.89951387200441,4.40188678170274\n6.90937168238936,5.29426932267702\n6.93551638490545,5.19145520647634\n6.94092553509759,5.64718699257845\n6.94342926790454,5.87781617651476\n6.9443710737421,6.07409237882873\n6.95149575969785,5.04454563979055\n6.96045060829703,5.26153001930686\n6.98342402025284,4.96425148650953\n6.98876994420118,6.09924785719034\n6.99788920195724,5.80554511791888\n6.99909207101421,4.94547724139135\n7.00140743685204,4.48400939146574\n7.00709413817894,5.43730524297252\n7.01315165811681,5.12008641216737\n7.01327593562272,4.96746468009679\n7.01372682746826,4.89484285690601\n7.01373313915719,5.03942124630655\n7.02207353181593,5.31529993007752\n7.02291559642892,5.40981819752422\n7.02777675972415,5.07564876414434\n7.04541217606029,5.04313819501313\n7.04558465039749,5.59195844456536\n7.06172608888228,6.09775034104936\n7.11550034331634,5.77441212022522\n7.12118151826874,5.66867164436435\n7.13029709319022,5.5081465547805\n7.13901940302001,5.87057840041182\n7.14753627646684,5.27401229002042\n7.18614006659336,5.62892090199381\n7.18885736045906,4.55013892812037\n7.22022998733365,5.89687267436488\n7.2226667975009,5.38017668859194\n7.23345073867782,6.43392592793777\n7.23679891813006,5.80744652850754\n7.25109093233821,6.88683700743434\n7.25767833492742,6.29229484591852\n7.25874165408133,5.3856954574464\n7.26297098252579,4.82334536935885\n7.29284020326769,5.51886859256559\n7.29793222584709,5.96216113700033\n7.29944802315571,5.16818091068653\n7.31893501567061,5.64905365647082\n7.321012348586,5.63990654167833\n7.34311285775287,5.0880389447737\n7.37181660545621,5.37411384944735\n7.38910226497626,6.11291050868933\n7.41221266844004,5.76673152610946\n7.4386883547711,6.36566990119748\n7.4426901235981,6.39627067715859\n7.44354334945302,5.60623063877285\n7.45310832930491,5.97542118080262\n7.45335381617543,6.99584132587985\n7.52887648120451,6.44420301900262\n7.53674259993077,6.05765165253952\n7.57877520649585,5.49236235103961\n7.5940363491695,5.70387097298343\n7.60889092294306,6.08705110741591\n7.61305832882186,6.36866372988614\n7.63447344109738,5.82595867822331\n7.63759878977747,4.99272406090048\n7.72544582215871,6.05397224660192\n7.72562516470822,5.77527604359636\n7.74922158033762,5.99251391923857\n7.75143446737202,5.38585141635643\n7.75833482057762,5.71192864586408\n7.76160507828954,5.73777201137465\n7.76274516544238,5.47853691639096\n7.78746706327542,5.89208691226933\n7.79532425136226,5.39107014109965\n7.8074907169477,6.21078921862354\n7.81941968322647,5.47441123310173\n7.85257275927748,5.51471054140608\n7.910818033582,5.55158272053082\n7.9655819538903,6.29290680373907\n7.98779470237645,5.9600132311674\n8.08182311448265,5.14147235926192\n8.09949521509398,5.57176635280671\n8.10275262005032,5.94337250802182\n8.18048543914345,6.92978296733828\n8.18135072701498,7.2266499041864\n8.27722218750484,6.28122477843913\n8.41301964604709,6.97546489635217\n8.95163311733722,6.48985755396475\n9.10755194976793,6.97029581805315"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n3.01070389795878\n9.39787804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n1.16607857027208\n7.5152485391347"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "line",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "x": {
            "scale": "x",
            "field": "data.log10(POP_CNTRY)"
          },
          "y": {
            "scale": "y",
            "field": "data.log10(SQKM_CNTRY)"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0/arrange1"
          }
        }
      },
      "from": {
        "data": ".0/arrange1"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "log10(SQKM_CNTRY)"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id510953261").parseSpec(plot_id510953261_spec);
</script>
</div>
<div id="boxplot-1" class="section level4">
<h4>Boxplot</h4>
<pre class="r"><code>data_vis %&gt;% 
  ggvis(x=~Continent, y=~wine,fill:=&quot;darkblue&quot;) %&gt;% 
  layer_boxplots()</code></pre>
<div id="plot_id961150009-container" class="ggvis-output-container">
<div id="plot_id961150009" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id961150009_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id961150009" data-renderer="svg">SVG</a>
 | 
<a id="plot_id961150009_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id961150009" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id961150009_download" class="ggvis-download" data-plot-id="plot_id961150009">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id961150009_spec = {
  "data": [
    {
      "name": ".0/group_by1/boxplot2_flat",
      "format": {
        "type": "csv",
        "parse": {
          "min_": "number",
          "max_": "number",
          "lower_": "number",
          "upper_": "number",
          "median_": "number"
        }
      },
      "values": "\"min_\",\"max_\",\"Continent\",\"lower_\",\"upper_\",\"median_\"\n0,0.35,\"Africa\",0.01,0.2625,0.055\n0,0.37,\"Asia\",0,0.1725,0.025\n0.13,7.49,\"Europe\",1.675,4.345,2.98\n0.01,1.9,\"North America\",0.09,0.93,0.19\n0.01,0.6,\"Oceania\",0.045,0.5875,0.175\n0.02,1.32,\"South America\",0.0775,1.09,0.27"
    },
    {
      "name": ".0/group_by1/boxplot2",
      "source": ".0/group_by1/boxplot2_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.Continent"
          ]
        }
      ]
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "format": {
        "type": "csv",
        "parse": {
          "value_": "number"
        }
      },
      "values": "\"value_\",\"Continent\"\n1.95,\"Africa\"\n0.75,\"Africa\"\n1.62,\"Africa\"\n3.67,\"Africa\"\n1.17,\"Africa\"\n0.69,\"Africa\"\n2.33,\"Africa\"\n1.29,\"Africa\"\n4.26,\"Africa\"\n0.46,\"Asia\"\n1.28,\"Asia\"\n0.81,\"Asia\"\n3.87,\"Oceania\"\n2.86,\"Oceania\"\n3.26,\"Oceania\"\n3.91,\"South America\"\n3.23,\"South America\"\n3.72,\"South America\""
    },
    {
      "name": ".0/group_by1/boxplot2/boxplot_outliers3",
      "source": ".0/group_by1/boxplot2/boxplot_outliers3_flat",
      "transform": [
        {
          "type": "treefacet",
          "keys": [
            "data.Continent"
          ]
        }
      ]
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Africa\"\n\"Asia\"\n\"Europe\"\n\"North America\"\n\"Oceania\"\n\"South America\""
    },
    {
      "name": "scale/xcenter",
      "format": {
        "type": "csv",
        "parse": {}
      },
      "values": "\"domain\"\n\"Africa\"\n\"Asia\"\n\"Europe\"\n\"North America\"\n\"Oceania\"\n\"South America\""
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3745\n7.8645"
    }
  ],
  "scales": [
    {
      "padding": 0.1,
      "type": "ordinal",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "name": "x",
      "points": false,
      "sort": false,
      "range": "width"
    },
    {
      "points": true,
      "padding": 1.1,
      "name": "xcenter",
      "type": "ordinal",
      "domain": {
        "data": "scale/xcenter",
        "field": "data.domain"
      },
      "sort": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "darkblue"
              },
              "y": {
                "scale": "y",
                "field": "data.min_"
              },
              "y2": {
                "scale": "y",
                "field": "data.max_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.Continent"
              },
              "width": {
                "value": 0.5
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "darkblue"
              },
              "x": {
                "scale": "x",
                "field": "data.Continent"
              },
              "y": {
                "scale": "y",
                "field": "data.lower_"
              },
              "y2": {
                "scale": "y",
                "field": "data.upper_"
              },
              "width": {
                "scale": "x",
                "band": true
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2"
      },
      "marks": [
        {
          "type": "rect",
          "properties": {
            "update": {
              "stroke": {
                "value": "#000000"
              },
              "fill": {
                "value": "darkblue"
              },
              "x": {
                "scale": "x",
                "field": "data.Continent"
              },
              "y": {
                "scale": "y",
                "field": "data.median_"
              },
              "width": {
                "scale": "x",
                "band": true
              },
              "height": {
                "value": 1
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2"
              }
            }
          }
        }
      ]
    },
    {
      "type": "group",
      "from": {
        "data": ".0/group_by1/boxplot2/boxplot_outliers3"
      },
      "marks": [
        {
          "type": "symbol",
          "properties": {
            "update": {
              "size": {
                "value": 50
              },
              "fill": {
                "value": "black"
              },
              "y": {
                "scale": "y",
                "field": "data.value_"
              },
              "x": {
                "scale": "xcenter",
                "field": "data.Continent"
              }
            },
            "ggvis": {
              "data": {
                "value": ".0/group_by1/boxplot2/boxplot_outliers3"
              }
            }
          }
        }
      ]
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "Continent"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "wine"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id961150009").parseSpec(plot_id961150009_spec);
</script>
</div>
<div id="make-the-plot-interactive" class="section level4">
<h4>Make the plot interactive</h4>
<p><code>ggvis</code> gives an option of interactive plotting. It is different interactive plotting than we saw in plotly but maybe useful for other things. For example we can allows the user to change the size of the points and the transperacy using a slider</p>
<pre class="r"><code>#add sliders to the size and the opacity
data_vis %&gt;% 
  ggvis(x =~log10(POP_CNTRY),
        y =~spirits,
        fill:=&quot;red&quot;,
        size := input_slider(10, 300),
        opacity := input_slider(0, 1)
        ) %&gt;% 
  layer_points()</code></pre>
<pre><code>## Warning: Can&#39;t output dynamic/interactive ggvis plots in a knitr document.
## Generating a static (non-dynamic, non-interactive) version of the plot.</code></pre>
<div id="plot_id909842472-container" class="ggvis-output-container">
<div id="plot_id909842472" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id909842472_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id909842472" data-renderer="svg">SVG</a>
 | 
<a id="plot_id909842472_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id909842472" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id909842472_download" class="ggvis-download" data-plot-id="plot_id909842472">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id909842472_spec = {
  "data": [
    {
      "name": ".0",
      "format": {
        "type": "csv",
        "parse": {
          "log10(POP_CNTRY)": "number",
          "spirits": "number",
          "reactive_709813571": "number",
          "reactive_192632214": "number"
        }
      },
      "values": "\"log10(POP_CNTRY)\",\"spirits\",\"reactive_709813571\",\"reactive_192632214\"\n4.8143275198769,3.25,155,0.5\n7.23679891813006,0,155,0.5\n7.4386883547711,0.04,155,0.5\n6.73940349844012,1.46,155,0.5\n6.53363798834259,2.23,155,0.5\n6.52856038127484,3.52,155,0.5\n4.74299991428248,2.68,155,0.5\n7.06172608888228,0.64,155,0.5\n7.52887648120451,0.45,155,0.5\n7.25109093233821,1.3,155,0.5\n6.88960453831265,1.7,155,0.5\n5.76028221984882,1.36,155,0.5\n5.41601940502049,3.97,155,0.5\n6.16035536570626,0.67,155,0.5\n7.00140743685204,1.47,155,0.5\n5.43490248010949,4.12,155,0.5\n8.08182311448265,0,155,0.5\n5.31719806050701,1.96,155,0.5\n6.42426731240032,0.63,155,0.5\n6.88356576629009,0.74,155,0.5\n7.63447344109738,0.16,155,0.5\n6.71394341799608,0.16,155,0.5\n7.02207353181593,6.73,155,0.5\n5.56348108539441,0.07,155,0.5\n8.18048543914345,2.66,155,0.5\n6.20047593538909,0.1,155,0.5\n6.95149575969785,5.02,155,0.5\n5.44965424127836,0.03,155,0.5\n6.77894954570774,0,155,0.5\n7.45335381617543,2.1,155,0.5\n6.96045060829703,1.27,155,0.5\n6.79994042645124,0.03,155,0.5\n7.26297098252579,1.97,155,0.5\n6.36516513919509,0.35,155,0.5\n7.61305832882186,0.04,155,0.5\n9.10755194976793,3.98,155,0.5\n7.13901940302001,2.33,155,0.5\n7.12118151826874,0,155,0.5\n5.80253839020053,0.08,155,0.5\n7.53674259993077,1.36,155,0.5\n6.52106456136693,1.28,155,0.5\n6.4982478178334,0.04,155,0.5\n7.04541217606029,2.41,155,0.5\n5.61655217821508,0.61,155,0.5\n4.23044892137827,5.79,155,0.5\n5.86866030542704,4.86,155,0.5\n6.66910758762013,1.44,155,0.5\n5.6539366988864,0.18,155,0.5\n4.849241236658,6.16,155,0.5\n6.88985931472282,2.57,155,0.5\n7.02291559642892,1.21,155,0.5\n7.74922158033762,0.08,155,0.5\n6.7003553632714,2.22,155,0.5\n5.58700677001905,0,155,0.5\n6.20161776633904,5.64,155,0.5\n6.56375047799133,0,155,0.5\n6.75985436243526,1.32,155,0.5\n7.72544582215871,0.06,155,0.5\n7.01372682746826,3.3,155,0.5\n6.70168703277181,2.33,155,0.5\n5.87794695162919,0.88,155,0.5\n5.04769143444058,0.6,155,0.5\n7.76160507828954,2.7,155,0.5\n5.97128791230617,0.01,155,0.5\n6.19345715170741,1.69,155,0.5\n6.74784293603487,2.11,155,0.5\n7.2226667975009,0.04,155,0.5\n4.98049423339004,3.73,155,0.5\n7.910818033582,2.08,155,0.5\n7.01315165811681,1.85,155,0.5\n7.01373313915719,1.22,155,0.5\n7.79532425136226,0.01,155,0.5\n5.87790725932633,5.74,155,0.5\n6.84787421635723,5.73,155,0.5\n6.72973701685377,1.71,155,0.5\n6.69932702133266,1.19,155,0.5\n7.01327593562272,3.7,155,0.5\n5.42690146308166,0.87,155,0.5\n8.27722218750484,0.01,155,0.5\n8.95163311733722,2.6,155,0.5\n7.8074907169477,0.03,155,0.5\n6.75548533985421,1.24,155,0.5\n7.76274516544238,0.84,155,0.5\n7.13029709319022,0.02,155,0.5\n7.321012348586,0.04,155,0.5\n8.09949521509398,3.76,155,0.5\n6.38158559734463,1.79,155,0.5\n6.59662820978742,0.39,155,0.5\n7.41221266844004,0.4,155,0.5\n6.65115168185098,2,155,0.5\n7.34311285775287,2.96,155,0.5\n4.88649072517248,0,155,0.5\n7.63759878977747,0.4,155,0.5\n6.2145789535705,0.01,155,0.5\n7.23345073867782,4.35,155,0.5\n6.67419707172182,3.56,155,0.5\n6.46878421174358,0.9,155,0.5\n6.42979925876038,3.61,155,0.5\n6.57824484283565,4.4,155,0.5\n6.4627634002849,3.28,155,0.5\n6.73032691578297,4.6,155,0.5\n6.28516761933159,0.61,155,0.5\n5.58778278039052,2.39,155,0.5\n6.71978813326902,0,155,0.5\n7.11550034331634,0.33,155,0.5\n6.65065423733728,3.54,155,0.5\n6.34795845785355,4.04,155,0.5\n7.02777675972415,0.17,155,0.5\n6.32305295990206,0.39,155,0.5\n6.98876994420118,0.02,155,0.5\n7.44354334945302,0.09,155,0.5\n6.04029925662809,0.79,155,0.5\n6.34322676263482,0,155,0.5\n5.5639673178494,1.62,155,0.5\n6.3202102826877,0.31,155,0.5\n4.06111305391798,0.88,155,0.5\n5.80307591644867,2.47,155,0.5\n7.9655819538903,1.12,155,0.5\n7.29284020326769,0.1,155,0.5\n7.22022998733365,0.19,155,0.5\n3.30102999566398,2.4,155,0.5\n6.9443710737421,0.05,155,0.5\n5.21748394421391,0.38,155,0.5\n7.98779470237645,0.08,155,0.5\n7.18885736045906,1.58,155,0.5\n6.63633932818969,1.25,155,0.5\n7.29944802315571,0.12,155,0.5\n4,0,155,0.5\n5.63147015058694,2.93,155,0.5\n6.63094658264145,2.03,155,0.5\n6.5475528263533,1.46,155,0.5\n6.67883365159762,1.88,155,0.5\n7.38910226497626,1.67,155,0.5\n8.10275262005032,0.03,155,0.5\n7.57877520649585,3.77,155,0.5\n6.40858675346489,1.79,155,0.5\n6.98342402025284,0.93,155,0.5\n6.60627740148872,0.02,155,0.5\n6.03574063776276,0.54,155,0.5\n5.67942789661212,0.71,155,0.5\n7.37181660545621,1.9,155,0.5\n7.81941968322647,3.37,155,0.5\n8.18135072701498,5.53,155,0.5\n6.89951387200441,0.04,155,0.5\n7.25767833492742,0.09,155,0.5\n4.63253827195037,3.84,155,0.5\n4.86332286012046,1.42,155,0.5\n7.60889092294306,1.21,155,0.5\n6.90937168238936,0.03,155,0.5\n6.29035587042793,0.89,155,0.5\n6.65817801923144,0.02,155,0.5\n6.45086838325203,0.27,155,0.5\n6.99788920195724,0,155,0.5\n7.5940363491695,2.76,155,0.5\n6.99909207101421,2.12,155,0.5\n5.1515016203943,5.55,155,0.5\n7.4426901235981,0.29,155,0.5\n6.94092553509759,1.1,155,0.5\n7.14753627646684,0.46,155,0.5\n6.82697092251671,1.77,155,0.5\n6.31424653528842,1.38,155,0.5\n6.11126251365907,2.75,155,0.5\n7.75833482057762,4.31,155,0.5\n6.73096241400526,0.29,155,0.5\n4.9912260756925,0.23,155,0.5\n6.60727966152436,0.02,155,0.5\n5.10925109975655,0.52,155,0.5\n6.93551638490545,0.06,155,0.5\n7.78746706327542,0.5,155,0.5\n4.11394335230684,0.36,155,0.5\n6.56991696482166,1.32,155,0.5\n7.45310832930491,0.24,155,0.5\n7.25874165408133,0.15,155,0.5\n7.75143446737202,2.25,155,0.5\n7.72562516470822,4.06,155,0.5\n8.41301964604709,2.8,155,0.5\n7.00709413817894,0.12,155,0.5\n6.48920462678372,0.59,155,0.5\n7.31893501567061,1.97,155,0.5\n5.04320110717982,4.22,155,0.5\n7.29793222584709,1.67,155,0.5\n7.85257275927748,2.09,155,0.5\n5.20139712432045,0.35,155,0.5\n5.9257070063971,0.02,155,0.5\n7.18614006659336,0,155,0.5\n6.94342926790454,0.37,155,0.5\n7.04558465039749,0.34,155,0.5\n6.19744900413928,0.07,155,0.5"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n3.01070389795878\n9.39787804747312"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.3365\n7.0665"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "symbol",
      "properties": {
        "update": {
          "x": {
            "scale": "x",
            "field": "data.log10(POP_CNTRY)"
          },
          "y": {
            "scale": "y",
            "field": "data.spirits"
          },
          "fill": {
            "value": "red"
          },
          "size": {
            "field": "data.reactive_709813571"
          },
          "opacity": {
            "field": "data.reactive_192632214"
          }
        },
        "ggvis": {
          "data": {
            "value": ".0"
          }
        }
      },
      "from": {
        "data": ".0"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "log10(POP_CNTRY)"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id909842472").parseSpec(plot_id909842472_spec);
</script>
<p>Input a check box</p>
<pre class="r"><code>model_type &lt;- input_checkbox(label = &quot;Use flexible curve&quot;,
  map = function(val) if(val) &quot;loess&quot; else &quot;lm&quot;)
ggvis(data = data_vis,x=~total, y=~spirits) %&gt;%
  layer_model_predictions(model = model_type)</code></pre>
<div id="plot_id395128647-container" class="ggvis-output-container">
<div id="plot_id395128647" class="ggvis-output"></div>
<div class="plot-gear-icon">
<nav class="ggvis-control">
<a class="ggvis-dropdown-toggle" title="Controls" onclick="return false;"></a>
<ul class="ggvis-dropdown">
<li>
Renderer: 
<a id="plot_id395128647_renderer_svg" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id395128647" data-renderer="svg">SVG</a>
 | 
<a id="plot_id395128647_renderer_canvas" class="ggvis-renderer-button" onclick="return false;" data-plot-id="plot_id395128647" data-renderer="canvas">Canvas</a>
</li>
<li>
<a id="plot_id395128647_download" class="ggvis-download" data-plot-id="plot_id395128647">Download</a>
</li>
</ul>
</nav>
</div>
</div>
<script type="text/javascript">
var plot_id395128647_spec = {
  "data": [
    {
      "name": "data_vis0/model_prediction1",
      "format": {
        "type": "csv",
        "parse": {
          "pred_": "number",
          "resp_": "number"
        }
      },
      "values": "\"pred_\",\"resp_\"\n0,0.208781518317703\n0.166582278481013,0.257649826975872\n0.333164556962025,0.30651813563404\n0.499746835443038,0.355386444292209\n0.666329113924051,0.404254752950378\n0.832911392405063,0.453123061608547\n0.999493670886076,0.501991370266716\n1.16607594936709,0.550859678924885\n1.3326582278481,0.599727987583054\n1.49924050632911,0.648596296241223\n1.66582278481013,0.697464604899392\n1.83240506329114,0.74633291355756\n1.99898734177215,0.795201222215729\n2.16556962025316,0.844069530873898\n2.33215189873418,0.892937839532067\n2.49873417721519,0.941806148190236\n2.6653164556962,0.990674456848405\n2.83189873417721,1.03954276550657\n2.99848101265823,1.08841107416474\n3.16506329113924,1.13727938282291\n3.33164556962025,1.18614769148108\n3.49822784810127,1.23501600013925\n3.66481012658228,1.28388430879742\n3.83139240506329,1.33275261745559\n3.9979746835443,1.38162092611376\n4.16455696202532,1.43048923477193\n4.33113924050633,1.47935754343009\n4.49772151898734,1.52822585208826\n4.66430379746835,1.57709416074643\n4.83088607594937,1.6259624694046\n4.99746835443038,1.67483077806277\n5.16405063291139,1.72369908672094\n5.3306329113924,1.77256739537911\n5.49721518987342,1.82143570403728\n5.66379746835443,1.87030401269544\n5.83037974683544,1.91917232135361\n5.99696202531646,1.96804063001178\n6.16354430379747,2.01690893866995\n6.33012658227848,2.06577724732812\n6.49670886075949,2.11464555598629\n6.66329113924051,2.16351386464446\n6.82987341772152,2.21238217330263\n6.99645569620253,2.2612504819608\n7.16303797468354,2.31011879061897\n7.32962025316456,2.35898709927713\n7.49620253164557,2.4078554079353\n7.66278481012658,2.45672371659347\n7.82936708860759,2.50559202525164\n7.99594936708861,2.55446033390981\n8.16253164556962,2.60332864256798\n8.32911392405063,2.65219695122615\n8.49569620253165,2.70106525988432\n8.66227848101266,2.74993356854249\n8.82886075949367,2.79880187720065\n8.99544303797468,2.84767018585882\n9.1620253164557,2.89653849451699\n9.32860759493671,2.94540680317516\n9.49518987341772,2.99427511183333\n9.66177215189873,3.0431434204915\n9.82835443037975,3.09201172914967\n9.99493670886076,3.14088003780784\n10.1615189873418,3.18974834646601\n10.3281012658228,3.23861665512417\n10.4946835443038,3.28748496378234\n10.6612658227848,3.33635327244051\n10.8278481012658,3.38522158109868\n10.9944303797468,3.43408988975685\n11.1610126582278,3.48295819841502\n11.3275949367089,3.53182650707319\n11.4941772151899,3.58069481573136\n11.6607594936709,3.62956312438953\n11.8273417721519,3.67843143304769\n11.9939240506329,3.72729974170586\n12.1605063291139,3.77616805036403\n12.3270886075949,3.8250363590222\n12.4936708860759,3.87390466768037\n12.660253164557,3.92277297633854\n12.826835443038,3.97164128499671\n12.993417721519,4.02050959365488\n13.16,4.06937790231305"
    },
    {
      "name": "scale/x",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n-0.658\n13.818"
    },
    {
      "name": "scale/y",
      "format": {
        "type": "csv",
        "parse": {
          "domain": "number"
        }
      },
      "values": "\"domain\"\n0.0157516991179355\n4.26240772151281"
    }
  ],
  "scales": [
    {
      "name": "x",
      "domain": {
        "data": "scale/x",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "width"
    },
    {
      "name": "y",
      "domain": {
        "data": "scale/y",
        "field": "data.domain"
      },
      "zero": false,
      "nice": false,
      "clamp": false,
      "range": "height"
    }
  ],
  "marks": [
    {
      "type": "line",
      "properties": {
        "update": {
          "stroke": {
            "value": "#000000"
          },
          "strokeWidth": {
            "value": 2
          },
          "x": {
            "scale": "x",
            "field": "data.pred_"
          },
          "y": {
            "scale": "y",
            "field": "data.resp_"
          },
          "fill": {
            "value": "transparent"
          }
        },
        "ggvis": {
          "data": {
            "value": "data_vis0/model_prediction1"
          }
        }
      },
      "from": {
        "data": "data_vis0/model_prediction1"
      }
    }
  ],
  "legends": [],
  "axes": [
    {
      "type": "x",
      "scale": "x",
      "orient": "bottom",
      "layer": "back",
      "grid": true,
      "title": "total"
    },
    {
      "type": "y",
      "scale": "y",
      "orient": "left",
      "layer": "back",
      "grid": true,
      "title": "spirits"
    }
  ],
  "padding": null,
  "ggvis_opts": {
    "keep_aspect": false,
    "resizable": true,
    "padding": {},
    "duration": 250,
    "renderer": "svg",
    "hover_duration": 0,
    "width": 672,
    "height": 480
  },
  "handlers": null
};
ggvis.getPlot("plot_id395128647").parseSpec(plot_id395128647_spec);
</script>
<p>Add an input select bar</p>
<p>Here is a good comperison review of <code>ggplot2</code> vs. <code>ggvis</code> and the difference between them <a href="https://stats.stackexchange.com/questions/117078/for-plotting-with-r-should-i-learn-ggplot2-or-ggvis/117080" class="uri">https://stats.stackexchange.com/questions/117078/for-plotting-with-r-should-i-learn-ggplot2-or-ggvis/117080</a></p>
<p>Here is a good comparison between the different available packages for plotting in R <a href="http://ouzor.github.io/blog/2014/11/21/interactive-visualizations.html" class="uri">http://ouzor.github.io/blog/2014/11/21/interactive-visualizations.html</a> ## Introduction to 3D</p>
</div>
</div>
</div>
</div>
<div id="geographic-plotting" class="section level1">
<h1>Geographic plotting</h1>
<p>We can plot two types of geographical plots in R - stationary and interactive. The first one is done with ggplot the second is mainly done with leaflet but note that there are some more packages out there. We’ll start with ggplot</p>
<div id="ggplot2" class="section level2">
<h2>ggplot2</h2>
<p>For this we need a few packages that we uploaded before: <code>maps</code>, <code>mapdata</code>, and <code>ggplot2</code> * The <code>maps</code> package contains a lot of outlines of continents, countries, states, and counties that have been with R for a long time. * The <code>mapdata</code> package contains a few more, higher-resolution outlines. * The <code>maps</code> package comes with a plotting function, but, we will opt to use <code>ggplot2</code> to plot the maps in the <code>maps</code> package. * Recall that <code>ggplot2</code> operates on data frames. Therefore we need some way to translate the maps data into a data frame format the <code>ggplot</code> can use.</p>
<p>First we’ll create a world map tamplate that we will use to map our data on it</p>
<pre class="r"><code>w2hr &lt;- map_data(&quot;world2Hires&quot;)</code></pre>
</div>
<div id="leaflet" class="section level2">
<h2>leaflet</h2>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
